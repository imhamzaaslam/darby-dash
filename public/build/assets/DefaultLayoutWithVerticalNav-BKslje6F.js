import{_ as se}from"./AppLoadingIndicator-CEhQWkKg.js";import{_ as H,R as K,U as k,T as Q,r as C,W as oe,X as le,Y as X,l as q,j as D,w as O,a as G,o as s,f as v,e as l,d as N,z as E,b as m,n as e,P as F,p as f,I,h,q as x,J as S,y as V,Z as re,c as A,F as Z,i as ee,x as _,$ as ce,a0 as de,k as ue,a1 as ve,m as Y,a2 as L,a3 as pe,s as M,t as T,v as P,a4 as te,a5 as me,a6 as fe,a7 as ge,a8 as he,A as ye,B as be,a9 as ae,aa as Ne,ab as ke,ac as U,V as xe,Q as $e,S as _e}from"./main-C5nI4Fu0.js";import Ce from"./NavbarThemeSwitcher-DiH3-iof.js";import Ve from"./NavBarNotifications-vMMGBPl_.js";import we from"./UserProfile-DDXkcY3u.js";import{c as Ie,a as ne}from"./casl-BHQ6nsj3.js";const Se=K({name:"TransitionExpand",setup(t,{slots:a}){const u=n=>{const o=getComputedStyle(n).width;n.style.width=o,n.style.position="absolute",n.style.visibility="hidden",n.style.height="auto";const y=getComputedStyle(n).height;n.style.width="",n.style.position="",n.style.visibility="",n.style.height="0px",getComputedStyle(n).height,requestAnimationFrame(()=>{n.style.height=y})},r=n=>{n.style.height="auto"},c=n=>{const o=getComputedStyle(n).height;n.style.height=o,getComputedStyle(n).height,requestAnimationFrame(()=>{n.style.height="0px"})};return()=>k(k(Q),{name:"expand",onEnter:u,onAfterEnter:r,onLeave:c},()=>{var n;return(n=a.default)==null?void 0:n.call(a)})}}),Ae=H(Se,[["__scopeId","data-v-2683bda9"]]),je=t=>(ce("data-v-18c4988b"),t=t(),de(),t),Re={class:"nav-header"},Le=je(()=>N("div",{class:"vertical-nav-items-shadow"},null,-1)),Oe={__name:"VerticalNav",props:{tag:{type:null,required:!1,default:"aside"},navItems:{type:null,required:!0},isOverlayNavActive:{type:Boolean,required:!0},toggleIsOverlayNavActive:{type:Function,required:!0}},setup(t){const a=t,u=C(),r=oe(u);le(X,r);const c=q(),n=g=>"heading"in g?Ee:"children"in g?Be:ie,o=D();O(()=>o.name,()=>{a.toggleIsOverlayNavActive(!1)});const y=C(!1),b=g=>y.value=g,j=g=>{y.value=g.target.scrollTop>0},$=c.isVerticalNavMini(r);return(g,i)=>{const p=G("RouterLink");return s(),v(h(a.tag),{ref_key:"refNav",ref:u,class:_(["layout-vertical-nav",[{"overlay-nav":e(c).isLessThanOverlayNavBreakpoint,hovered:e(r),visible:t.isOverlayNavActive,scrolled:e(y)}]])},{default:l(()=>[N("div",Re,[E(g.$slots,"nav-header",{},()=>[m(p,{to:"/",class:"app-logo app-title-wrapper"},{default:l(()=>[e($)?(s(),v(e(F),{key:1,nodes:e(f).app.logoHalf},null,8,["nodes"])):(s(),v(e(F),{key:0,nodes:e(f).app.logo},null,8,["nodes"]))]),_:1}),I((s(),v(h(e(f).app.iconRenderer||"div"),x({class:["header-action d-none nav-unpin",e(c).isVerticalNavCollapsed&&"d-lg-block"]},e(f).icons.verticalNavUnPinned,{onClick:i[0]||(i[0]=d=>e(c).isVerticalNavCollapsed=!e(c).isVerticalNavCollapsed)}),null,16,["class"])),[[S,e(c).isVerticalNavCollapsed]]),I((s(),v(h(e(f).app.iconRenderer||"div"),x({class:["header-action d-none nav-pin",!e(c).isVerticalNavCollapsed&&"d-lg-block"]},e(f).icons.verticalNavPinned,{onClick:i[1]||(i[1]=d=>e(c).isVerticalNavCollapsed=!e(c).isVerticalNavCollapsed)}),null,16,["class"])),[[S,!e(c).isVerticalNavCollapsed]]),(s(),v(h(e(f).app.iconRenderer||"div"),x({class:"header-action d-lg-none"},e(f).icons.close,{onClick:i[2]||(i[2]=d=>t.toggleIsOverlayNavActive(!1))}),null,16))],!0)]),E(g.$slots,"before-nav-items",{},()=>[Le],!0),m(p,{to:"/",class:"bottom-logo"},{default:l(()=>[e($)?V("",!0):(s(),v(e(F),{key:0,nodes:e(f).app.watermarkLogo},null,8,["nodes"]))]),_:1}),E(g.$slots,"nav-items",{updateIsVerticalNavScrolled:b},()=>[(s(),v(e(re),{key:e(c).isAppRTL,tag:"ul",class:"nav-items",options:{wheelPropagation:!1},onPsScrollY:j},{default:l(()=>[(s(!0),A(Z,null,ee(t.navItems,(d,R)=>(s(),v(h(n(d)),{key:R,item:d},null,8,["item"]))),128))]),_:1}))],!0)]),_:3},8,["class"])}}},Te=H(Oe,[["__scopeId","data-v-18c4988b"]]),Pe={class:"nav-group-children"},Be=Object.assign({name:"VerticalNavGroup"},{__name:"VerticalNavGroup",props:{item:{type:null,required:!0}},setup(t){const a=t,u=D(),r=ue(),c=q(),n=c.isVerticalNavMini(),o=ve(X,C(!1)),y=C(!1),b=C(!1),j=i=>i.some(p=>{let d=L.value.includes(p.title);return"children"in p&&(d=j(p.children)||d),d}),$=i=>{i.forEach(p=>{"children"in p&&$(p.children),L.value=L.value.filter(d=>d!==p.title)})};O(()=>u.path,()=>{const i=Y(a.item.children,r);b.value=i&&!c.isVerticalNavMini(o).value,y.value=i},{immediate:!0}),O(b,i=>{const p=L.value.indexOf(a.item.title);i&&p===-1?L.value.push(a.item.title):!i&&p!==-1&&(L.value.splice(p,1),$(a.item.children))},{immediate:!0}),O(L,i=>{if(i.at(-1)===a.item.title)return;const d=Y(a.item.children,r);d||j(a.item.children)||(b.value=d,y.value=d)},{deep:!0}),O(c.isVerticalNavMini(o),i=>{b.value=i?!1:y.value});const g=pe();return(i,p)=>e(Ie)(t.item)?(s(),A("li",{key:0,class:_(["nav-group",[{active:e(y),open:e(b),disabled:t.item.disable}]])},[N("div",{class:"nav-group-label",onClick:p[0]||(p[0]=d=>b.value=!e(b))},[(s(),v(h(e(f).app.iconRenderer||"div"),x(t.item.icon||e(f).verticalNav.defaultNavItemIconProps,{class:"nav-item-icon"}),null,16)),(s(),v(h(e(g)?te:"div"),x({name:"transition-slide-x"},e(g)?void 0:{class:"d-flex align-center flex-grow-1"}),{default:l(()=>[I((s(),v(h(e(f).app.i18n.enable?"i18n-t":"span"),x(e(M)(t.item.title,"span"),{key:"title",class:"nav-item-title"}),{default:l(()=>[T(P(t.item.title),1)]),_:1},16)),[[S,!e(n)]]),t.item.badgeContent?I((s(),v(h(e(f).app.i18n.enable?"i18n-t":"span"),x({key:0},e(M)(t.item.badgeContent,"span"),{key:"badge",class:["nav-item-badge",t.item.badgeClass]}),{default:l(()=>[T(P(t.item.badgeContent),1)]),_:1},16,["class"])),[[S,!e(n)]]):V("",!0),I((s(),v(h(e(f).app.iconRenderer||"div"),x(e(f).icons.chevronRight,{key:"arrow",class:"nav-group-arrow"}),null,16)),[[S,!e(n)]])]),_:1},16))]),m(e(Ae),null,{default:l(()=>[I(N("ul",Pe,[(s(!0),A(Z,null,ee(t.item.children,d=>(s(),v(h("children"in d?"VerticalNavGroup":e(ie)),{key:d.title,item:d},null,8,["item"]))),128))],512),[[S,e(b)]])]),_:1})],2)):V("",!0)}}),Me=K({props:{navItems:{type:Array,required:!0},verticalNavAttrs:{type:Object,default:()=>({})}},setup(t,{slots:a}){const{width:u}=me(),r=q(),c=C(!1),n=C(!1),o=fe(c);return ge(c,n),O(u,()=>{!r.isLessThanOverlayNavBreakpoint&&n.value&&(n.value=!1)}),()=>{var w,W,z;const y=he(t,"verticalNavAttrs"),{wrapper:b,wrapperProps:j,...$}=y.value,g=k(Te,{isOverlayNavActive:c.value,toggleIsOverlayNavActive:o,navItems:t.navItems,...$},{"nav-header":()=>{var B;return(B=a["vertical-nav-header"])==null?void 0:B.call(a)},"before-nav-items":()=>{var B;return(B=a["before-vertical-nav-items"])==null?void 0:B.call(a)}}),i=k("header",{class:["layout-navbar",{"navbar-blur":r.isNavbarBlurEnabled}]},[k("div",{class:"navbar-content-container"},(w=a.navbar)==null?void 0:w.call(a,{toggleVerticalOverlayNavActive:o}))]),p=k("main",{class:"layout-page-content"},k("div",{class:"page-content-container"},(W=a.default)==null?void 0:W.call(a))),d=k("footer",{class:"layout-footer"},[k("div",{class:"footer-content-container"},(z=a.footer)==null?void 0:z.call(a))]),R=k("div",{class:["layout-overlay",{visible:n.value}],onClick:()=>{n.value=!n.value}});return k("div",{class:["layout-wrapper",...r._layoutClasses]},[b?k(b,j,{default:()=>g}):g,k("div",{class:"layout-content-wrapper"},[i,p,d]),R])}}}),ie={__name:"VerticalNavLink",props:{item:{type:null,required:!0}},setup(t){const u=q().isVerticalNavMini();return(r,c)=>e(ne)(t.item.action,t.item.subject)?(s(),A("li",{key:0,class:_(["nav-link",{disabled:t.item.disable}])},[(s(),v(h(t.item.to?"RouterLink":"a"),x(e(be)(t.item),{class:{"router-link-active router-link-exact-active":e(ye)(t.item,r.$router)}}),{default:l(()=>[(s(),v(h(e(f).app.iconRenderer||"div"),x(t.item.icon||e(f).verticalNav.defaultNavItemIconProps,{class:"nav-item-icon"}),null,16)),m(te,{name:"transition-slide-x"},{default:l(()=>[I((s(),v(h(e(f).app.i18n.enable?"i18n-t":"span"),x({key:"title",class:"nav-item-title"},e(M)(t.item.title,"span")),{default:l(()=>[T(P(t.item.title),1)]),_:1},16)),[[S,!e(u)]]),t.item.badgeContent?I((s(),v(h(e(f).app.i18n.enable?"i18n-t":"span"),x({key:"badge",class:["nav-item-badge",t.item.badgeClass]},e(M)(t.item.badgeContent,"span")),{default:l(()=>[T(P(t.item.badgeContent),1)]),_:1},16,["class"])),[[S,!e(u)]]):V("",!0)]),_:1})]),_:1},16,["class"]))],2)):V("",!0)}},qe={key:0,class:"nav-section-title"},Ge={class:"title-wrapper"},Ee={__name:"VerticalNavSectionTitle",props:{item:{type:null,required:!0}},setup(t){const u=q().isVerticalNavMini();return(r,c)=>e(ne)(t.item.action,t.item.subject)?(s(),A("li",qe,[N("div",Ge,[m(Q,{name:"vertical-nav-section-title",mode:"out-in"},{default:l(()=>[(s(),v(h(e(u)?e(f).app.iconRenderer:e(f).app.i18n.enable?"i18n-t":"span"),x({key:e(u),class:e(u)?"placeholder-icon":"title-text"},{...e(f).icons.sectionTitlePlaceholder,...e(M)(t.item.heading,"span")}),{default:l(()=>[T(P(e(u)?null:t.item.heading),1)]),_:1},16,["class"]))]),_:1})])])):V("",!0)}},J=ae().isAdmin,Fe=[{title:"Home",to:{name:"root"},icon:{icon:"tabler-align-box-bottom-center"}},{title:"Projects",icon:{icon:"tabler-chart-histogram"},to:{name:"web-designs-list"}},J&&{title:"Members",icon:{icon:"tabler-users"},to:{name:"members-list"}},J&&{title:"Roles",icon:{icon:"tabler-shield-check"},to:{name:"roles-setting"}}],He=Fe.filter(Boolean),De={class:"d-flex h-100 align-center"},We={key:0,class:"d-flex align-center"},ze={key:1,class:"text-h6 font-weight-bold me-4"},Ye={key:0},Ue={class:"text-primary"},Je={__name:"DefaultLayoutWithVerticalNav",setup(t){const a=C(!1),u=C(null),r=D(),c=Ne(),n=ae(),o=C(null);C(null),ke(()=>{o.value=r.params.id}),O([a,u],()=>{a.value&&u.value&&u.value.fallbackHandle(),!a.value&&u.value&&u.value.resolveHandle()},{immediate:!0});const y=U(()=>r.params.id!==void 0),b=U(()=>c.getProject);return(j,$)=>{const g=G("IconBtn"),i=G("RouterLink"),p=se,d=G("RouterView");return s(),v(e(Me),{"nav-items":e(He)},{navbar:l(({toggleVerticalOverlayNavActive:R})=>[N("div",De,[m(g,{id:"vertical-nav-toggle-btn",class:"ms-n3 d-lg-none",onClick:w=>R(!0)},{default:l(()=>[m(xe,{size:"26",icon:"tabler-menu-2"})]),_:2},1032,["onClick"]),m(Ce),e(y)?(s(),A("div",We,[m(i,{to:`/projects/web-designs/${e(o)}`},{default:l(()=>[N("span",{class:_(["text-h6 ms-3 me-5 inner-badge-text",{"text-primary":e(r).path===`/projects/web-designs/${e(o)}`}])},"Overview",2)]),_:1},8,["to"]),m(i,{to:`/projects/${e(o)}/tasks/add`},{default:l(()=>[N("span",{class:_(["text-h6 me-8 inner-badge-text",{"text-primary":e(r).path===`/projects/${e(o)}/tasks/add`}])}," Tasks ",2)]),_:1},8,["to"]),m(i,{to:`/projects/${e(o)}/milestones`,class:_(["text-h6 me-8 inner-badge-text",{"text-primary":e(r).path===`/projects/${e(o)}/milestones`}])},{default:l(()=>[T(" Milestones ")]),_:1},8,["to","class"]),m(i,{to:`/projects/${e(o)}/calendar`},{default:l(()=>[N("span",{class:_(["text-h6 me-8 inner-badge-text",{"text-primary":e(r).path===`/projects/${e(o)}/calendar`}])},"Calendar",2)]),_:1},8,["to"]),m(i,{to:`/projects/${e(o)}/files`},{default:l(()=>[N("span",{class:_(["text-h6 me-8 inner-badge-text",{"text-primary":e(r).path===`/projects/${e(o)}/files`}])},"Files",2)]),_:1},8,["to"]),m(i,{to:`/projects/${e(o)}/chat`},{default:l(()=>[N("span",{class:_(["text-h6 me-5 inner-badge-text",{"text-primary":e(r).path===`/projects/${e(o)}/chat`}])}," Inbox ",2)]),_:1},8,["to"]),m(i,{to:`/projects/${e(o)}/team`},{default:l(()=>[N("span",{class:_(["text-h6 me-8 inner-badge-text",{"text-primary":e(r).path===`/projects/${e(o)}/team`}])},"Your Team",2)]),_:1},8,["to"]),m(i,{to:`/projects/${e(o)}/payments`},{default:l(()=>[N("span",{class:_(["text-h6 me-8 inner-badge-text",{"text-primary":e(r).path===`/projects/${e(o)}/payments`}])},"Payments",2)]),_:1},8,["to"])])):V("",!0),m($e),e(y)?(s(),A("span",ze,[e(n).isAdmin||e(n).isManager?(s(),A("span",Ye,[m(i,{to:`/projects/${e(o)}/bucks`},{default:l(()=>{var w;return[T(" Darby Bucks "),N("span",Ue,"$"+P((w=e(b))==null?void 0:w.bucks_share_amount),1)]}),_:1},8,["to"])])):V("",!0)])):V("",!0),m(Ve,{class:"me-2"}),m(we)])]),default:l(()=>[m(p,{ref_key:"refLoadingIndicator",ref:u},null,512),m(d,null,{default:l(({Component:R})=>[(s(),v(_e,{timeout:0,onFallback:$[0]||($[0]=w=>a.value=!0),onResolve:$[1]||($[1]=w=>a.value=!1)},{default:l(()=>[(s(),v(h(R)))]),_:2},1024))]),_:1})]),_:1},8,["nav-items"])}}},at=H(Je,[["__scopeId","data-v-9665b6fb"]]);export{at as default};
