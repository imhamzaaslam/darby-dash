import{aB as F,aC as J,aD as M,aE as R,aF as $,b as e,E as G,aG as H,aH as O,k as j,a4 as q,o as m,f as p,e as t,al as w,n as s,aI as C,c as P,v as f,a8 as K,a9 as Q,aa as g,ae as D,ab as h,t as _,aJ as W,ak as X,a5 as E}from"./main-B5Uatcb1.js";const Y=F({start:Boolean,end:Boolean,...J(),...M()},"VListItemAction"),Z=R()({name:"VListItemAction",props:Y(),setup(l,c){let{slots:d}=c;return $(()=>e(l.tag,{class:["v-list-item-action",{"v-list-item-action--start":l.start,"v-list-item-action--end":l.end},l.class],style:l.style},d)),{}}}),tt={key:1},et={key:1},st={__name:"UserProfile",setup(l){G(()=>{z()});const c=H(),d=O(),N=j();async function T(){let r=d.token,o=await d.logout(r);o.success?N.push({name:"login"}):alert(o.data.error)}const z=async()=>{var i;const o=(i=JSON.parse(localStorage.getItem("user")).user)==null?void 0:i.uuid;await c.show(o)},y=r=>`darby-dash.sublimelogics.com/storage/${r}`,a=q(()=>{var r,o;return console.log("user is",((r=c.getUser)==null?void 0:r.name_first)+" "+((o=c.getUser)==null?void 0:o.name_last)),c.getUser});return(r,o)=>(m(),p(D,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",bordered:"",color:"success"},{default:t(()=>[e(w,{class:"cursor-pointer",color:"primary",variant:"tonal"},{default:t(()=>{var i,V,k,b,v,I,A;return[(k=(V=(i=s(a))==null?void 0:i.info)==null?void 0:V.avatar)!=null&&k.path?(m(),p(C,{key:0,src:y((v=(b=s(a))==null?void 0:b.info)==null?void 0:v.avatar.path)},null,8,["src"])):(m(),P("span",tt,f(((I=s(a))==null?void 0:I.name_first.charAt(0))+((A=s(a))==null?void 0:A.name_last.charAt(0))),1)),e(K,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:t(()=>[e(Q,null,{default:t(()=>[e(g,null,{prepend:t(()=>[e(Z,{start:""},{default:t(()=>[e(D,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:t(()=>[e(w,{color:"primary",variant:"tonal"},{default:t(()=>{var n,u,L,U,S,x,B;return[(L=(u=(n=s(a))==null?void 0:n.info)==null?void 0:u.avatar)!=null&&L.path?(m(),p(C,{key:0,src:y((S=(U=s(a))==null?void 0:U.info)==null?void 0:S.avatar.path)},null,8,["src"])):(m(),P("span",et,f(((x=s(a))==null?void 0:x.name_first.charAt(0))+((B=s(a))==null?void 0:B.name_last.charAt(0))),1))]}),_:1})]),_:1})]),_:1})]),default:t(()=>[e(h,{class:"font-weight-semibold"},{default:t(()=>{var n,u;return[_(f(((n=s(a))==null?void 0:n.name_first)+" "+((u=s(a))==null?void 0:u.name_last)),1)]}),_:1}),e(W,null,{default:t(()=>{var n;return[_(f((n=s(a))==null?void 0:n.role),1)]}),_:1})]),_:1}),e(X,{class:"my-2"}),e(g,{to:"/account-setting"},{prepend:t(()=>[e(E,{class:"me-2",icon:"tabler-user",size:"22"})]),default:t(()=>[e(h,null,{default:t(()=>[_("Profile")]),_:1})]),_:1}),e(g,{onClick:T},{prepend:t(()=>[e(E,{class:"me-2",icon:"tabler-logout",size:"22"})]),default:t(()=>[e(h,null,{default:t(()=>[_("Logout")]),_:1})]),_:1})]),_:1})]),_:1})]}),_:1})]),_:1}))}};export{st as default};
