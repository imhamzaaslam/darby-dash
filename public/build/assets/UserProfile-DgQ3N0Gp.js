import{aB as v,aC as L,aD as S,aE as x,aF as w,b as t,E as A,aG as B,aH as U,k as C,a4 as P,o as D,f as N,e,al as _,aI as p,n,aJ as g,a9 as T,aa as z,ab as d,a6 as V,ac as m,t as i,v as y,aK as E,ak as F,a5 as I}from"./main-BU042VEC.js";const J=v({start:Boolean,end:Boolean,...L(),...S()},"VListItemAction"),M=x()({name:"VListItemAction",props:J(),setup(o,r){let{slots:c}=r;return w(()=>t(o.tag,{class:["v-list-item-action",{"v-list-item-action--start":o.start,"v-list-item-action--end":o.end},o.class],style:o.style},c)),{}}}),G={__name:"UserProfile",setup(o){A(()=>{k()});const r=B(),c=U(),b=C();async function h(){let l=c.token,a=await c.logout(l);a.success?b.push({name:"login"}):alert(a.data.error)}const k=async()=>{var s;const a=(s=JSON.parse(localStorage.getItem("user")).user)==null?void 0:s.uuid;await r.show(a)},u=P(()=>{var l,a;return console.log("user is",((l=r.getUser)==null?void 0:l.name_first)+" "+((a=r.getUser)==null?void 0:a.name_last)),r.getUser});return(l,a)=>(D(),N(V,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",bordered:"",color:"success"},{default:e(()=>[t(_,{class:"cursor-pointer",color:"primary",variant:"tonal"},{default:e(()=>[t(p,{src:n(g)},null,8,["src"]),t(T,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:e(()=>[t(z,null,{default:e(()=>[t(d,null,{prepend:e(()=>[t(M,{start:""},{default:e(()=>[t(V,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:e(()=>[t(_,{color:"primary",variant:"tonal"},{default:e(()=>[t(p,{src:n(g)},null,8,["src"])]),_:1})]),_:1})]),_:1})]),default:e(()=>[t(m,{class:"font-weight-semibold"},{default:e(()=>{var s,f;return[i(y(((s=n(u))==null?void 0:s.name_first)+" "+((f=n(u))==null?void 0:f.name_last)),1)]}),_:1}),t(E,null,{default:e(()=>{var s;return[i(y((s=n(u))==null?void 0:s.role),1)]}),_:1})]),_:1}),t(F,{class:"my-2"}),t(d,{to:"/account-setting"},{prepend:e(()=>[t(I,{class:"me-2",icon:"tabler-user",size:"22"})]),default:e(()=>[t(m,null,{default:e(()=>[i("Profile")]),_:1})]),_:1}),t(d,{onClick:h},{prepend:e(()=>[t(I,{class:"me-2",icon:"tabler-logout",size:"22"})]),default:e(()=>[t(m,null,{default:e(()=>[i("Logout")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{G as default};
