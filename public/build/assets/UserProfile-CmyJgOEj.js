import{aB as F,aC as J,aD as M,aE as R,aF as $,b as e,E as G,aG as H,aH as O,k as j,a4 as q,o as m,f as h,e as t,al as P,n as s,aI as C,c as D,v as _,a8 as K,a9 as Q,aa as p,ae as z,ab as g,t as d,aJ as W,ak as X,a5 as y}from"./main-yHj5OtYB.js";const Y=F({start:Boolean,end:Boolean,...J(),...M()},"VListItemAction"),Z=R()({name:"VListItemAction",props:Y(),setup(l,c){let{slots:f}=c;return $(()=>e(l.tag,{class:["v-list-item-action",{"v-list-item-action--start":l.start,"v-list-item-action--end":l.end},l.class],style:l.style},f)),{}}}),tt={key:1},et={key:1},st={__name:"UserProfile",setup(l){G(()=>{T()});const c=H(),f=O(),E=j();async function N(){let r=f.token,o=await f.logout(r);o.success?E.push({name:"login"}):alert(o.data.error)}const T=async()=>{var i;const o=(i=JSON.parse(localStorage.getItem("user")).user)==null?void 0:i.uuid;await c.show(o)},V=r=>`https://darby-dash.sublimelogics.com/storage/${r}`,a=q(()=>{var r,o;return console.log("user is",((r=c.getUser)==null?void 0:r.name_first)+" "+((o=c.getUser)==null?void 0:o.name_last)),c.getUser});return(r,o)=>(m(),h(z,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",bordered:"",color:"success"},{default:t(()=>[e(P,{class:"cursor-pointer",color:"primary",variant:"tonal"},{default:t(()=>{var i,b,k,v,I,A,L;return[(k=(b=(i=s(a))==null?void 0:i.info)==null?void 0:b.avatar)!=null&&k.path?(m(),h(C,{key:0,src:V((I=(v=s(a))==null?void 0:v.info)==null?void 0:I.avatar.path)},null,8,["src"])):(m(),D("span",tt,_(((A=s(a))==null?void 0:A.name_first.charAt(0))+((L=s(a))==null?void 0:L.name_last.charAt(0))),1)),e(K,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:t(()=>[e(Q,null,{default:t(()=>[e(p,null,{prepend:t(()=>[e(Z,{start:""},{default:t(()=>[e(z,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:t(()=>[e(P,{color:"primary",variant:"tonal"},{default:t(()=>{var n,u,U,S,x,B,w;return[(U=(u=(n=s(a))==null?void 0:n.info)==null?void 0:u.avatar)!=null&&U.path?(m(),h(C,{key:0,src:V((x=(S=s(a))==null?void 0:S.info)==null?void 0:x.avatar.path)},null,8,["src"])):(m(),D("span",et,_(((B=s(a))==null?void 0:B.name_first.charAt(0))+((w=s(a))==null?void 0:w.name_last.charAt(0))),1))]}),_:1})]),_:1})]),_:1})]),default:t(()=>[e(g,{class:"font-weight-semibold"},{default:t(()=>{var n,u;return[d(_(((n=s(a))==null?void 0:n.name_first)+" "+((u=s(a))==null?void 0:u.name_last)),1)]}),_:1}),e(W,null,{default:t(()=>{var n;return[d(_((n=s(a))==null?void 0:n.role),1)]}),_:1})]),_:1}),e(X,{class:"my-2"}),e(p,{to:"/account-setting"},{prepend:t(()=>[e(y,{class:"me-2",icon:"tabler-user",size:"22"})]),default:t(()=>[e(g,null,{default:t(()=>[d("Profile")]),_:1})]),_:1}),e(p,{to:"/payments"},{prepend:t(()=>[e(y,{class:"me-2",icon:"tabler-file-dollar",size:"22"})]),default:t(()=>[e(g,null,{default:t(()=>[d("Payments")]),_:1})]),_:1}),e(p,{onClick:N},{prepend:t(()=>[e(y,{class:"me-2",icon:"tabler-logout",size:"22"})]),default:t(()=>[e(g,null,{default:t(()=>[d("Logout")]),_:1})]),_:1})]),_:1})]),_:1})]}),_:1})]),_:1}))}};export{st as default};
