import{aC as F,aD as J,aE as O,aF as R,aG as $,b as e,E as G,aH as H,a9 as j,k as q,ac as K,o as u,f as p,e as t,an as w,n as s,aI as C,c as N,v as d,L as Q,M as W,N as g,ag as P,O as h,t as _,aJ as D,d as X,am as Y,V as E}from"./main-B7_aAdkr.js";const Z=F({start:Boolean,end:Boolean,...J(),...O()},"VListItemAction"),tt=R()({name:"VListItemAction",props:Z(),setup(r,m){let{slots:f}=m;return $(()=>e(r.tag,{class:["v-list-item-action",{"v-list-item-action--start":r.start,"v-list-item-action--end":r.end},r.class],style:r.style},f)),{}}}),et={key:1},at={key:1},st={style:{position:"relative",top:"-6px"}},rt={__name:"UserProfile",setup(r){G(()=>{z()});const m=H(),f=j(),M=q();async function T(){let l=f.token,n=await f.logout(l);n.success?M.push({name:"login"}):alert(n.data.error)}const z=async()=>{var c;const n=(c=JSON.parse(localStorage.getItem("user")).user)==null?void 0:c.uuid;await m.show(n)},y=l=>`https://darby-dash.sublimelogics.com/storage/${l}`,a=K(()=>m.getUser);return(l,n)=>(u(),p(P,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",bordered:"",color:"success"},{default:t(()=>[e(w,{class:"cursor-pointer",color:"primary",variant:"tonal"},{default:t(()=>{var c,V,k,v,b,I,A;return[(k=(V=(c=s(a))==null?void 0:c.info)==null?void 0:V.avatar)!=null&&k.path?(u(),p(C,{key:0,src:y((b=(v=s(a))==null?void 0:v.info)==null?void 0:b.avatar.path)},null,8,["src"])):(u(),N("span",et,d(((I=s(a))==null?void 0:I.name_first.charAt(0))+((A=s(a))==null?void 0:A.name_last.charAt(0))),1)),e(Q,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:t(()=>[e(W,null,{default:t(()=>[e(g,null,{prepend:t(()=>[e(tt,{start:""},{default:t(()=>[e(P,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:t(()=>[e(w,{color:"primary",variant:"tonal"},{default:t(()=>{var o,i,L,x,S,B,U;return[(L=(i=(o=s(a))==null?void 0:o.info)==null?void 0:i.avatar)!=null&&L.path?(u(),p(C,{key:0,src:y((S=(x=s(a))==null?void 0:x.info)==null?void 0:S.avatar.path)},null,8,["src"])):(u(),N("span",at,d(((B=s(a))==null?void 0:B.name_first.charAt(0))+((U=s(a))==null?void 0:U.name_last.charAt(0))),1))]}),_:1})]),_:1})]),_:1})]),default:t(()=>[e(h,{class:"font-weight-semibold"},{default:t(()=>{var o,i;return[_(d(((o=s(a))==null?void 0:o.name_first)+" "+((i=s(a))==null?void 0:i.name_last)),1)]}),_:1}),e(D,null,{default:t(()=>{var o;return[X("small",st,d((o=s(a))==null?void 0:o.role),1)]}),_:1}),e(D,null,{default:t(()=>{var o;return[_(d((o=s(a))==null?void 0:o.company),1)]}),_:1})]),_:1}),e(Y,{class:"my-2"}),e(g,{to:"/account-setting"},{prepend:t(()=>[e(E,{class:"me-2",icon:"tabler-user",size:"22"})]),default:t(()=>[e(h,null,{default:t(()=>[_("Profile")]),_:1})]),_:1}),e(g,{onClick:T},{prepend:t(()=>[e(E,{class:"me-2",icon:"tabler-logout",size:"22"})]),default:t(()=>[e(h,null,{default:t(()=>[_("Logout")]),_:1})]),_:1})]),_:1})]),_:1})]}),_:1})]),_:1}))}};export{rt as default};
