import{az as F,aA as M,aB as R,aC as $,aD as G,b as a,E as J,aE as O,a3 as j,k as q,a5 as H,o as u,f as p,e as t,am as w,n as s,aF as C,c as P,v as f,a9 as K,aa as Q,ab as g,af as D,ac as h,t as _,aG as W,al as X,a6 as z}from"./main-BF1GAwIU.js";const Y=F({start:Boolean,end:Boolean,...M(),...R()},"VListItemAction"),Z=$()({name:"VListItemAction",props:Y(),setup(r,m){let{slots:d}=m;return G(()=>a(r.tag,{class:["v-list-item-action",{"v-list-item-action--start":r.start,"v-list-item-action--end":r.end},r.class],style:r.style},d)),{}}}),tt={key:1},at={key:1},st={__name:"UserProfile",setup(r){J(()=>{T()});const m=O(),d=j(),E=q();async function N(){let l=d.token,n=await d.logout(l);n.success?E.push({name:"login"}):alert(n.data.error)}const T=async()=>{var c;const n=(c=JSON.parse(localStorage.getItem("user")).user)==null?void 0:c.uuid;await m.show(n)},y=l=>`darby-dash.sublimelogics.com/storage/${l}`,e=H(()=>m.getUser);return(l,n)=>(u(),p(D,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",bordered:"",color:"success"},{default:t(()=>[a(w,{class:"cursor-pointer",color:"primary",variant:"tonal"},{default:t(()=>{var c,V,b,k,v,A,I;return[(b=(V=(c=s(e))==null?void 0:c.info)==null?void 0:V.avatar)!=null&&b.path?(u(),p(C,{key:0,src:y((v=(k=s(e))==null?void 0:k.info)==null?void 0:v.avatar.path)},null,8,["src"])):(u(),P("span",tt,f(((A=s(e))==null?void 0:A.name_first.charAt(0))+((I=s(e))==null?void 0:I.name_last.charAt(0))),1)),a(K,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:t(()=>[a(Q,null,{default:t(()=>[a(g,null,{prepend:t(()=>[a(Z,{start:""},{default:t(()=>[a(D,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:t(()=>[a(w,{color:"primary",variant:"tonal"},{default:t(()=>{var o,i,L,S,x,B,U;return[(L=(i=(o=s(e))==null?void 0:o.info)==null?void 0:i.avatar)!=null&&L.path?(u(),p(C,{key:0,src:y((x=(S=s(e))==null?void 0:S.info)==null?void 0:x.avatar.path)},null,8,["src"])):(u(),P("span",at,f(((B=s(e))==null?void 0:B.name_first.charAt(0))+((U=s(e))==null?void 0:U.name_last.charAt(0))),1))]}),_:1})]),_:1})]),_:1})]),default:t(()=>[a(h,{class:"font-weight-semibold"},{default:t(()=>{var o,i;return[_(f(((o=s(e))==null?void 0:o.name_first)+" "+((i=s(e))==null?void 0:i.name_last)),1)]}),_:1}),a(W,null,{default:t(()=>{var o;return[_(f((o=s(e))==null?void 0:o.role),1)]}),_:1})]),_:1}),a(X,{class:"my-2"}),a(g,{to:"/account-setting"},{prepend:t(()=>[a(z,{class:"me-2",icon:"tabler-user",size:"22"})]),default:t(()=>[a(h,null,{default:t(()=>[_("Profile")]),_:1})]),_:1}),a(g,{onClick:N},{prepend:t(()=>[a(z,{class:"me-2",icon:"tabler-logout",size:"22"})]),default:t(()=>[a(h,null,{default:t(()=>[_("Logout")]),_:1})]),_:1})]),_:1})]),_:1})]}),_:1})]),_:1}))}};export{st as default};
