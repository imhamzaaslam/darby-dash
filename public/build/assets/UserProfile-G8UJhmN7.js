import{aC as F,aD as J,aE as M,aF as R,aG as $,b as a,E as G,aH as H,a3 as O,k as j,a5 as q,o as u,f as p,e as t,am as B,n as s,aI as C,c as P,v as f,a9 as K,aa as Q,ab as g,af as D,ac as h,t as _,aJ as W,al as X,a6 as E}from"./main-hQkjhpJl.js";const Y=F({start:Boolean,end:Boolean,...J(),...M()},"VListItemAction"),Z=R()({name:"VListItemAction",props:Y(),setup(r,m){let{slots:d}=m;return $(()=>a(r.tag,{class:["v-list-item-action",{"v-list-item-action--start":r.start,"v-list-item-action--end":r.end},r.class],style:r.style},d)),{}}}),tt={key:1},at={key:1},st={__name:"UserProfile",setup(r){G(()=>{z()});const m=H(),d=O(),N=j();async function T(){let l=d.token,n=await d.logout(l);n.success?N.push({name:"login"}):alert(n.data.error)}const z=async()=>{var c;const n=(c=JSON.parse(localStorage.getItem("user")).user)==null?void 0:c.uuid;await m.show(n)},y=l=>`https://darby-dash.sublimelogics.com/storage/${l}`,e=q(()=>m.getUser);return(l,n)=>(u(),p(D,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",bordered:"",color:"success"},{default:t(()=>[a(B,{class:"cursor-pointer",color:"primary",variant:"tonal"},{default:t(()=>{var c,V,b,k,v,I,A;return[(b=(V=(c=s(e))==null?void 0:c.info)==null?void 0:V.avatar)!=null&&b.path?(u(),p(C,{key:0,src:y((v=(k=s(e))==null?void 0:k.info)==null?void 0:v.avatar.path)},null,8,["src"])):(u(),P("span",tt,f(((I=s(e))==null?void 0:I.name_first.charAt(0))+((A=s(e))==null?void 0:A.name_last.charAt(0))),1)),a(K,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:t(()=>[a(Q,null,{default:t(()=>[a(g,null,{prepend:t(()=>[a(Z,{start:""},{default:t(()=>[a(D,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:t(()=>[a(B,{color:"primary",variant:"tonal"},{default:t(()=>{var o,i,L,S,x,U,w;return[(L=(i=(o=s(e))==null?void 0:o.info)==null?void 0:i.avatar)!=null&&L.path?(u(),p(C,{key:0,src:y((x=(S=s(e))==null?void 0:S.info)==null?void 0:x.avatar.path)},null,8,["src"])):(u(),P("span",at,f(((U=s(e))==null?void 0:U.name_first.charAt(0))+((w=s(e))==null?void 0:w.name_last.charAt(0))),1))]}),_:1})]),_:1})]),_:1})]),default:t(()=>[a(h,{class:"font-weight-semibold"},{default:t(()=>{var o,i;return[_(f(((o=s(e))==null?void 0:o.name_first)+" "+((i=s(e))==null?void 0:i.name_last)),1)]}),_:1}),a(W,null,{default:t(()=>{var o;return[_(f((o=s(e))==null?void 0:o.role),1)]}),_:1})]),_:1}),a(X,{class:"my-2"}),a(g,{to:"/account-setting"},{prepend:t(()=>[a(E,{class:"me-2",icon:"tabler-user",size:"22"})]),default:t(()=>[a(h,null,{default:t(()=>[_("Profile")]),_:1})]),_:1}),a(g,{onClick:T},{prepend:t(()=>[a(E,{class:"me-2",icon:"tabler-logout",size:"22"})]),default:t(()=>[a(h,null,{default:t(()=>[_("Logout")]),_:1})]),_:1})]),_:1})]),_:1})]}),_:1})]),_:1}))}};export{st as default};
