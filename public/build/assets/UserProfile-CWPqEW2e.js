import{aD as F,aE as J,aF as O,aG as $,aH as G,b as e,_ as H,E as K,aI as Z,ac as j,k as q,a9 as Q,a as W,o as r,f as h,e as t,Z as C,n as a,aJ as N,c as y,v as i,L as X,M as Y,N as v,ag as D,O as k,t as g,aK as tt,d as R,ap as et,V as E}from"./main-Bo7_QUu4.js";const at=F({start:Boolean,end:Boolean,...J(),...O()},"VListItemAction"),st=$()({name:"VListItemAction",props:at(),setup(l,_){let{slots:u}=_;return G(()=>e(l.tag,{class:["v-list-item-action",{"v-list-item-action--start":l.start,"v-list-item-action--end":l.end},l.class],style:l.style},u)),{}}}),ot={key:1},nt={key:1},rt={class:"company-name text-primary",style:{position:"relative",top:"-5px"}},lt={key:0},ct={key:1},it={__name:"UserProfile",setup(l){K(()=>{z()});const _=Z(),u=j(),M=q();async function T(){let m=u.token,c=await u.logout(m);c.success?M.push({name:"login"}):alert(c.data.error)}const z=async()=>{var f;const c=(f=JSON.parse(localStorage.getItem("user")).user)==null?void 0:f.uuid;await _.show(c)},V=m=>`/storage/${m}`,s=Q(()=>_.getUser);return(m,c)=>{const f=W("RouterLink");return r(),h(D,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",bordered:"",color:"success"},{default:t(()=>[e(C,{class:"cursor-pointer",color:"primary",variant:"tonal"},{default:t(()=>{var I,b,x,L,A,S,U;return[(x=(b=(I=a(s))==null?void 0:I.info)==null?void 0:b.avatar)!=null&&x.path?(r(),h(N,{key:0,src:V((A=(L=a(s))==null?void 0:L.info)==null?void 0:A.avatar.path)},null,8,["src"])):(r(),y("span",ot,i(((S=a(s))==null?void 0:S.name_first.charAt(0))+((U=a(s))==null?void 0:U.name_last.charAt(0))),1)),e(X,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:t(()=>[e(Y,null,{default:t(()=>[e(v,null,{prepend:t(()=>[e(st,{start:""},{default:t(()=>[e(D,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success",style:{position:"relative",top:"-10px"}},{default:t(()=>[e(C,{color:"primary",variant:"tonal"},{default:t(()=>{var o,n,d,p,B,w,P;return[(d=(n=(o=a(s))==null?void 0:o.info)==null?void 0:n.avatar)!=null&&d.path?(r(),h(N,{key:0,src:V((B=(p=a(s))==null?void 0:p.info)==null?void 0:B.avatar.path)},null,8,["src"])):(r(),y("span",nt,i(((w=a(s))==null?void 0:w.name_first.charAt(0))+((P=a(s))==null?void 0:P.name_last.charAt(0))),1))]}),_:1})]),_:1})]),_:1})]),default:t(()=>[e(k,{class:"font-weight-semibold"},{default:t(()=>{var o,n;return[g(i(((o=a(s))==null?void 0:o.name_first)+" "+((n=a(s))==null?void 0:n.name_last)),1)]}),_:1}),e(tt,{class:"role-company-container",style:{position:"relative",top:"-5px"}},{default:t(()=>{var o,n,d;return[R("small",null,i((o=a(s))==null?void 0:o.role),1),R("div",rt,[a(u).isAdmin?(r(),y("span",lt,[e(f,{to:{name:"manage-company-settings",params:{id:(n=a(s))==null?void 0:n.company_uuid}}},{default:t(()=>{var p;return[g(i((p=a(s))==null?void 0:p.company),1)]}),_:1},8,["to"])])):(r(),y("span",ct,i((d=a(s))==null?void 0:d.company),1))])]}),_:1})]),_:1}),e(et,{class:"my-2"}),e(v,{to:"/account-setting"},{prepend:t(()=>[e(E,{class:"me-2",icon:"tabler-user",size:"22"})]),default:t(()=>[e(k,null,{default:t(()=>[g("Profile")]),_:1})]),_:1}),e(v,{onClick:T},{prepend:t(()=>[e(E,{class:"me-2",icon:"tabler-logout",size:"22"})]),default:t(()=>[e(k,null,{default:t(()=>[g("Logout")]),_:1})]),_:1})]),_:1})]),_:1})]}),_:1})]),_:1})}}},mt=H(it,[["__scopeId","data-v-d30e0d6b"]]);export{mt as default};
