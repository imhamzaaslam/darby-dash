import{E as ce,aI as me,ac as pe,as as te,r as g,a9 as D,w as fe,aO as Ce,o as _,c as k,f as q,aP as ke,y as H,b as e,e as a,av as w,ak as I,aq as C,Z as ie,n as r,d as t,ar as U,V as B,ap as ge,aQ as ve,af as _e,au as F,aR as z,aS as $e,I as ae,t as P,aT as be,F as T,aU as Ue,_ as le,v as x,aV as qe,ai as L,aW as ye,am as K,i as E,q as Ae,x as he,J as re,aJ as Ne,M as Ve,N as we,O as ze,a1 as se,a2 as oe,aX as Z,aY as Ie,aZ as Le,a_ as Te,Q as De,aj as Fe,a$ as Me,b0 as Se,al as Re,ao as Be,b1 as Ee,b2 as je,b3 as Q,b4 as ee,b5 as Ge,b6 as ue,p as de,k as Ye,b7 as Je,b8 as Oe,b9 as X,ba as We}from"./main-eEORL_74.js";const Qe=""+new URL("default-avatar-BE3H5Dke.png",import.meta.url).href,Xe={class:"d-flex flex-column justify-center gap-4"},Ze={class:"d-flex flex-wrap gap-2"},He=t("span",{class:"d-none d-sm-block"},"Upload new photo",-1),Ke=t("p",{class:"text-body-1 mb-0"}," Allowed JPG, JPEG, GIF or PNG. Max size of 1MB ",-1),ea={key:0},aa={key:1},ta={__name:"AccountSettingsAccount",setup(V){ce(()=>{h(),S()});const n=me(),d=pe(),v=te(),c=g(!1),s=g({avatar:"",name_first:"",name_last:"",email:"",phone:"",city:"",address:"",company:"",zip:""}),i=g({name_first:"",name_last:"",email:"",phone:"",city:"",address:"",company:"",zip:""}),m=g(),y=g();async function A(l){var f;if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(l.target.files[0].type)||l.target.files[0].size>1024*1024){v.error("Please upload a valid image file.");return}c.value=!0;const o=new FileReader,{files:u}=l.target;u&&u.length&&(o.readAsDataURL(u[0]),o.onload=()=>{typeof o.result=="string"&&(s.value.avatar=o.result)}),await n.updateUserImage(u[0],(f=n.getUser)==null?void 0:f.uuid),R.value?v.error("Something went wrong. Please try again later."):(await h(),v.success("Image uploaded successfully",{timeout:1e3}))}async function p(){var l;(l=y.value)==null||l.validate().then(async({valid:o})=>{var u,f,b;if(o)try{const N=(u=n.getUser)==null?void 0:u.uuid,O=(f=n.getUser)==null?void 0:f.role,W=(b=n.getUser)==null?void 0:b.state;await n.update({...s.value,uuid:N,role:O,state:W}),R.value?$():v.success("Record updated successfully",{timeout:1e3})}catch(N){v.error("Failed to add member:",N)}})}const h=async()=>{var u;c.value=!0;const o=(u=JSON.parse(localStorage.getItem("user")).user)==null?void 0:u.uuid;await n.show(o),c.value=!1},S=async()=>{var o,u,f,b;let l=n.getUser;s.value.name_first=l==null?void 0:l.name_first,s.value.name_last=l==null?void 0:l.name_last,s.value.company=l==null?void 0:l.company,s.value.email=l==null?void 0:l.email,s.value.phone=(o=l==null?void 0:l.info)==null?void 0:o.phone,s.value.city=(u=l==null?void 0:l.info)==null?void 0:u.city,s.value.address=(f=l==null?void 0:l.info)==null?void 0:f.address,s.value.zip=(b=l==null?void 0:l.info)==null?void 0:b.zip},$=()=>{J.value==500||J.value==404?v.error("Something went wrong. Please try again later."):i.value=R.value},M=l=>`/storage/${l}`,Y=D(()=>n.getLoadStatus),J=D(()=>n.getStatusCode),R=D(()=>n.getErrors),j=D(()=>n.getUser);return fe(()=>n.getUser,()=>{S()},{immediate:!0}),(l,o)=>{const u=Ue,f=Ce("mask");return _(),k(T,null,[c.value?(_(),q(ke,{key:0})):H("",!0),e(F,null,{default:a(()=>[e(w,{cols:"12"},{default:a(()=>[e(I,{title:"Profile Details"},{default:a(()=>[e(C,{class:"d-flex"},{default:a(()=>{var b,N,O,W;return[(N=(b=j.value)==null?void 0:b.info)!=null&&N.avatar?(_(),q(ie,{key:0,rounded:"",size:"100",class:"me-6",image:M((W=(O=j.value)==null?void 0:O.info)==null?void 0:W.avatar.path)},null,8,["image"])):(_(),q(ie,{key:1,rounded:"",size:"100",class:"me-6",image:r(Qe)},null,8,["image"])),t("form",Xe,[t("div",Ze,[e(U,{color:"primary",onClick:o[0]||(o[0]=et=>{var ne;return(ne=m.value)==null?void 0:ne.click()})},{default:a(()=>[e(B,{icon:"tabler-cloud-upload",class:"d-sm-none"}),He]),_:1}),t("input",{ref_key:"refInputEl",ref:m,type:"file",name:"file",accept:".jpeg,.png,.jpg,GIF",hidden:"",onInput:A},null,544)]),Ke])]}),_:1}),e(ge),e(C,{class:"pt-2"},{default:a(()=>[e(ve,{ref_key:"updateMemberForm",ref:y,class:"mt-6",onSubmit:_e(p,["prevent"])},{default:a(()=>[e(F,null,{default:a(()=>[e(w,{md:"6",cols:"12"},{default:a(()=>[e(u,{modelValue:s.value.name_first,"onUpdate:modelValue":o[1]||(o[1]=b=>s.value.name_first=b),placeholder:"John",variant:"outlined",label:"First Name *",rules:["requiredValidator"in l?l.requiredValidator:r(z)],"error-messages":i.value.name_first},null,8,["modelValue","rules","error-messages"])]),_:1}),e(w,{md:"6",cols:"12"},{default:a(()=>[e(u,{modelValue:s.value.name_last,"onUpdate:modelValue":o[2]||(o[2]=b=>s.value.name_last=b),placeholder:"Doe",label:"Last Name *",variant:"outlined",rules:["requiredValidator"in l?l.requiredValidator:r(z)],"error-messages":i.value.name_last},null,8,["modelValue","rules","error-messages"])]),_:1}),e(w,{cols:"12",md:"6"},{default:a(()=>[e(u,{modelValue:s.value.email,"onUpdate:modelValue":o[3]||(o[3]=b=>s.value.email=b),label:"E-mail",placeholder:"johndoe@gmail.com",type:"email *",variant:"outlined",rules:["requiredValidator"in l?l.requiredValidator:r(z),"emailValidator"in l?l.emailValidator:r($e)],"error-messages":i.value.email},null,8,["modelValue","rules","error-messages"])]),_:1}),e(w,{cols:"12",md:"6"},{default:a(()=>[ae(e(u,{modelValue:s.value.phone,"onUpdate:modelValue":o[4]||(o[4]=b=>s.value.phone=b),label:"Phone *",placeholder:"(123) 456-7890",variant:"outlined",rules:["requiredValidator"in l?l.requiredValidator:r(z)],"error-messages":i.value.phone},null,8,["modelValue","rules","error-messages"]),[[f,"(###) ###-####"]])]),_:1}),r(d).isAdmin?(_(),q(w,{key:0,cols:"12",md:"6"},{default:a(()=>[e(u,{modelValue:s.value.company,"onUpdate:modelValue":o[5]||(o[5]=b=>s.value.company=b),label:"Company *",placeholder:"Company Name",variant:"outlined",rules:["requiredValidator"in l?l.requiredValidator:r(z)],"error-messages":i.value.company},null,8,["modelValue","rules","error-messages"])]),_:1})):H("",!0),e(w,{cols:"12",md:"6"},{default:a(()=>[e(u,{modelValue:s.value.address,"onUpdate:modelValue":o[6]||(o[6]=b=>s.value.address=b),label:"Address *",placeholder:"123 Main St, New York, NY 10001",variant:"outlined",rules:["requiredValidator"in l?l.requiredValidator:r(z)],"error-messages":i.value.address},null,8,["modelValue","rules","error-messages"])]),_:1}),e(w,{cols:"12",md:"6"},{default:a(()=>[e(u,{modelValue:s.value.city,"onUpdate:modelValue":o[7]||(o[7]=b=>s.value.city=b),label:"City *",placeholder:"New York",rules:["requiredValidator"in l?l.requiredValidator:r(z)],"error-messages":i.value.city},null,8,["modelValue","rules","error-messages"])]),_:1}),e(w,{cols:"12",md:"6"},{default:a(()=>[e(u,{modelValue:s.value.zip,"onUpdate:modelValue":o[8]||(o[8]=b=>s.value.zip=b),label:"Zip Code *",placeholder:"10001",variant:"outlined",rules:["requiredValidator"in l?l.requiredValidator:r(z)],"error-messages":i.value.zip},null,8,["modelValue","rules","error-messages"])]),_:1}),e(w,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:a(()=>[e(U,{type:"submit",disabled:Y.value===1,onClick:o[9]||(o[9]=b=>{var N;return(N=l.editMemberForm)==null?void 0:N.validate()})},{default:a(()=>[Y.value===1?(_(),k("span",ea,[P(" Loading... "),e(be,{size:20,width:"3",indeterminate:""})])):(_(),k("span",aa," Save "))]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})],64)}}},la=""+new URL("3d-safe-box-with-golden-dollar-coins-1l8l0kXJ.png",import.meta.url).href,sa=""+new URL("3d-space-rocket-with-smoke-DR35GWyq.png",import.meta.url).href,oa=""+new URL("dollar-coins-flying-pink-piggy-bank-C5fySPX-.png",import.meta.url).href,G=V=>(se("data-v-3c0ca6df"),V=V(),oe(),V),na={class:"text-center"},ia={class:"text-h3 pricing-title mb-2"},ra=G(()=>t("p",{class:"mb-0"}," All plans include 40+ advanced tools and features to boost your product. ",-1)),ua=G(()=>t("p",{class:"mb-2"}," Choose the best plan to fit your needs. ",-1)),da={class:"d-flex font-weight-medium text-body-1 align-center justify-center mx-auto mt-12 mb-6"},ca={class:"position-relative"},ma=G(()=>t("div",{class:"text-body-1 font-weight-medium"}," Annually ",-1)),pa={class:"save-upto-chip position-absolute align-center d-none d-md-flex gap-1"},fa={class:"text-h4 mb-1 text-center"},ga={class:"mb-0 text-body-1 text-center"},va={class:"position-relative"},_a={class:"d-flex justify-center pt-5 pb-10"},ba=G(()=>t("div",{class:"text-body-1 align-self-start font-weight-medium"}," $ ",-1)),ya={class:"text-h1 font-weight-medium text-primary"},ha=G(()=>t("div",{class:"text-body-1 font-weight-medium align-self-end"}," /month ",-1)),Va={__name:"AppPricing",props:{title:{type:String,required:!1},xs:{type:[Number,String],required:!1},sm:{type:[Number,String],required:!1},md:{type:[String,Number],required:!1},lg:{type:[String,Number],required:!1},xl:{type:[String,Number],required:!1}},setup(V){const n=V,d=g(!0),v=[{name:"Basic",tagLine:"A simple start for everyone",logo:oa,monthlyPrice:0,yearlyPrice:0,isPopular:!1,current:!0,features:["100 responses a month","Unlimited forms and surveys","Unlimited fields","Basic form creation tools","Up to 2 subdomains"]},{name:"Standard",tagLine:"For small to medium businesses",logo:la,monthlyPrice:49,yearlyPrice:499,isPopular:!0,current:!1,features:["Unlimited responses","Unlimited forms and surveys","Instagram profile page","Google Docs integration","Custom “Thank you” page"]},{name:"Enterprise",tagLine:"Solution for big organizations",logo:sa,monthlyPrice:99,yearlyPrice:999,isPopular:!1,current:!1,features:["PayPal payments","Logic Jumps","File upload with 5GB storage","Custom domain support","Stripe integration"]}];return(c,s)=>(_(),k(T,null,[t("div",na,[t("h3",ia,x(n.title?n.title:"Pricing Plans"),1),ra,ua]),t("div",da,[e(qe,{for:"pricing-plan-toggle",class:"me-3"},{default:a(()=>[P(" Monthly ")]),_:1}),t("div",ca,[e(ye,{id:"pricing-plan-toggle",modelValue:r(d),"onUpdate:modelValue":s[0]||(s[0]=i=>L(d)?d.value=i:null)},{label:a(()=>[ma]),_:1},8,["modelValue"]),t("div",pa,[e(B,{icon:"tabler-corner-left-down",size:"24",class:"flip-in-rtl mt-2 text-disabled"}),e(K,{label:"",color:"primary",size:"small"},{default:a(()=>[P(" Save up to 10% ")]),_:1})])])]),e(F,null,{default:a(()=>[(_(),k(T,null,E(v,i=>e(w,Ae({key:i.logo},n,{cols:"12"}),{default:a(()=>[e(I,{flat:"",border:"",class:he(i.isPopular?"border-primary border-opacity-100":"")},{default:a(()=>[e(C,{style:{"block-size":"3.75rem"},class:"text-end"},{default:a(()=>[ae(e(K,{label:"",color:"primary",size:"small"},{default:a(()=>[P(" Popular ")]),_:2},1536),[[re,i.isPopular]])]),_:2},1024),e(C,null,{default:a(()=>[e(Ne,{height:120,width:120,src:i.logo,class:"mx-auto mb-5"},null,8,["src"]),t("h4",fa,x(i.name),1),t("p",ga,x(i.tagLine),1),t("div",va,[t("div",_a,[ba,t("h1",ya,x(r(d)?Math.floor(Number(i.yearlyPrice)/12):i.monthlyPrice),1),ha]),ae(t("span",{class:"annual-price-text position-absolute text-caption text-disabled pb-4"},x(i.yearlyPrice===0?"free":`USD ${i.yearlyPrice}/Year`),513),[[re,r(d)]])]),e(Ve,{class:"card-list mb-4"},{default:a(()=>[(_(!0),k(T,null,E(i.features,m=>(_(),q(we,{key:m},{prepend:a(()=>[e(B,{size:"8",icon:"tabler-circle-filled",color:"rgba(var(--v-theme-on-surface), var(--v-medium-emphasis-opacity))"})]),default:a(()=>[e(ze,{class:"text-body-1"},{default:a(()=>[P(x(m),1)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024),e(U,{block:"",color:i.current?"success":"primary",variant:i.isPopular?"elevated":"tonal",to:{name:"front-pages-payment"},active:!1},{default:a(()=>[P(x(i.yearlyPrice===0?"Your Current Plan":"Upgrade"),1)]),_:2},1032,["color","variant"])]),_:2},1024)]),_:2},1032,["class"])]),_:2},1040)),64))]),_:1})],64))}},wa=le(Va,[["__scopeId","data-v-3c0ca6df"]]),Sa={__name:"PricingPlanDialog",props:{isDialogVisible:{type:Boolean,required:!0}},emits:["update:isDialogVisible"],setup(V,{emit:n}){const d=V,v=n,c=s=>{v("update:isDialogVisible",s)};return(s,i)=>{const m=Ie,y=wa;return _(),q(Z,{"model-value":d.isDialogVisible,width:s.$vuetify.display.smAndDown?"auto":1200,"onUpdate:modelValue":c},{default:a(()=>[e(m,{onClick:i[0]||(i[0]=A=>s.$emit("update:isDialogVisible",!1))}),e(I,{class:"pricing-dialog pa-2 pa-sm-10"},{default:a(()=>[e(C,null,{default:a(()=>[e(y,{md:"4"})]),_:1})]),_:1})]),_:1},8,["model-value","width"])}}},Pa=t("span",{class:"text-5xl"},"!",-1),xa={class:"text-lg font-weight-medium"},Ca={class:"text-h4 mb-4"},ka=t("span",{class:"text-5xl font-weight-light"},"X",-1),$a={class:"text-h4 mb-4"},Ua={__name:"ConfirmDialog",props:{confirmationQuestion:{type:String,required:!0},isDialogVisible:{type:Boolean,required:!0},confirmTitle:{type:String,required:!0},confirmMsg:{type:String,required:!0},cancelTitle:{type:String,required:!0},cancelMsg:{type:String,required:!0}},emits:["update:isDialogVisible","confirm"],setup(V,{emit:n}){const d=V,v=n,c=g(!1),s=g(!1),i=A=>{v("update:isDialogVisible",A)},m=()=>{v("confirm",!0),i(!1),c.value=!0},y=()=>{v("confirm",!1),v("update:isDialogVisible",!1),s.value=!0};return(A,p)=>(_(),k(T,null,[e(Z,{"max-width":"500","model-value":d.isDialogVisible,"onUpdate:modelValue":i},{default:a(()=>[e(I,{class:"text-center px-10 py-6"},{default:a(()=>[e(C,null,{default:a(()=>[e(U,{icon:"",variant:"outlined",color:"warning",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:a(()=>[Pa]),_:1}),t("h6",xa,x(d.confirmationQuestion),1)]),_:1}),e(C,{class:"d-flex align-center justify-center gap-2"},{default:a(()=>[e(U,{variant:"elevated",onClick:m},{default:a(()=>[P(" Confirm ")]),_:1}),e(U,{color:"secondary",variant:"tonal",onClick:y},{default:a(()=>[P(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]),e(Z,{modelValue:r(c),"onUpdate:modelValue":p[1]||(p[1]=h=>L(c)?c.value=h:null),"max-width":"500"},{default:a(()=>[e(I,null,{default:a(()=>[e(C,{class:"text-center px-10 py-6"},{default:a(()=>[e(U,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:a(()=>[e(B,{icon:"tabler-check",size:"38"})]),_:1}),t("h1",Ca,x(d.confirmTitle),1),t("p",null,x(d.confirmMsg),1),e(U,{color:"success",onClick:p[0]||(p[0]=h=>c.value=!1)},{default:a(()=>[P(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Z,{modelValue:r(s),"onUpdate:modelValue":p[3]||(p[3]=h=>L(s)?s.value=h:null),"max-width":"500"},{default:a(()=>[e(I,null,{default:a(()=>[e(C,{class:"text-center px-10 py-6"},{default:a(()=>[e(U,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:a(()=>[ka]),_:1}),t("h1",$a,x(d.cancelTitle),1),t("p",null,x(d.cancelMsg),1),e(U,{color:"success",onClick:p[2]||(p[2]=h=>s.value=!1)},{default:a(()=>[P(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},qa=t("div",{class:"mb-6"},[t("h3",{class:"text-base font-weight-medium mb-1"}," Your Current Plan is Basic "),t("p",{class:"text-base"}," A simple start for everyone ")],-1),Aa=t("div",{class:"mb-6"},[t("h3",{class:"text-base font-weight-medium mb-1"}," Active until Dec 09, 2021 "),t("p",{class:"text-base"}," We will send you a notification upon Subscription expiration ")],-1),Na={class:"text-base font-weight-medium mb-1"},za=t("span",{class:"me-3"},"$199 Per Month",-1),Ia=t("p",{class:"text-base mb-0"}," Standard plan for small to medium businesses ",-1),La=t("span",null,"Your plan requires update",-1),Ta={class:"d-flex font-weight-medium text-base mt-4 mb-2"},Da=t("span",null,"Days",-1),Fa=t("span",null,"24 of 30 Days",-1),Ma=t("p",{class:"text-base mt-2 mb-0"}," 6 days remaining until your plan requires update ",-1),Ra={class:"d-flex flex-wrap gap-y-4"},Ba={__name:"AccountSettingsBillingAndPlans",setup(V){g("credit-debit-atm-card");const n=g(!1),d=g(!1);return g(!1),g(!1),g(),g(0x7b5b5282deb5),g("john Doe"),g("05/24"),g(420),(v,c)=>{const s=Ua,i=Sa;return _(),q(F,null,{default:a(()=>[e(w,{cols:"12"},{default:a(()=>[e(I,{title:"Current Plan"},{default:a(()=>[e(C,null,{default:a(()=>[e(F,null,{default:a(()=>[e(w,{cols:"12",md:"6"},{default:a(()=>[t("div",null,[qa,Aa,t("div",null,[t("h3",Na,[za,e(K,{color:"primary",size:"small",label:""},{default:a(()=>[P(" Popular ")]),_:1})]),Ia])])]),_:1}),e(w,{cols:"12",md:"6"},{default:a(()=>[e(Le,{color:"warning",variant:"tonal"},{default:a(()=>[e(Te,{class:"mb-1"},{default:a(()=>[P(" We need your attention! ")]),_:1}),La]),_:1}),t("h6",Ta,[Da,e(De),Fa]),e(Fe,{color:"primary",rounded:"",height:"12","model-value":"75"}),Ma]),_:1}),e(w,{cols:"12"},{default:a(()=>[t("div",Ra,[e(U,{class:"me-3",onClick:c[0]||(c[0]=m=>n.value=!0)},{default:a(()=>[P(" upgrade plan ")]),_:1}),e(U,{color:"secondary",variant:"tonal",onClick:c[1]||(c[1]=m=>d.value=!0)},{default:a(()=>[P(" Cancel Subscription ")]),_:1})])]),_:1})]),_:1}),e(s,{isDialogVisible:r(d),"onUpdate:isDialogVisible":c[2]||(c[2]=m=>L(d)?d.value=m:null),"confirmation-question":"Are you sure to cancel your subscription?","cancel-msg":"Unsubscription Cancelled!!","cancel-title":"Cancelled","confirm-msg":"Your subscription cancelled successfully.","confirm-title":"Unsubscribed!"},null,8,["isDialogVisible"]),e(i,{"is-dialog-visible":r(n),"onUpdate:isDialogVisible":c[3]||(c[3]=m=>L(n)?n.value=m:null)},null,8,["is-dialog-visible"])]),_:1})]),_:1})]),_:1})]),_:1})}}},Pe=V=>(se("data-v-0c163609"),V=V(),oe(),V),Ea=Pe(()=>t("p",{class:"text-sm mt-2 mb-0"}," Manage your preferences for receiving notifications and alerts. ",-1)),ja={class:"d-flex flex-wrap gap-1 mb-4"},Ga=Pe(()=>t("thead",null,[t("tr",null,[t("th",{style:{width:"65%"}}," Notification Type "),t("th",{style:{width:"35%"}}," Deliverable Channel ")])],-1)),Ya={class:"d-flex align-items-center"},Ja={__name:"AccountSettingsNotification",setup(V){const n=te(),d=Me(),v=g([]),c=g(null),s=D(()=>d.getNotificationSettings),i=async()=>{try{await d.getAllNotifications();const p=s.value;p&&Object.keys(p).length>0?(v.value=Object.keys(p).map(h=>({title:m(h),notifications:p[h].map(S=>({id:S.id,type:S.type,deliverableChannel:S.deliverableChannel}))})),c.value=v.value[0]):n.error("No settings available.")}catch(p){n.error(`Error fetching settings: ${p.message}`)}},m=p=>p.charAt(0).toUpperCase()+p.slice(1),y=p=>{const{id:h,deliverableChannel:S}=p;h&&S!==void 0?d.updateNotificationSetting(h,{deliverable_channel:S}).then(()=>{n.success("Notification channel updated successfully.")}).catch($=>{n.error(`Error updating notification channel: ${$.message}`)}):n.error("Invalid notification data.")},A=p=>{c.value=v.value.find(h=>h.title===p)||v.value[0]};return Se(i),(p,h)=>(_(),q(I,null,{default:a(()=>[e(Re,null,{default:a(()=>[e(Be,null,{default:a(()=>[P("Notification Settings")]),_:1}),Ea]),_:1}),e(C,null,{default:a(()=>[t("div",ja,[(_(!0),k(T,null,E(v.value,S=>{var $;return _(),q(K,{key:S.title,class:he([{"v-chip--active":(($=c.value)==null?void 0:$.title)===S.title},"cursor-pointer"]),color:"primary",onClick:M=>A(S.title)},{default:a(()=>[P(x(S.title)+" Alerts ",1)]),_:2},1032,["class","onClick"])}),128))]),e(Ee,{class:"text-no-wrap mt-4",density:"compact",style:{border:"1px solid #e0e0e0"}},{default:a(()=>{var S;return[Ga,t("tbody",null,[(_(!0),k(T,null,E((S=c.value)==null?void 0:S.notifications,$=>(_(),k("tr",{key:$.type},[t("td",null,x($.type),1),t("td",null,[t("div",Ya,[e(je,{modelValue:$.deliverableChannel,"onUpdate:modelValue":M=>$.deliverableChannel=M,inline:"",onChange:M=>y($)},{default:a(()=>[e(Q,{label:"Email",value:"mail",class:"me-2",density:"compact"}),e(Q,{label:"Push",value:"database",class:"me-2",density:"compact"}),e(Q,{label:"Both",value:"both",class:"me-2",density:"compact"}),e(Q,{label:"None",value:"null",density:"compact"})]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])])]))),128))])]}),_:1})]),_:1}),e(ge)]),_:1}))}},Oa=le(Ja,[["__scopeId","data-v-0c163609"]]),xe=V=>(se("data-v-8b68750a"),V=V(),oe(),V),Wa=xe(()=>t("h6",{class:"text-base font-weight-medium mb-3"}," Password Requirements: ",-1)),Qa={key:0},Xa={key:1},Za=xe(()=>t("p",null,[P(" Two-factor authentication adds an additional layer of security to your account by requiring more than just a password to log in. "),t("a",{href:"javascript:void(0)",class:"text-decoration-none"},"Learn more.")],-1)),Ha={__name:"AccountSettingsSecurity",setup(V){const n=me(),d=te(),v=g(!1),c=g(!1),s=g(!1),i=g(""),m=g(""),y=g(""),A=g(null),p=g(0),h=g({current_password:null,new_password:null,confirm_password:null}),S=["Minimum 8 characters long - the more, the better","At least one lowercase character","Password and confirm password should match"];ce(async()=>{var o,u;await n.show((o=n.getUser)==null?void 0:o.uuid),p.value=(u=n.getUser)==null?void 0:u.is_2fa});async function $(){var o;(o=A.value)==null||o.validate().then(async({valid:u})=>{var f;if(u){J();const b=(f=n.getUser)==null?void 0:f.uuid,N={current_password:i.value,new_password:m.value,confirm_password:y.value};await n.updatePassword(b,N),R.value?Y():d.success("Password changed successfully")}})}const M=async()=>{var f;const o=(f=n.getUser)==null?void 0:f.uuid,u={isEnable:p.value};await n.updateTwoFactor(o,u),d.success(p.value?"Two-Factor authentication enabled":"Two-Factor authentication disabled")},Y=()=>{l===500?d.error("Something went wrong. Please try again later."):h.value=R.value},J=()=>{for(const o in h.value)h.value[o]=null},R=D(()=>n.getErrors),j=D(()=>n.getLoadStatus),l=D(()=>n.getStatusCode);return(o,u)=>(_(),q(F,null,{default:a(()=>[e(w,{cols:"12",md:"7",sm:"12"},{default:a(()=>[e(I,{title:"Change Password"},{default:a(()=>[e(ve,{ref_key:"passRefForm",ref:A,onSubmit:_e($,["prevent"])},{default:a(()=>[e(C,{class:"pt-0"},{default:a(()=>[e(F,null,{default:a(()=>[e(w,{cols:"12",md:"12"},{default:a(()=>[e(ee,{modelValue:r(i),"onUpdate:modelValue":u[0]||(u[0]=f=>L(i)?i.value=f:null),variant:"outlined",type:r(v)?"text":"password","append-inner-icon":r(v)?"tabler-eye-off":"tabler-eye",label:"Current Password",autocomplete:"on",placeholder:"············",rules:["requiredValidator"in o?o.requiredValidator:r(z)],"error-messages":r(h).current_password,"onClick:appendInner":u[1]||(u[1]=f=>v.value=!r(v))},null,8,["modelValue","type","append-inner-icon","rules","error-messages"])]),_:1})]),_:1}),e(F,null,{default:a(()=>[e(w,{cols:"12",md:"6"},{default:a(()=>[e(ee,{modelValue:r(m),"onUpdate:modelValue":u[2]||(u[2]=f=>L(m)?m.value=f:null),type:r(c)?"text":"password",variant:"outlined","append-inner-icon":r(c)?"tabler-eye-off":"tabler-eye",label:"New Password",autocomplete:"on",placeholder:"············",rules:["requiredValidator"in o?o.requiredValidator:r(z)],"error-messages":r(h).new_password,"onClick:appendInner":u[3]||(u[3]=f=>c.value=!r(c))},null,8,["modelValue","type","append-inner-icon","rules","error-messages"])]),_:1}),e(w,{cols:"12",md:"6"},{default:a(()=>[e(ee,{modelValue:r(y),"onUpdate:modelValue":u[4]||(u[4]=f=>L(y)?y.value=f:null),type:r(s)?"text":"password",variant:"outlined","append-inner-icon":r(s)?"tabler-eye-off":"tabler-eye",label:"Confirm New Password",autocomplete:"on",placeholder:"············",rules:["requiredValidator"in o?o.requiredValidator:r(z),("confirmedValidator"in o?o.confirmedValidator:r(Ge))(r(y),r(m))],"error-messages":r(h).confirm_password,"onClick:appendInner":u[5]||(u[5]=f=>s.value=!r(s))},null,8,["modelValue","type","append-inner-icon","rules","error-messages"])]),_:1})]),_:1})]),_:1}),e(C,null,{default:a(()=>[Wa,e(Ve,{class:"card-list"},{default:a(()=>[(_(),k(T,null,E(S,f=>e(we,{key:f,title:f,class:"text-medium-emphasis"},{prepend:a(()=>[e(B,{size:"8",icon:"tabler-circle",class:"me-3"})]),_:2},1032,["title"])),64))]),_:1})]),_:1}),e(C,{class:"d-flex flex-wrap gap-4"},{default:a(()=>[e(U,{type:"submit",disabled:r(j)===1},{default:a(()=>[r(j)===1?(_(),k("span",Qa,[P(" Loading... "),e(be,{size:20,width:"3",indeterminate:""})])):(_(),k("span",Xa," Save "))]),_:1},8,["disabled"])]),_:1})]),_:1},512)]),_:1})]),_:1}),e(w,{cols:"12",md:"5",sm:"12"},{default:a(()=>[e(I,{title:"Two-Factor Authentication"},{default:a(()=>[e(C,null,{default:a(()=>[Za,e(ye,{modelValue:r(p),"onUpdate:modelValue":u[6]||(u[6]=f=>L(p)?p.value=f:null),color:"primary","true-value":1,"false-value":0,onChange:M},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}))}},Ka=le(Ha,[["__scopeId","data-v-8b68750a"]]),tt={__name:"account-setting",setup(V){ue({title:`${de.app.title} | Account`});const n=pe(),d=g("account"),v=Ye(),c=[{title:"Account",icon:"tabler-users",tab:"account"},{title:"Security",icon:"tabler-lock",tab:"security"},!n.isSuperAdmin&&{title:"Billing & Plans",icon:"tabler-file-text",tab:"billing-plans"},!n.isSuperAdmin&&{title:"Notifications",icon:"tabler-bell",tab:"notifications"}].filter(Boolean);function s(i){d.value=i}return Se(()=>{const m=new URLSearchParams(window.location.search).get("tab");m&&c.some(y=>y.tab===m)&&s(m)}),fe(d,i=>{v.push({query:{tab:i}}),ue({title:`${de.app.title} | ${c.find(m=>m.tab===i).title}`})}),(i,m)=>(_(),k("div",null,[e(Oe,{modelValue:d.value,"onUpdate:modelValue":m[0]||(m[0]=y=>d.value=y),class:"v-tabs-pill"},{default:a(()=>[(_(!0),k(T,null,E(r(c),y=>(_(),q(Je,{key:y.icon,value:y.tab,onClick:A=>s(y.tab)},{default:a(()=>[e(B,{size:"20",start:"",icon:y.icon},null,8,["icon"]),P(" "+x(y.title),1)]),_:2},1032,["value","onClick"]))),128))]),_:1},8,["modelValue"]),e(We,{modelValue:d.value,"onUpdate:modelValue":m[1]||(m[1]=y=>d.value=y),class:"mt-6 disable-tab-transition",touch:!1},{default:a(()=>[e(X,{value:"account"},{default:a(()=>[e(ta)]),_:1}),e(X,{value:"security"},{default:a(()=>[e(Ka)]),_:1}),r(n).isSuperAdmin?H("",!0):(_(),q(X,{key:0,value:"billing-plans"},{default:a(()=>[e(Ba)]),_:1})),r(n).isSuperAdmin?H("",!0):(_(),q(X,{key:1,value:"notifications"},{default:a(()=>[e(Oa)]),_:1}))]),_:1},8,["modelValue"])]))}};export{tt as default};
