import{aC as F,aD as J,aE as O,aF as R,aG as $,b as e,_ as G,E as H,aH as j,a9 as q,k as K,ac as Q,o as u,f,e as t,ao as w,n as s,aI as P,c as C,v as m,L as W,M as X,N as _,ah as N,O as h,t as g,aJ as Y,d as D,an as Z,V as E}from"./main-C8v4AOX7.js";const tt=F({start:Boolean,end:Boolean,...J(),...O()},"VListItemAction"),et=R()({name:"VListItemAction",props:tt(),setup(n,d){let{slots:p}=d;return $(()=>e(n.tag,{class:["v-list-item-action",{"v-list-item-action--start":n.start,"v-list-item-action--end":n.end},n.class],style:n.style},p)),{}}}),at={key:1},st={key:1},ot={class:"company-name text-primary",style:{position:"relative",top:"-5px"}},rt={__name:"UserProfile",setup(n){H(()=>{z()});const d=j(),p=q(),M=K();async function T(){let c=p.token,l=await p.logout(c);l.success?M.push({name:"login"}):alert(l.data.error)}const z=async()=>{var i;const l=(i=JSON.parse(localStorage.getItem("user")).user)==null?void 0:i.uuid;await d.show(l)},y=c=>`https://darby-dash.sublimelogics.com/storage/${c}`,a=Q(()=>d.getUser);return(c,l)=>(u(),f(N,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",bordered:"",color:"success"},{default:t(()=>[e(w,{class:"cursor-pointer",color:"primary",variant:"tonal"},{default:t(()=>{var i,v,V,k,b,I,x;return[(V=(v=(i=s(a))==null?void 0:i.info)==null?void 0:v.avatar)!=null&&V.path?(u(),f(P,{key:0,src:y((b=(k=s(a))==null?void 0:k.info)==null?void 0:b.avatar.path)},null,8,["src"])):(u(),C("span",at,m(((I=s(a))==null?void 0:I.name_first.charAt(0))+((x=s(a))==null?void 0:x.name_last.charAt(0))),1)),e(W,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:t(()=>[e(X,null,{default:t(()=>[e(_,null,{prepend:t(()=>[e(et,{start:""},{default:t(()=>[e(N,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success",style:{position:"relative",top:"-10px"}},{default:t(()=>[e(w,{color:"primary",variant:"tonal"},{default:t(()=>{var o,r,A,L,S,U,B;return[(A=(r=(o=s(a))==null?void 0:o.info)==null?void 0:r.avatar)!=null&&A.path?(u(),f(P,{key:0,src:y((S=(L=s(a))==null?void 0:L.info)==null?void 0:S.avatar.path)},null,8,["src"])):(u(),C("span",st,m(((U=s(a))==null?void 0:U.name_first.charAt(0))+((B=s(a))==null?void 0:B.name_last.charAt(0))),1))]}),_:1})]),_:1})]),_:1})]),default:t(()=>[e(h,{class:"font-weight-semibold"},{default:t(()=>{var o,r;return[g(m(((o=s(a))==null?void 0:o.name_first)+" "+((r=s(a))==null?void 0:r.name_last)),1)]}),_:1}),e(Y,{class:"role-company-container",style:{position:"relative",top:"-5px"}},{default:t(()=>{var o,r;return[D("small",null,m((o=s(a))==null?void 0:o.role),1),D("div",ot,m((r=s(a))==null?void 0:r.company),1)]}),_:1})]),_:1}),e(Z,{class:"my-2"}),e(_,{to:"/account-setting"},{prepend:t(()=>[e(E,{class:"me-2",icon:"tabler-user",size:"22"})]),default:t(()=>[e(h,null,{default:t(()=>[g("Profile")]),_:1})]),_:1}),e(_,{onClick:T},{prepend:t(()=>[e(E,{class:"me-2",icon:"tabler-logout",size:"22"})]),default:t(()=>[e(h,null,{default:t(()=>[g("Logout")]),_:1})]),_:1})]),_:1})]),_:1})]}),_:1})]),_:1}))}},lt=G(rt,[["__scopeId","data-v-69625419"]]);export{lt as default};
