import{_ as se}from"./AppLoadingIndicator-D_HIl205.js";import{_ as D,R as K,U as k,T as Q,r as C,W as oe,X as le,Y as X,l as G,j as W,w as P,a as E,o as s,f as p,e as l,d as N,z as F,b as v,n as e,P as H,p as f,I as S,h as y,q as _,J as A,y as R,Z as re,c as w,F as Z,i as ee,x as $,$ as ce,a0 as ue,k as de,a1 as ve,m as Y,a2 as O,a3 as pe,s as q,t as j,v as B,a4 as te,a5 as me,a6 as fe,a7 as ge,a8 as he,A as ye,B as be,a9 as ae,aa as Ne,ab as ke,ac as U,V as _e,Q as xe,S as $e}from"./main-IyjFtNHE.js";import Ce from"./NavbarThemeSwitcher-B3ksv5a7.js";import Ve from"./NavBarNotifications-CmVm6QY-.js";import we from"./UserProfile-joPIz3Kr.js";import{c as Ie,a as ne}from"./casl-EP2U_dlX.js";const Se=K({name:"TransitionExpand",setup(t,{slots:a}){const d=n=>{const o=getComputedStyle(n).width;n.style.width=o,n.style.position="absolute",n.style.visibility="hidden",n.style.height="auto";const b=getComputedStyle(n).height;n.style.width="",n.style.position="",n.style.visibility="",n.style.height="0px",getComputedStyle(n).height,requestAnimationFrame(()=>{n.style.height=b})},r=n=>{n.style.height="auto"},c=n=>{const o=getComputedStyle(n).height;n.style.height=o,getComputedStyle(n).height,requestAnimationFrame(()=>{n.style.height="0px"})};return()=>k(k(Q),{name:"expand",onEnter:d,onAfterEnter:r,onLeave:c},()=>{var n;return(n=a.default)==null?void 0:n.call(a)})}}),Ae=D(Se,[["__scopeId","data-v-22ff91fc"]]),je=t=>(ce("data-v-18c4988b"),t=t(),ue(),t),Re={class:"nav-header"},Te=je(()=>N("div",{class:"vertical-nav-items-shadow"},null,-1)),Le={__name:"VerticalNav",props:{tag:{type:null,required:!1,default:"aside"},navItems:{type:null,required:!0},isOverlayNavActive:{type:Boolean,required:!0},toggleIsOverlayNavActive:{type:Function,required:!0}},setup(t){const a=t,d=C(),r=oe(d);le(X,r);const c=G(),n=g=>"heading"in g?Ee:"children"in g?Be:ie,o=W();P(()=>o.name,()=>{a.toggleIsOverlayNavActive(!1)});const b=C(!1),h=g=>b.value=g,I=g=>{b.value=g.target.scrollTop>0},x=c.isVerticalNavMini(r);return(g,i)=>{const m=E("RouterLink");return s(),p(y(a.tag),{ref_key:"refNav",ref:d,class:$(["layout-vertical-nav",[{"overlay-nav":e(c).isLessThanOverlayNavBreakpoint,hovered:e(r),visible:t.isOverlayNavActive,scrolled:e(b)}]])},{default:l(()=>[N("div",Re,[F(g.$slots,"nav-header",{},()=>[v(m,{to:"/",class:"app-logo app-title-wrapper"},{default:l(()=>[e(x)?(s(),p(e(H),{key:1,nodes:e(f).app.logoHalf},null,8,["nodes"])):(s(),p(e(H),{key:0,nodes:e(f).app.logo},null,8,["nodes"]))]),_:1}),S((s(),p(y(e(f).app.iconRenderer||"div"),_({class:["header-action d-none nav-unpin",e(c).isVerticalNavCollapsed&&"d-lg-block"]},e(f).icons.verticalNavUnPinned,{onClick:i[0]||(i[0]=u=>e(c).isVerticalNavCollapsed=!e(c).isVerticalNavCollapsed)}),null,16,["class"])),[[A,e(c).isVerticalNavCollapsed]]),S((s(),p(y(e(f).app.iconRenderer||"div"),_({class:["header-action d-none nav-pin",!e(c).isVerticalNavCollapsed&&"d-lg-block"]},e(f).icons.verticalNavPinned,{onClick:i[1]||(i[1]=u=>e(c).isVerticalNavCollapsed=!e(c).isVerticalNavCollapsed)}),null,16,["class"])),[[A,!e(c).isVerticalNavCollapsed]]),(s(),p(y(e(f).app.iconRenderer||"div"),_({class:"header-action d-lg-none"},e(f).icons.close,{onClick:i[2]||(i[2]=u=>t.toggleIsOverlayNavActive(!1))}),null,16))],!0)]),F(g.$slots,"before-nav-items",{},()=>[Te],!0),v(m,{to:"/",class:"bottom-logo"},{default:l(()=>[e(x)?R("",!0):(s(),p(e(H),{key:0,nodes:e(f).app.watermarkLogo},null,8,["nodes"]))]),_:1}),F(g.$slots,"nav-items",{updateIsVerticalNavScrolled:h},()=>[(s(),p(e(re),{key:e(c).isAppRTL,tag:"ul",class:"nav-items",options:{wheelPropagation:!1},onPsScrollY:I},{default:l(()=>[(s(!0),w(Z,null,ee(t.navItems,(u,T)=>(s(),p(y(n(u)),{key:T,item:u},null,8,["item"]))),128))]),_:1}))],!0)]),_:3},8,["class"])}}},Oe=D(Le,[["__scopeId","data-v-18c4988b"]]),Pe={class:"nav-group-children"},Be=Object.assign({name:"VerticalNavGroup"},{__name:"VerticalNavGroup",props:{item:{type:null,required:!0}},setup(t){const a=t,d=W(),r=de(),c=G(),n=c.isVerticalNavMini(),o=ve(X,C(!1)),b=C(!1),h=C(!1),I=i=>i.some(m=>{let u=O.value.includes(m.title);return"children"in m&&(u=I(m.children)||u),u}),x=i=>{i.forEach(m=>{"children"in m&&x(m.children),O.value=O.value.filter(u=>u!==m.title)})};P(()=>d.path,()=>{const i=Y(a.item.children,r);h.value=i&&!c.isVerticalNavMini(o).value,b.value=i},{immediate:!0}),P(h,i=>{const m=O.value.indexOf(a.item.title);i&&m===-1?O.value.push(a.item.title):!i&&m!==-1&&(O.value.splice(m,1),x(a.item.children))},{immediate:!0}),P(O,i=>{if(i.at(-1)===a.item.title)return;const u=Y(a.item.children,r);u||I(a.item.children)||(h.value=u,b.value=u)},{deep:!0}),P(c.isVerticalNavMini(o),i=>{h.value=i?!1:b.value});const g=pe();return(i,m)=>e(Ie)(t.item)?(s(),w("li",{key:0,class:$(["nav-group",[{active:e(b),open:e(h),disabled:t.item.disable}]])},[N("div",{class:"nav-group-label",onClick:m[0]||(m[0]=u=>h.value=!e(h))},[(s(),p(y(e(f).app.iconRenderer||"div"),_(t.item.icon||e(f).verticalNav.defaultNavItemIconProps,{class:"nav-item-icon"}),null,16)),(s(),p(y(e(g)?te:"div"),_({name:"transition-slide-x"},e(g)?void 0:{class:"d-flex align-center flex-grow-1"}),{default:l(()=>[S((s(),p(y(e(f).app.i18n.enable?"i18n-t":"span"),_(e(q)(t.item.title,"span"),{key:"title",class:"nav-item-title"}),{default:l(()=>[j(B(t.item.title),1)]),_:1},16)),[[A,!e(n)]]),t.item.badgeContent?S((s(),p(y(e(f).app.i18n.enable?"i18n-t":"span"),_({key:0},e(q)(t.item.badgeContent,"span"),{key:"badge",class:["nav-item-badge",t.item.badgeClass]}),{default:l(()=>[j(B(t.item.badgeContent),1)]),_:1},16,["class"])),[[A,!e(n)]]):R("",!0),S((s(),p(y(e(f).app.iconRenderer||"div"),_(e(f).icons.chevronRight,{key:"arrow",class:"nav-group-arrow"}),null,16)),[[A,!e(n)]])]),_:1},16))]),v(e(Ae),null,{default:l(()=>[S(N("ul",Pe,[(s(!0),w(Z,null,ee(t.item.children,u=>(s(),p(y("children"in u?"VerticalNavGroup":e(ie)),{key:u.title,item:u},null,8,["item"]))),128))],512),[[A,e(h)]])]),_:1})],2)):R("",!0)}}),Me=K({props:{navItems:{type:Array,required:!0},verticalNavAttrs:{type:Object,default:()=>({})}},setup(t,{slots:a}){const{width:d}=me(),r=G(),c=C(!1),n=C(!1),o=fe(c);return ge(c,n),P(d,()=>{!r.isLessThanOverlayNavBreakpoint&&n.value&&(n.value=!1)}),()=>{var L,V,z;const b=he(t,"verticalNavAttrs"),{wrapper:h,wrapperProps:I,...x}=b.value,g=k(Oe,{isOverlayNavActive:c.value,toggleIsOverlayNavActive:o,navItems:t.navItems,...x},{"nav-header":()=>{var M;return(M=a["vertical-nav-header"])==null?void 0:M.call(a)},"before-nav-items":()=>{var M;return(M=a["before-vertical-nav-items"])==null?void 0:M.call(a)}}),i=k("header",{class:["layout-navbar",{"navbar-blur":r.isNavbarBlurEnabled}]},[k("div",{class:"navbar-content-container"},(L=a.navbar)==null?void 0:L.call(a,{toggleVerticalOverlayNavActive:o}))]),m=k("main",{class:"layout-page-content"},k("div",{class:"page-content-container"},(V=a.default)==null?void 0:V.call(a))),u=k("footer",{class:"layout-footer"},[k("div",{class:"footer-content-container"},(z=a.footer)==null?void 0:z.call(a))]),T=k("div",{class:["layout-overlay",{visible:n.value}],onClick:()=>{n.value=!n.value}});return k("div",{class:["layout-wrapper",...r._layoutClasses]},[h?k(h,I,{default:()=>g}):g,k("div",{class:"layout-content-wrapper"},[i,m,u]),T])}}}),ie={__name:"VerticalNavLink",props:{item:{type:null,required:!0}},setup(t){const d=G().isVerticalNavMini();return(r,c)=>e(ne)(t.item.action,t.item.subject)?(s(),w("li",{key:0,class:$(["nav-link",{disabled:t.item.disable}])},[(s(),p(y(t.item.to?"RouterLink":"a"),_(e(be)(t.item),{class:{"router-link-active router-link-exact-active":e(ye)(t.item,r.$router)}}),{default:l(()=>[(s(),p(y(e(f).app.iconRenderer||"div"),_(t.item.icon||e(f).verticalNav.defaultNavItemIconProps,{class:"nav-item-icon"}),null,16)),v(te,{name:"transition-slide-x"},{default:l(()=>[S((s(),p(y(e(f).app.i18n.enable?"i18n-t":"span"),_({key:"title",class:"nav-item-title"},e(q)(t.item.title,"span")),{default:l(()=>[j(B(t.item.title),1)]),_:1},16)),[[A,!e(d)]]),t.item.badgeContent?S((s(),p(y(e(f).app.i18n.enable?"i18n-t":"span"),_({key:"badge",class:["nav-item-badge",t.item.badgeClass]},e(q)(t.item.badgeContent,"span")),{default:l(()=>[j(B(t.item.badgeContent),1)]),_:1},16,["class"])),[[A,!e(d)]]):R("",!0)]),_:1})]),_:1},16,["class"]))],2)):R("",!0)}},qe={key:0,class:"nav-section-title"},Ge={class:"title-wrapper"},Ee={__name:"VerticalNavSectionTitle",props:{item:{type:null,required:!0}},setup(t){const d=G().isVerticalNavMini();return(r,c)=>e(ne)(t.item.action,t.item.subject)?(s(),w("li",qe,[N("div",Ge,[v(Q,{name:"vertical-nav-section-title",mode:"out-in"},{default:l(()=>[(s(),p(y(e(d)?e(f).app.iconRenderer:e(f).app.i18n.enable?"i18n-t":"span"),_({key:e(d),class:e(d)?"placeholder-icon":"title-text"},{...e(f).icons.sectionTitlePlaceholder,...e(q)(t.item.heading,"span")}),{default:l(()=>[j(B(e(d)?null:t.item.heading),1)]),_:1},16,["class"]))]),_:1})])])):R("",!0)}},J=ae().isAdmin,Fe=[{title:"Home",to:{name:"root"},icon:{icon:"tabler-align-box-bottom-center"}},{title:"Projects",icon:{icon:"tabler-chart-histogram"},to:{name:"web-designs-list"}},J&&{title:"Members",icon:{icon:"tabler-users"},to:{name:"members-list"}},J&&{title:"Settings",icon:{icon:"tabler-settings"},children:[{title:"Manage Roles",to:"roles-setting"},{title:"Manage Templates",to:"templates-setting"}]}],He=Fe.filter(Boolean),De={class:"d-flex h-100 align-center"},We={key:0,class:"d-flex align-center"},ze={key:1,class:"text-h6 font-weight-bold me-4"},Ye={key:0},Ue={class:"text-primary"},Je={key:1},Ke={class:"text-primary"},Qe={__name:"DefaultLayoutWithVerticalNav",setup(t){const a=C(!1),d=C(null),r=W(),c=Ne(),n=ae(),o=C(null);C(null),ke(()=>{o.value=r.params.id}),P([a,d],()=>{a.value&&d.value&&d.value.fallbackHandle(),!a.value&&d.value&&d.value.resolveHandle()},{immediate:!0});const b=U(()=>!(r.name==="manage-templates")&&r.params.id!==void 0),h=U(()=>c.getProject);return(I,x)=>{const g=E("IconBtn"),i=E("RouterLink"),m=se,u=E("RouterView");return s(),p(e(Me),{"nav-items":e(He)},{navbar:l(({toggleVerticalOverlayNavActive:T})=>{var L;return[N("div",De,[v(g,{id:"vertical-nav-toggle-btn",class:"ms-n3 d-lg-none",onClick:V=>T(!0)},{default:l(()=>[v(_e,{size:"26",icon:"tabler-menu-2"})]),_:2},1032,["onClick"]),v(Ce),e(b)?(s(),w("div",We,[v(i,{to:`/projects/web-designs/${e(o)}`},{default:l(()=>[N("span",{class:$(["text-h6 ms-3 me-5 inner-badge-text",{"text-primary":e(r).path===`/projects/web-designs/${e(o)}`}])},"Overview",2)]),_:1},8,["to"]),v(i,{to:`/projects/${e(o)}/tasks/add`},{default:l(()=>[N("span",{class:$(["text-h6 me-8 inner-badge-text",{"text-primary":e(r).path===`/projects/${e(o)}/tasks/add`}])}," Tasks ",2)]),_:1},8,["to"]),v(i,{to:`/projects/${e(o)}/milestones`,class:$(["text-h6 me-8 inner-badge-text",{"text-primary":e(r).path===`/projects/${e(o)}/milestones`}])},{default:l(()=>[j(" Milestones ")]),_:1},8,["to","class"]),v(i,{to:`/projects/${e(o)}/calendar`},{default:l(()=>[N("span",{class:$(["text-h6 me-8 inner-badge-text",{"text-primary":e(r).path===`/projects/${e(o)}/calendar`}])},"Calendar",2)]),_:1},8,["to"]),v(i,{to:`/projects/${e(o)}/files`},{default:l(()=>[N("span",{class:$(["text-h6 me-8 inner-badge-text",{"text-primary":e(r).path===`/projects/${e(o)}/files`}])},"Files",2)]),_:1},8,["to"]),v(i,{to:`/projects/${e(o)}/chat`},{default:l(()=>[N("span",{class:$(["text-h6 me-5 inner-badge-text",{"text-primary":e(r).path===`/projects/${e(o)}/chat`}])}," Inbox ",2)]),_:1},8,["to"]),v(i,{to:`/projects/${e(o)}/team`},{default:l(()=>[N("span",{class:$(["text-h6 me-8 inner-badge-text",{"text-primary":e(r).path===`/projects/${e(o)}/team`}])},"Your Team",2)]),_:1},8,["to"]),v(i,{to:`/projects/${e(o)}/payments`},{default:l(()=>[N("span",{class:$(["text-h6 me-8 inner-badge-text",{"text-primary":e(r).path===`/projects/${e(o)}/payments`}])},"Payments",2)]),_:1},8,["to"])])):R("",!0),v(xe),e(b)&&((L=e(h))!=null&&L.bucks_share)?(s(),w("span",ze,[e(n).isAdmin||e(n).isManager?(s(),w("span",Ye,[v(i,{to:`/projects/${e(o)}/bucks`},{default:l(()=>{var V;return[j(" Darby Bucks "),N("span",Ue,"$"+B((V=e(h))==null?void 0:V.bucks_share_amount),1)]}),_:1},8,["to"])])):(s(),w("span",Je,[v(i,{to:`/projects/${e(o)}/bucks?tab=manage-bucks`},{default:l(()=>{var V;return[j(" Earned Bucks "),N("span",Ke,"$"+B((V=e(h))==null?void 0:V.bucks_earnings),1)]}),_:1},8,["to"])]))])):R("",!0),v(Ve,{class:"me-2"}),v(we)])]}),default:l(()=>[v(m,{ref_key:"refLoadingIndicator",ref:d},null,512),v(u,null,{default:l(({Component:T})=>[(s(),p($e,{timeout:0,onFallback:x[0]||(x[0]=L=>a.value=!0),onResolve:x[1]||(x[1]=L=>a.value=!1)},{default:l(()=>[(s(),p(y(T)))]),_:2},1024))]),_:1})]),_:1},8,["nav-items"])}}},it=D(Qe,[["__scopeId","data-v-804d95e1"]]);export{it as default};
