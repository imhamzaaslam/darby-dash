import{E as ce,aI as me,a9 as Se,as as ae,r as v,ac as D,w as pe,aQ as Ce,o as b,c as $,f as z,aR as $e,y as ne,b as e,e as a,av as V,ai as I,aq as C,ao as ie,n as u,d as t,ar as U,V as E,an as fe,aS as ge,ad as ve,au as M,aT as N,aU as ke,I as ee,t as x,aV as _e,F as T,aW as Ue,_ as te,v as S,aX as qe,af as L,aY as be,ak as Z,i as B,q as Ne,x as ye,J as re,aJ as Ae,M as he,N as Ve,O as ze,$ as le,a0 as se,aZ as H,a_ as Ie,a$ as Le,b0 as Te,Q as De,ag as Me,b1 as Fe,aM as we,aj as Re,am as Ee,b2 as Be,b3 as je,b4 as Q,b5 as K,b6 as Ge,aL as ue,p as de,k as Ye,b7 as Je,b8 as We,b9 as X,ba as Oe}from"./main-DkxgVkuo.js";const Qe=""+new URL("default-avatar-BE3H5Dke.png",import.meta.url).href,Xe={class:"d-flex flex-column justify-center gap-4"},He={class:"d-flex flex-wrap gap-2"},Ze=t("span",{class:"d-none d-sm-block"},"Upload new photo",-1),Ke=t("p",{class:"text-body-1 mb-0"}," Allowed JPG, JPEG, GIF or PNG. Max size of 1MB ",-1),ea={key:0},aa={key:1},ta={__name:"AccountSettingsAccount",setup(h){ce(()=>{y(),w()});const i=me(),p=Se(),f=ae(),d=v(!1),l=v({avatar:"",name_first:"",name_last:"",email:"",phone:"",city:"",address:"",company:"",zip:""}),o=v({name_first:"",name_last:"",email:"",phone:"",city:"",address:"",company:"",zip:""}),c=v(),P=v();async function A(s){var g;if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(s.target.files[0].type)||s.target.files[0].size>1024*1024){f.error("Please upload a valid image file.");return}d.value=!0;const n=new FileReader,{files:r}=s.target;r&&r.length&&(n.readAsDataURL(r[0]),n.onload=()=>{typeof n.result=="string"&&(l.value.avatar=n.result)}),await i.updateUserImage(r[0],(g=i.getUser)==null?void 0:g.uuid),R.value?f.error("Something went wrong. Please try again later."):(await y(),f.success("Image uploaded successfully",{timeout:1e3}))}async function m(){var s;(s=P.value)==null||s.validate().then(async({valid:n})=>{var r,g,_;if(n)try{const q=(r=i.getUser)==null?void 0:r.uuid,W=(g=i.getUser)==null?void 0:g.role,O=(_=i.getUser)==null?void 0:_.state;await i.update({...l.value,uuid:q,role:W,state:O}),R.value?k():f.success("Record updated successfully",{timeout:1e3})}catch(q){f.error("Failed to add member:",q)}})}const y=async()=>{var r;d.value=!0;const n=(r=JSON.parse(localStorage.getItem("user")).user)==null?void 0:r.uuid;await i.show(n),d.value=!1},w=async()=>{var n,r,g,_;let s=i.getUser;l.value.name_first=s==null?void 0:s.name_first,l.value.name_last=s==null?void 0:s.name_last,l.value.company=s==null?void 0:s.company,l.value.email=s==null?void 0:s.email,l.value.phone=(n=s==null?void 0:s.info)==null?void 0:n.phone,l.value.city=(r=s==null?void 0:s.info)==null?void 0:r.city,l.value.address=(g=s==null?void 0:s.info)==null?void 0:g.address,l.value.zip=(_=s==null?void 0:s.info)==null?void 0:_.zip},k=()=>{J.value==500||J.value==404?f.error("Something went wrong. Please try again later."):o.value=R.value},F=s=>`https://darby-dash.sublimelogics.com/storage/${s}`,Y=D(()=>i.getLoadStatus),J=D(()=>i.getStatusCode),R=D(()=>i.getErrors),j=D(()=>i.getUser);return pe(()=>i.getUser,()=>{w()},{immediate:!0}),(s,n)=>{const r=Ue,g=Ce("mask");return b(),$(T,null,[d.value?(b(),z($e,{key:0})):ne("",!0),e(M,null,{default:a(()=>[e(V,{cols:"12"},{default:a(()=>[e(I,{title:"Profile Details"},{default:a(()=>[e(C,{class:"d-flex"},{default:a(()=>{var _,q,W,O;return[(q=(_=j.value)==null?void 0:_.info)!=null&&q.avatar?(b(),z(ie,{key:0,rounded:"",size:"100",class:"me-6",image:F((O=(W=j.value)==null?void 0:W.info)==null?void 0:O.avatar.path)},null,8,["image"])):(b(),z(ie,{key:1,rounded:"",size:"100",class:"me-6",image:u(Qe)},null,8,["image"])),t("form",Xe,[t("div",He,[e(U,{color:"primary",onClick:n[0]||(n[0]=et=>{var oe;return(oe=c.value)==null?void 0:oe.click()})},{default:a(()=>[e(E,{icon:"tabler-cloud-upload",class:"d-sm-none"}),Ze]),_:1}),t("input",{ref_key:"refInputEl",ref:c,type:"file",name:"file",accept:".jpeg,.png,.jpg,GIF",hidden:"",onInput:A},null,544)]),Ke])]}),_:1}),e(fe),e(C,{class:"pt-2"},{default:a(()=>[e(ge,{ref_key:"updateMemberForm",ref:P,class:"mt-6",onSubmit:ve(m,["prevent"])},{default:a(()=>[e(M,null,{default:a(()=>[e(V,{md:"6",cols:"12"},{default:a(()=>[e(r,{modelValue:l.value.name_first,"onUpdate:modelValue":n[1]||(n[1]=_=>l.value.name_first=_),placeholder:"John",variant:"outlined",label:"First Name *",rules:["requiredValidator"in s?s.requiredValidator:u(N)],"error-messages":o.value.name_first},null,8,["modelValue","rules","error-messages"])]),_:1}),e(V,{md:"6",cols:"12"},{default:a(()=>[e(r,{modelValue:l.value.name_last,"onUpdate:modelValue":n[2]||(n[2]=_=>l.value.name_last=_),placeholder:"Doe",label:"Last Name *",variant:"outlined",rules:["requiredValidator"in s?s.requiredValidator:u(N)],"error-messages":o.value.name_last},null,8,["modelValue","rules","error-messages"])]),_:1}),e(V,{cols:"12",md:"6"},{default:a(()=>[e(r,{modelValue:l.value.email,"onUpdate:modelValue":n[3]||(n[3]=_=>l.value.email=_),label:"E-mail",placeholder:"johndoe@gmail.com",type:"email *",variant:"outlined",rules:["requiredValidator"in s?s.requiredValidator:u(N),"emailValidator"in s?s.emailValidator:u(ke)],"error-messages":o.value.email},null,8,["modelValue","rules","error-messages"])]),_:1}),e(V,{cols:"12",md:"6"},{default:a(()=>[ee(e(r,{modelValue:l.value.phone,"onUpdate:modelValue":n[4]||(n[4]=_=>l.value.phone=_),label:"Phone *",placeholder:"(123) 456-7890",variant:"outlined",rules:["requiredValidator"in s?s.requiredValidator:u(N)],"error-messages":o.value.phone},null,8,["modelValue","rules","error-messages"]),[[g,"(###) ###-####"]])]),_:1}),u(p).isAdmin?(b(),z(V,{key:0,cols:"12",md:"6"},{default:a(()=>[e(r,{modelValue:l.value.company,"onUpdate:modelValue":n[5]||(n[5]=_=>l.value.company=_),label:"Company *",placeholder:"Company Name",variant:"outlined",rules:["requiredValidator"in s?s.requiredValidator:u(N)],"error-messages":o.value.company},null,8,["modelValue","rules","error-messages"])]),_:1})):ne("",!0),e(V,{cols:"12",md:"6"},{default:a(()=>[e(r,{modelValue:l.value.address,"onUpdate:modelValue":n[6]||(n[6]=_=>l.value.address=_),label:"Address *",placeholder:"123 Main St, New York, NY 10001",variant:"outlined",rules:["requiredValidator"in s?s.requiredValidator:u(N)],"error-messages":o.value.address},null,8,["modelValue","rules","error-messages"])]),_:1}),e(V,{cols:"12",md:"6"},{default:a(()=>[e(r,{modelValue:l.value.city,"onUpdate:modelValue":n[7]||(n[7]=_=>l.value.city=_),label:"City *",placeholder:"New York",rules:["requiredValidator"in s?s.requiredValidator:u(N)],"error-messages":o.value.city},null,8,["modelValue","rules","error-messages"])]),_:1}),e(V,{cols:"12",md:"6"},{default:a(()=>[e(r,{modelValue:l.value.zip,"onUpdate:modelValue":n[8]||(n[8]=_=>l.value.zip=_),label:"Zip Code *",placeholder:"10001",variant:"outlined",rules:["requiredValidator"in s?s.requiredValidator:u(N)],"error-messages":o.value.zip},null,8,["modelValue","rules","error-messages"])]),_:1}),e(V,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:a(()=>[e(U,{type:"submit",disabled:Y.value===1,onClick:n[9]||(n[9]=_=>{var q;return(q=s.editMemberForm)==null?void 0:q.validate()})},{default:a(()=>[Y.value===1?(b(),$("span",ea,[x(" Loading... "),e(_e,{size:20,width:"3",indeterminate:""})])):(b(),$("span",aa," Save "))]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})],64)}}},la=""+new URL("3d-safe-box-with-golden-dollar-coins-1l8l0kXJ.png",import.meta.url).href,sa=""+new URL("3d-space-rocket-with-smoke-DR35GWyq.png",import.meta.url).href,oa=""+new URL("dollar-coins-flying-pink-piggy-bank-C5fySPX-.png",import.meta.url).href,G=h=>(le("data-v-3c0ca6df"),h=h(),se(),h),na={class:"text-center"},ia={class:"text-h3 pricing-title mb-2"},ra=G(()=>t("p",{class:"mb-0"}," All plans include 40+ advanced tools and features to boost your product. ",-1)),ua=G(()=>t("p",{class:"mb-2"}," Choose the best plan to fit your needs. ",-1)),da={class:"d-flex font-weight-medium text-body-1 align-center justify-center mx-auto mt-12 mb-6"},ca={class:"position-relative"},ma=G(()=>t("div",{class:"text-body-1 font-weight-medium"}," Annually ",-1)),pa={class:"save-upto-chip position-absolute align-center d-none d-md-flex gap-1"},fa={class:"text-h4 mb-1 text-center"},ga={class:"mb-0 text-body-1 text-center"},va={class:"position-relative"},_a={class:"d-flex justify-center pt-5 pb-10"},ba=G(()=>t("div",{class:"text-body-1 align-self-start font-weight-medium"}," $ ",-1)),ya={class:"text-h1 font-weight-medium text-primary"},ha=G(()=>t("div",{class:"text-body-1 font-weight-medium align-self-end"}," /month ",-1)),Va={__name:"AppPricing",props:{title:{type:String,required:!1},xs:{type:[Number,String],required:!1},sm:{type:[Number,String],required:!1},md:{type:[String,Number],required:!1},lg:{type:[String,Number],required:!1},xl:{type:[String,Number],required:!1}},setup(h){const i=h,p=v(!0),f=[{name:"Basic",tagLine:"A simple start for everyone",logo:oa,monthlyPrice:0,yearlyPrice:0,isPopular:!1,current:!0,features:["100 responses a month","Unlimited forms and surveys","Unlimited fields","Basic form creation tools","Up to 2 subdomains"]},{name:"Standard",tagLine:"For small to medium businesses",logo:la,monthlyPrice:49,yearlyPrice:499,isPopular:!0,current:!1,features:["Unlimited responses","Unlimited forms and surveys","Instagram profile page","Google Docs integration","Custom “Thank you” page"]},{name:"Enterprise",tagLine:"Solution for big organizations",logo:sa,monthlyPrice:99,yearlyPrice:999,isPopular:!1,current:!1,features:["PayPal payments","Logic Jumps","File upload with 5GB storage","Custom domain support","Stripe integration"]}];return(d,l)=>(b(),$(T,null,[t("div",na,[t("h3",ia,S(i.title?i.title:"Pricing Plans"),1),ra,ua]),t("div",da,[e(qe,{for:"pricing-plan-toggle",class:"me-3"},{default:a(()=>[x(" Monthly ")]),_:1}),t("div",ca,[e(be,{id:"pricing-plan-toggle",modelValue:u(p),"onUpdate:modelValue":l[0]||(l[0]=o=>L(p)?p.value=o:null)},{label:a(()=>[ma]),_:1},8,["modelValue"]),t("div",pa,[e(E,{icon:"tabler-corner-left-down",size:"24",class:"flip-in-rtl mt-2 text-disabled"}),e(Z,{label:"",color:"primary",size:"small"},{default:a(()=>[x(" Save up to 10% ")]),_:1})])])]),e(M,null,{default:a(()=>[(b(),$(T,null,B(f,o=>e(V,Ne({key:o.logo},i,{cols:"12"}),{default:a(()=>[e(I,{flat:"",border:"",class:ye(o.isPopular?"border-primary border-opacity-100":"")},{default:a(()=>[e(C,{style:{"block-size":"3.75rem"},class:"text-end"},{default:a(()=>[ee(e(Z,{label:"",color:"primary",size:"small"},{default:a(()=>[x(" Popular ")]),_:2},1536),[[re,o.isPopular]])]),_:2},1024),e(C,null,{default:a(()=>[e(Ae,{height:120,width:120,src:o.logo,class:"mx-auto mb-5"},null,8,["src"]),t("h4",fa,S(o.name),1),t("p",ga,S(o.tagLine),1),t("div",va,[t("div",_a,[ba,t("h1",ya,S(u(p)?Math.floor(Number(o.yearlyPrice)/12):o.monthlyPrice),1),ha]),ee(t("span",{class:"annual-price-text position-absolute text-caption text-disabled pb-4"},S(o.yearlyPrice===0?"free":`USD ${o.yearlyPrice}/Year`),513),[[re,u(p)]])]),e(he,{class:"card-list mb-4"},{default:a(()=>[(b(!0),$(T,null,B(o.features,c=>(b(),z(Ve,{key:c},{prepend:a(()=>[e(E,{size:"8",icon:"tabler-circle-filled",color:"rgba(var(--v-theme-on-surface), var(--v-medium-emphasis-opacity))"})]),default:a(()=>[e(ze,{class:"text-body-1"},{default:a(()=>[x(S(c),1)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024),e(U,{block:"",color:o.current?"success":"primary",variant:o.isPopular?"elevated":"tonal",to:{name:"front-pages-payment"},active:!1},{default:a(()=>[x(S(o.yearlyPrice===0?"Your Current Plan":"Upgrade"),1)]),_:2},1032,["color","variant"])]),_:2},1024)]),_:2},1032,["class"])]),_:2},1040)),64))]),_:1})],64))}},wa=te(Va,[["__scopeId","data-v-3c0ca6df"]]),xa={__name:"PricingPlanDialog",props:{isDialogVisible:{type:Boolean,required:!0}},emits:["update:isDialogVisible"],setup(h,{emit:i}){const p=h,f=i,d=l=>{f("update:isDialogVisible",l)};return(l,o)=>{const c=Ie,P=wa;return b(),z(H,{"model-value":p.isDialogVisible,width:l.$vuetify.display.smAndDown?"auto":1200,"onUpdate:modelValue":d},{default:a(()=>[e(c,{onClick:o[0]||(o[0]=A=>l.$emit("update:isDialogVisible",!1))}),e(I,{class:"pricing-dialog pa-2 pa-sm-10"},{default:a(()=>[e(C,null,{default:a(()=>[e(P,{md:"4"})]),_:1})]),_:1})]),_:1},8,["model-value","width"])}}},Pa=t("span",{class:"text-5xl"},"!",-1),Sa={class:"text-lg font-weight-medium"},Ca={class:"text-h4 mb-4"},$a=t("span",{class:"text-5xl font-weight-light"},"X",-1),ka={class:"text-h4 mb-4"},Ua={__name:"ConfirmDialog",props:{confirmationQuestion:{type:String,required:!0},isDialogVisible:{type:Boolean,required:!0},confirmTitle:{type:String,required:!0},confirmMsg:{type:String,required:!0},cancelTitle:{type:String,required:!0},cancelMsg:{type:String,required:!0}},emits:["update:isDialogVisible","confirm"],setup(h,{emit:i}){const p=h,f=i,d=v(!1),l=v(!1),o=A=>{f("update:isDialogVisible",A)},c=()=>{f("confirm",!0),o(!1),d.value=!0},P=()=>{f("confirm",!1),f("update:isDialogVisible",!1),l.value=!0};return(A,m)=>(b(),$(T,null,[e(H,{"max-width":"500","model-value":p.isDialogVisible,"onUpdate:modelValue":o},{default:a(()=>[e(I,{class:"text-center px-10 py-6"},{default:a(()=>[e(C,null,{default:a(()=>[e(U,{icon:"",variant:"outlined",color:"warning",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:a(()=>[Pa]),_:1}),t("h6",Sa,S(p.confirmationQuestion),1)]),_:1}),e(C,{class:"d-flex align-center justify-center gap-2"},{default:a(()=>[e(U,{variant:"elevated",onClick:c},{default:a(()=>[x(" Confirm ")]),_:1}),e(U,{color:"secondary",variant:"tonal",onClick:P},{default:a(()=>[x(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]),e(H,{modelValue:u(d),"onUpdate:modelValue":m[1]||(m[1]=y=>L(d)?d.value=y:null),"max-width":"500"},{default:a(()=>[e(I,null,{default:a(()=>[e(C,{class:"text-center px-10 py-6"},{default:a(()=>[e(U,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:a(()=>[e(E,{icon:"tabler-check",size:"38"})]),_:1}),t("h1",Ca,S(p.confirmTitle),1),t("p",null,S(p.confirmMsg),1),e(U,{color:"success",onClick:m[0]||(m[0]=y=>d.value=!1)},{default:a(()=>[x(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(H,{modelValue:u(l),"onUpdate:modelValue":m[3]||(m[3]=y=>L(l)?l.value=y:null),"max-width":"500"},{default:a(()=>[e(I,null,{default:a(()=>[e(C,{class:"text-center px-10 py-6"},{default:a(()=>[e(U,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:a(()=>[$a]),_:1}),t("h1",ka,S(p.cancelTitle),1),t("p",null,S(p.cancelMsg),1),e(U,{color:"success",onClick:m[2]||(m[2]=y=>l.value=!1)},{default:a(()=>[x(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},qa=t("div",{class:"mb-6"},[t("h3",{class:"text-base font-weight-medium mb-1"}," Your Current Plan is Basic "),t("p",{class:"text-base"}," A simple start for everyone ")],-1),Na=t("div",{class:"mb-6"},[t("h3",{class:"text-base font-weight-medium mb-1"}," Active until Dec 09, 2021 "),t("p",{class:"text-base"}," We will send you a notification upon Subscription expiration ")],-1),Aa={class:"text-base font-weight-medium mb-1"},za=t("span",{class:"me-3"},"$199 Per Month",-1),Ia=t("p",{class:"text-base mb-0"}," Standard plan for small to medium businesses ",-1),La=t("span",null,"Your plan requires update",-1),Ta={class:"d-flex font-weight-medium text-base mt-4 mb-2"},Da=t("span",null,"Days",-1),Ma=t("span",null,"24 of 30 Days",-1),Fa=t("p",{class:"text-base mt-2 mb-0"}," 6 days remaining until your plan requires update ",-1),Ra={class:"d-flex flex-wrap gap-y-4"},Ea={__name:"AccountSettingsBillingAndPlans",setup(h){v("credit-debit-atm-card");const i=v(!1),p=v(!1);return v(!1),v(!1),v(),v(0x7b5b5282deb5),v("john Doe"),v("05/24"),v(420),(f,d)=>{const l=Ua,o=xa;return b(),z(M,null,{default:a(()=>[e(V,{cols:"12"},{default:a(()=>[e(I,{title:"Current Plan"},{default:a(()=>[e(C,null,{default:a(()=>[e(M,null,{default:a(()=>[e(V,{cols:"12",md:"6"},{default:a(()=>[t("div",null,[qa,Na,t("div",null,[t("h3",Aa,[za,e(Z,{color:"primary",size:"small",label:""},{default:a(()=>[x(" Popular ")]),_:1})]),Ia])])]),_:1}),e(V,{cols:"12",md:"6"},{default:a(()=>[e(Le,{color:"warning",variant:"tonal"},{default:a(()=>[e(Te,{class:"mb-1"},{default:a(()=>[x(" We need your attention! ")]),_:1}),La]),_:1}),t("h6",Ta,[Da,e(De),Ma]),e(Me,{color:"primary",rounded:"",height:"12","model-value":"75"}),Fa]),_:1}),e(V,{cols:"12"},{default:a(()=>[t("div",Ra,[e(U,{class:"me-3",onClick:d[0]||(d[0]=c=>i.value=!0)},{default:a(()=>[x(" upgrade plan ")]),_:1}),e(U,{color:"secondary",variant:"tonal",onClick:d[1]||(d[1]=c=>p.value=!0)},{default:a(()=>[x(" Cancel Subscription ")]),_:1})])]),_:1})]),_:1}),e(l,{isDialogVisible:u(p),"onUpdate:isDialogVisible":d[2]||(d[2]=c=>L(p)?p.value=c:null),"confirmation-question":"Are you sure to cancel your subscription?","cancel-msg":"Unsubscription Cancelled!!","cancel-title":"Cancelled","confirm-msg":"Your subscription cancelled successfully.","confirm-title":"Unsubscribed!"},null,8,["isDialogVisible"]),e(o,{"is-dialog-visible":u(i),"onUpdate:isDialogVisible":d[3]||(d[3]=c=>L(i)?i.value=c:null)},null,8,["is-dialog-visible"])]),_:1})]),_:1})]),_:1})]),_:1})}}},xe=h=>(le("data-v-da267a80"),h=h(),se(),h),Ba=xe(()=>t("p",{class:"text-sm mt-2 mb-0"}," Manage your preferences for receiving notifications and alerts. ",-1)),ja={class:"d-flex flex-wrap gap-1 mb-4"},Ga=xe(()=>t("thead",null,[t("tr",null,[t("th",{style:{width:"65%"}}," Notification Type "),t("th",{style:{width:"35%"}}," Deliverable Channel ")])],-1)),Ya={class:"d-flex align-items-center"},Ja={__name:"AccountSettingsNotification",setup(h){const i=ae(),p=Fe(),f=v([]),d=v(null),l=D(()=>p.getNotificationSettings),o=async()=>{try{await p.getAllNotifications();const m=l.value;m&&Object.keys(m).length>0?(f.value=Object.keys(m).map(y=>({title:c(y),notifications:m[y].map(w=>({id:w.id,type:w.type,deliverableChannel:w.deliverableChannel}))})),d.value=f.value[0]):i.error("No settings available.")}catch(m){i.error(`Error fetching settings: ${m.message}`)}},c=m=>m.charAt(0).toUpperCase()+m.slice(1),P=m=>{const{id:y,deliverableChannel:w}=m;y&&w!==void 0?p.updateNotificationSetting(y,{deliverable_channel:w}).then(()=>{i.success("Notification channel updated successfully.")}).catch(k=>{i.error(`Error updating notification channel: ${k.message}`)}):i.error("Invalid notification data.")},A=m=>{d.value=f.value.find(y=>y.title===m)||f.value[0]};return we(o),(m,y)=>(b(),z(I,null,{default:a(()=>[e(Re,null,{default:a(()=>[e(Ee,null,{default:a(()=>[x("Notification Settings")]),_:1}),Ba]),_:1}),e(C,null,{default:a(()=>[t("div",ja,[(b(!0),$(T,null,B(f.value,w=>{var k;return b(),z(Z,{key:w.title,class:ye([{"v-chip--active":((k=d.value)==null?void 0:k.title)===w.title},"cursor-pointer"]),color:"primary",onClick:F=>A(w.title)},{default:a(()=>[x(S(w.title)+" Alerts ",1)]),_:2},1032,["class","onClick"])}),128))]),e(Be,{class:"text-no-wrap mt-4",density:"compact",style:{border:"1px solid #e0e0e0"}},{default:a(()=>{var w;return[Ga,t("tbody",null,[(b(!0),$(T,null,B((w=d.value)==null?void 0:w.notifications,k=>(b(),$("tr",{key:k.type},[t("td",null,S(k.type),1),t("td",null,[t("div",Ya,[e(je,{modelValue:k.deliverableChannel,"onUpdate:modelValue":F=>k.deliverableChannel=F,inline:"",onChange:F=>P(k)},{default:a(()=>[e(Q,{label:"Email",value:"mail",class:"me-2",density:"compact"}),e(Q,{label:"Push",value:"database",class:"me-2",density:"compact"}),e(Q,{label:"Both",value:"both",class:"me-2",density:"compact"}),e(Q,{label:"None",value:"null",density:"compact"})]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])])]))),128))])]}),_:1})]),_:1}),e(fe)]),_:1}))}},Wa=te(Ja,[["__scopeId","data-v-da267a80"]]),Pe=h=>(le("data-v-8b68750a"),h=h(),se(),h),Oa=Pe(()=>t("h6",{class:"text-base font-weight-medium mb-3"}," Password Requirements: ",-1)),Qa={key:0},Xa={key:1},Ha=Pe(()=>t("p",null,[x(" Two-factor authentication adds an additional layer of security to your account by requiring more than just a password to log in. "),t("a",{href:"javascript:void(0)",class:"text-decoration-none"},"Learn more.")],-1)),Za={__name:"AccountSettingsSecurity",setup(h){const i=me(),p=ae(),f=v(!1),d=v(!1),l=v(!1),o=v(""),c=v(""),P=v(""),A=v(null),m=v(0),y=v({current_password:null,new_password:null,confirm_password:null}),w=["Minimum 8 characters long - the more, the better","At least one lowercase character","Password and confirm password should match"];ce(async()=>{var n,r;await i.show((n=i.getUser)==null?void 0:n.uuid),m.value=(r=i.getUser)==null?void 0:r.is_2fa});async function k(){var n;(n=A.value)==null||n.validate().then(async({valid:r})=>{var g;if(r){J();const _=(g=i.getUser)==null?void 0:g.uuid,q={current_password:o.value,new_password:c.value,confirm_password:P.value};await i.updatePassword(_,q),R.value?Y():p.success("Password changed successfully")}})}const F=async()=>{var g;const n=(g=i.getUser)==null?void 0:g.uuid,r={isEnable:m.value};await i.updateTwoFactor(n,r),p.success(m.value?"Two-Factor authentication enabled":"Two-Factor authentication disabled")},Y=()=>{s===500?p.error("Something went wrong. Please try again later."):y.value=R.value},J=()=>{for(const n in y.value)y.value[n]=null},R=D(()=>i.getErrors),j=D(()=>i.getLoadStatus),s=D(()=>i.getStatusCode);return(n,r)=>(b(),z(M,null,{default:a(()=>[e(V,{cols:"12",md:"7",sm:"12"},{default:a(()=>[e(I,{title:"Change Password"},{default:a(()=>[e(ge,{ref_key:"passRefForm",ref:A,onSubmit:ve(k,["prevent"])},{default:a(()=>[e(C,{class:"pt-0"},{default:a(()=>[e(M,null,{default:a(()=>[e(V,{cols:"12",md:"12"},{default:a(()=>[e(K,{modelValue:u(o),"onUpdate:modelValue":r[0]||(r[0]=g=>L(o)?o.value=g:null),variant:"outlined",type:u(f)?"text":"password","append-inner-icon":u(f)?"tabler-eye-off":"tabler-eye",label:"Current Password",autocomplete:"on",placeholder:"············",rules:["requiredValidator"in n?n.requiredValidator:u(N)],"error-messages":u(y).current_password,"onClick:appendInner":r[1]||(r[1]=g=>f.value=!u(f))},null,8,["modelValue","type","append-inner-icon","rules","error-messages"])]),_:1})]),_:1}),e(M,null,{default:a(()=>[e(V,{cols:"12",md:"6"},{default:a(()=>[e(K,{modelValue:u(c),"onUpdate:modelValue":r[2]||(r[2]=g=>L(c)?c.value=g:null),type:u(d)?"text":"password",variant:"outlined","append-inner-icon":u(d)?"tabler-eye-off":"tabler-eye",label:"New Password",autocomplete:"on",placeholder:"············",rules:["requiredValidator"in n?n.requiredValidator:u(N)],"error-messages":u(y).new_password,"onClick:appendInner":r[3]||(r[3]=g=>d.value=!u(d))},null,8,["modelValue","type","append-inner-icon","rules","error-messages"])]),_:1}),e(V,{cols:"12",md:"6"},{default:a(()=>[e(K,{modelValue:u(P),"onUpdate:modelValue":r[4]||(r[4]=g=>L(P)?P.value=g:null),type:u(l)?"text":"password",variant:"outlined","append-inner-icon":u(l)?"tabler-eye-off":"tabler-eye",label:"Confirm New Password",autocomplete:"on",placeholder:"············",rules:["requiredValidator"in n?n.requiredValidator:u(N),("confirmedValidator"in n?n.confirmedValidator:u(Ge))(u(P),u(c))],"error-messages":u(y).confirm_password,"onClick:appendInner":r[5]||(r[5]=g=>l.value=!u(l))},null,8,["modelValue","type","append-inner-icon","rules","error-messages"])]),_:1})]),_:1})]),_:1}),e(C,null,{default:a(()=>[Oa,e(he,{class:"card-list"},{default:a(()=>[(b(),$(T,null,B(w,g=>e(Ve,{key:g,title:g,class:"text-medium-emphasis"},{prepend:a(()=>[e(E,{size:"8",icon:"tabler-circle",class:"me-3"})]),_:2},1032,["title"])),64))]),_:1})]),_:1}),e(C,{class:"d-flex flex-wrap gap-4"},{default:a(()=>[e(U,{type:"submit",disabled:u(j)===1},{default:a(()=>[u(j)===1?(b(),$("span",Qa,[x(" Loading... "),e(_e,{size:20,width:"3",indeterminate:""})])):(b(),$("span",Xa," Save "))]),_:1},8,["disabled"])]),_:1})]),_:1},512)]),_:1})]),_:1}),e(V,{cols:"12",md:"5",sm:"12"},{default:a(()=>[e(I,{title:"Two-Factor Authentication"},{default:a(()=>[e(C,null,{default:a(()=>[Ha,e(be,{modelValue:u(m),"onUpdate:modelValue":r[6]||(r[6]=g=>L(m)?m.value=g:null),color:"primary","true-value":1,"false-value":0,onChange:F},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}))}},Ka=te(Za,[["__scopeId","data-v-8b68750a"]]),tt={__name:"account-setting",setup(h){ue({title:`${de.app.title} | Account`}),we(()=>{const o=new URLSearchParams(window.location.search).get("tab");o&&["account","security","billing-plans","notifications"].includes(o)&&d(o)});const i=v("account"),p=Ye(),f=[{title:"Account",icon:"tabler-users",tab:"account"},{title:"Security",icon:"tabler-lock",tab:"security"},{title:"Billing & Plans",icon:"tabler-file-text",tab:"billing-plans"},{title:"Notifications",icon:"tabler-bell",tab:"notifications"}];function d(l){i.value=l}return pe(i,l=>{p.push({query:{tab:l}}),ue({title:`${de.app.title} | ${f.find(o=>o.tab===l).title}`})}),(l,o)=>(b(),$("div",null,[e(We,{modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=c=>i.value=c),class:"v-tabs-pill"},{default:a(()=>[(b(),$(T,null,B(f,c=>e(Je,{key:c.icon,value:c.tab,onClick:P=>d(c.tab)},{default:a(()=>[e(E,{size:"20",start:"",icon:c.icon},null,8,["icon"]),x(" "+S(c.title),1)]),_:2},1032,["value","onClick"])),64))]),_:1},8,["modelValue"]),e(Oe,{modelValue:i.value,"onUpdate:modelValue":o[1]||(o[1]=c=>i.value=c),class:"mt-6 disable-tab-transition",touch:!1},{default:a(()=>[e(X,{value:"account"},{default:a(()=>[e(ta)]),_:1}),e(X,{value:"security"},{default:a(()=>[e(Ka)]),_:1}),e(X,{value:"billing-plans"},{default:a(()=>[e(Ea)]),_:1}),e(X,{value:"notifications"},{default:a(()=>[e(Wa)]),_:1})]),_:1},8,["modelValue"])]))}};export{tt as default};
