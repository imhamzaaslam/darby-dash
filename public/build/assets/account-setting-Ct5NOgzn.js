import{E as pe,aI as fe,ac as ge,as as le,r as f,a9 as L,w as ve,aO as ke,o as _,c as x,f as U,aP as Ue,y as H,b as e,e as a,av as V,ak as z,aq as C,Z as ue,n as r,d as l,ar as k,V as E,ap as _e,aQ as be,af as ye,au as F,aR as A,aS as qe,I as te,t as S,aT as he,F as D,aU as Ae,aV as Ne,_ as se,v as P,aW as ze,ai as T,aX as Ve,am as K,i as j,q as Ie,x as we,J as de,aJ as Le,M as Se,N as Pe,O as Te,a1 as oe,a2 as ne,aY as Z,aZ as De,a_ as Fe,a$ as Me,Q as Re,aj as Be,b0 as Ee,b1 as Ce,al as je,ao as Ge,b2 as Ye,b3 as Je,b4 as Q,b5 as ae,b6 as Oe,b7 as ce,p as me,k as We,b8 as Qe,b9 as Xe,ba as X,bb as Ze}from"./main-D90Ov6g3.js";const He=""+new URL("default-avatar-BE3H5Dke.png",import.meta.url).href,Ke={class:"d-flex flex-column justify-center gap-4"},ea={class:"d-flex flex-wrap gap-2"},aa=l("span",{class:"d-none d-sm-block"},"Upload new photo",-1),ta=l("p",{class:"text-body-1 mb-0"}," Allowed JPG, JPEG, GIF or PNG. Max size of 1MB ",-1),la={key:0},sa={key:1},oa={__name:"AccountSettingsAccount",setup(h){pe(()=>{y(),w()});const n=fe(),d=ge(),g=le(),c=f(!1),o=f({avatar:"",name_first:"",name_last:"",email:"",phone:"",city:"",address:"",company:"",zip:""}),i=f({name_first:"",name_last:"",email:"",phone:"",city:"",address:"",company:"",zip:""}),m=f(),b=f();async function N(t){var q;if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(t.target.files[0].type)||t.target.files[0].size>1024*1024){g.error("Please upload a valid image file.");return}c.value=!0;const s=new FileReader,{files:u}=t.target;u&&u.length&&(s.readAsDataURL(u[0]),s.onload=()=>{typeof s.result=="string"&&(o.value.avatar=s.result)}),await n.updateUserImage(u[0],(q=n.getUser)==null?void 0:q.uuid),B.value?g.error("Something went wrong. Please try again later."):(await y(),g.success("Image uploaded successfully",{timeout:1e3}))}async function p(){var t;(t=b.value)==null||t.validate().then(async({valid:s})=>{var u,q,I;if(s)try{const v=(u=n.getUser)==null?void 0:u.uuid,R=(q=n.getUser)==null?void 0:q.role,W=(I=n.getUser)==null?void 0:I.state;await n.update({...o.value,uuid:v,role:R,state:W}),B.value?$():g.success("Record updated successfully",{timeout:1e3})}catch(v){g.error("Failed to add member:",v)}})}const y=async()=>{var u;c.value=!0;const s=(u=JSON.parse(localStorage.getItem("user")).user)==null?void 0:u.uuid;await n.show(s),c.value=!1},w=async()=>{var s,u,q,I,v;let t=n.getUser;o.value.name_first=t==null?void 0:t.name_first,o.value.name_last=t==null?void 0:t.name_last,o.value.company=t==null?void 0:t.company,o.value.email=t==null?void 0:t.email,o.value.phone=(s=t==null?void 0:t.info)==null?void 0:s.phone,o.value.city=(u=t==null?void 0:t.info)==null?void 0:u.city,o.value.address=(q=t==null?void 0:t.info)==null?void 0:q.address,o.value.zip=(I=t==null?void 0:t.info)==null?void 0:I.zip,o.value.american_state=(v=t==null?void 0:t.info)==null?void 0:v.american_state},$=()=>{G.value==500||G.value==404?g.error("Something went wrong. Please try again later."):i.value=B.value},M=t=>`/storage/${t}`,J=L(()=>n.getLoadStatus),ee=L(()=>d.getCountryStates),G=L(()=>n.getStatusCode),B=L(()=>n.getErrors),O=L(()=>n.getUser);return ve(()=>n.getUser,()=>{w()},{immediate:!0}),(t,s)=>{const u=Ae,q=Ne,I=ke("mask");return _(),x(D,null,[c.value?(_(),U(Ue,{key:0})):H("",!0),e(F,null,{default:a(()=>[e(V,{cols:"12"},{default:a(()=>[e(z,{title:"Profile Details"},{default:a(()=>[e(C,{class:"d-flex"},{default:a(()=>{var v,R,W,ie;return[(R=(v=O.value)==null?void 0:v.info)!=null&&R.avatar?(_(),U(ue,{key:0,rounded:"",size:"100",class:"me-6",image:M((ie=(W=O.value)==null?void 0:W.info)==null?void 0:ie.avatar.path)},null,8,["image"])):(_(),U(ue,{key:1,rounded:"",size:"100",class:"me-6",image:r(He)},null,8,["image"])),l("form",Ke,[l("div",ea,[e(k,{color:"primary",onClick:s[0]||(s[0]=lt=>{var re;return(re=m.value)==null?void 0:re.click()})},{default:a(()=>[e(E,{icon:"tabler-cloud-upload",class:"d-sm-none"}),aa]),_:1}),l("input",{ref_key:"refInputEl",ref:m,type:"file",name:"file",accept:".jpeg,.png,.jpg,GIF",hidden:"",onInput:N},null,544)]),ta])]}),_:1}),e(_e),e(C,{class:"pt-2"},{default:a(()=>[e(be,{ref_key:"updateMemberForm",ref:b,class:"mt-6",onSubmit:ye(p,["prevent"])},{default:a(()=>[e(F,null,{default:a(()=>[e(V,{md:"6",cols:"12"},{default:a(()=>[e(u,{modelValue:o.value.name_first,"onUpdate:modelValue":s[1]||(s[1]=v=>o.value.name_first=v),placeholder:"John",variant:"outlined",label:"First Name *",rules:["requiredValidator"in t?t.requiredValidator:r(A)],"error-messages":i.value.name_first},null,8,["modelValue","rules","error-messages"])]),_:1}),e(V,{md:"6",cols:"12"},{default:a(()=>[e(u,{modelValue:o.value.name_last,"onUpdate:modelValue":s[2]||(s[2]=v=>o.value.name_last=v),placeholder:"Doe",label:"Last Name *",variant:"outlined",rules:["requiredValidator"in t?t.requiredValidator:r(A)],"error-messages":i.value.name_last},null,8,["modelValue","rules","error-messages"])]),_:1}),e(V,{cols:"12",md:"6"},{default:a(()=>[e(u,{modelValue:o.value.email,"onUpdate:modelValue":s[3]||(s[3]=v=>o.value.email=v),label:"E-mail",placeholder:"johndoe@gmail.com",type:"email *",variant:"outlined",rules:["requiredValidator"in t?t.requiredValidator:r(A),"emailValidator"in t?t.emailValidator:r(qe)],"error-messages":i.value.email},null,8,["modelValue","rules","error-messages"])]),_:1}),e(V,{cols:"12",md:"6"},{default:a(()=>[te(e(u,{modelValue:o.value.phone,"onUpdate:modelValue":s[4]||(s[4]=v=>o.value.phone=v),label:"Phone *",placeholder:"(123) 456-7890",variant:"outlined",rules:["requiredValidator"in t?t.requiredValidator:r(A)],"error-messages":i.value.phone},null,8,["modelValue","rules","error-messages"]),[[I,"(###) ###-####"]])]),_:1}),r(d).isAdmin?(_(),U(V,{key:0,cols:"12",md:"6"},{default:a(()=>[e(u,{modelValue:o.value.company,"onUpdate:modelValue":s[5]||(s[5]=v=>o.value.company=v),label:"Company *",placeholder:"Company Name",variant:"outlined",rules:["requiredValidator"in t?t.requiredValidator:r(A)],"error-messages":i.value.company},null,8,["modelValue","rules","error-messages"])]),_:1})):H("",!0),e(V,{cols:"12",md:"6"},{default:a(()=>[e(u,{modelValue:o.value.address,"onUpdate:modelValue":s[6]||(s[6]=v=>o.value.address=v),label:"Address *",placeholder:"123 Main St, New York, NY 10001",variant:"outlined",rules:["requiredValidator"in t?t.requiredValidator:r(A)],"error-messages":i.value.address},null,8,["modelValue","rules","error-messages"])]),_:1}),e(V,{cols:"12",md:"4"},{default:a(()=>[e(u,{modelValue:o.value.city,"onUpdate:modelValue":s[7]||(s[7]=v=>o.value.city=v),label:"City *",placeholder:"New York",rules:["requiredValidator"in t?t.requiredValidator:r(A)],"error-messages":i.value.city},null,8,["modelValue","rules","error-messages"])]),_:1}),e(V,{cols:"12",md:"4"},{default:a(()=>[e(q,{modelValue:o.value.american_state,"onUpdate:modelValue":s[8]||(s[8]=v=>o.value.american_state=v),label:"State*",placeholder:"Select State",rules:["requiredValidator"in t?t.requiredValidator:r(A)],items:ee.value,"item-title":"name","item-value":"id"},null,8,["modelValue","rules","items"])]),_:1}),e(V,{cols:"12",md:"4"},{default:a(()=>[e(u,{modelValue:o.value.zip,"onUpdate:modelValue":s[9]||(s[9]=v=>o.value.zip=v),label:"Zip Code *",placeholder:"10001",variant:"outlined",rules:["requiredValidator"in t?t.requiredValidator:r(A)],"error-messages":i.value.zip},null,8,["modelValue","rules","error-messages"])]),_:1}),e(V,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:a(()=>[e(k,{type:"submit",disabled:J.value===1,onClick:s[10]||(s[10]=v=>{var R;return(R=t.editMemberForm)==null?void 0:R.validate()})},{default:a(()=>[J.value===1?(_(),x("span",la,[S(" Loading... "),e(he,{size:20,width:"3",indeterminate:""})])):(_(),x("span",sa," Save "))]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})],64)}}},na=""+new URL("3d-safe-box-with-golden-dollar-coins-1l8l0kXJ.png",import.meta.url).href,ia=""+new URL("3d-space-rocket-with-smoke-DR35GWyq.png",import.meta.url).href,ra=""+new URL("dollar-coins-flying-pink-piggy-bank-C5fySPX-.png",import.meta.url).href,Y=h=>(oe("data-v-3c0ca6df"),h=h(),ne(),h),ua={class:"text-center"},da={class:"text-h3 pricing-title mb-2"},ca=Y(()=>l("p",{class:"mb-0"}," All plans include 40+ advanced tools and features to boost your product. ",-1)),ma=Y(()=>l("p",{class:"mb-2"}," Choose the best plan to fit your needs. ",-1)),pa={class:"d-flex font-weight-medium text-body-1 align-center justify-center mx-auto mt-12 mb-6"},fa={class:"position-relative"},ga=Y(()=>l("div",{class:"text-body-1 font-weight-medium"}," Annually ",-1)),va={class:"save-upto-chip position-absolute align-center d-none d-md-flex gap-1"},_a={class:"text-h4 mb-1 text-center"},ba={class:"mb-0 text-body-1 text-center"},ya={class:"position-relative"},ha={class:"d-flex justify-center pt-5 pb-10"},Va=Y(()=>l("div",{class:"text-body-1 align-self-start font-weight-medium"}," $ ",-1)),wa={class:"text-h1 font-weight-medium text-primary"},Sa=Y(()=>l("div",{class:"text-body-1 font-weight-medium align-self-end"}," /month ",-1)),Pa={__name:"AppPricing",props:{title:{type:String,required:!1},xs:{type:[Number,String],required:!1},sm:{type:[Number,String],required:!1},md:{type:[String,Number],required:!1},lg:{type:[String,Number],required:!1},xl:{type:[String,Number],required:!1}},setup(h){const n=h,d=f(!0),g=[{name:"Basic",tagLine:"A simple start for everyone",logo:ra,monthlyPrice:0,yearlyPrice:0,isPopular:!1,current:!0,features:["100 responses a month","Unlimited forms and surveys","Unlimited fields","Basic form creation tools","Up to 2 subdomains"]},{name:"Standard",tagLine:"For small to medium businesses",logo:na,monthlyPrice:49,yearlyPrice:499,isPopular:!0,current:!1,features:["Unlimited responses","Unlimited forms and surveys","Instagram profile page","Google Docs integration","Custom “Thank you” page"]},{name:"Enterprise",tagLine:"Solution for big organizations",logo:ia,monthlyPrice:99,yearlyPrice:999,isPopular:!1,current:!1,features:["PayPal payments","Logic Jumps","File upload with 5GB storage","Custom domain support","Stripe integration"]}];return(c,o)=>(_(),x(D,null,[l("div",ua,[l("h3",da,P(n.title?n.title:"Pricing Plans"),1),ca,ma]),l("div",pa,[e(ze,{for:"pricing-plan-toggle",class:"me-3"},{default:a(()=>[S(" Monthly ")]),_:1}),l("div",fa,[e(Ve,{id:"pricing-plan-toggle",modelValue:r(d),"onUpdate:modelValue":o[0]||(o[0]=i=>T(d)?d.value=i:null)},{label:a(()=>[ga]),_:1},8,["modelValue"]),l("div",va,[e(E,{icon:"tabler-corner-left-down",size:"24",class:"flip-in-rtl mt-2 text-disabled"}),e(K,{label:"",color:"primary",size:"small"},{default:a(()=>[S(" Save up to 10% ")]),_:1})])])]),e(F,null,{default:a(()=>[(_(),x(D,null,j(g,i=>e(V,Ie({key:i.logo},n,{cols:"12"}),{default:a(()=>[e(z,{flat:"",border:"",class:we(i.isPopular?"border-primary border-opacity-100":"")},{default:a(()=>[e(C,{style:{"block-size":"3.75rem"},class:"text-end"},{default:a(()=>[te(e(K,{label:"",color:"primary",size:"small"},{default:a(()=>[S(" Popular ")]),_:2},1536),[[de,i.isPopular]])]),_:2},1024),e(C,null,{default:a(()=>[e(Le,{height:120,width:120,src:i.logo,class:"mx-auto mb-5"},null,8,["src"]),l("h4",_a,P(i.name),1),l("p",ba,P(i.tagLine),1),l("div",ya,[l("div",ha,[Va,l("h1",wa,P(r(d)?Math.floor(Number(i.yearlyPrice)/12):i.monthlyPrice),1),Sa]),te(l("span",{class:"annual-price-text position-absolute text-caption text-disabled pb-4"},P(i.yearlyPrice===0?"free":`USD ${i.yearlyPrice}/Year`),513),[[de,r(d)]])]),e(Se,{class:"card-list mb-4"},{default:a(()=>[(_(!0),x(D,null,j(i.features,m=>(_(),U(Pe,{key:m},{prepend:a(()=>[e(E,{size:"8",icon:"tabler-circle-filled",color:"rgba(var(--v-theme-on-surface), var(--v-medium-emphasis-opacity))"})]),default:a(()=>[e(Te,{class:"text-body-1"},{default:a(()=>[S(P(m),1)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024),e(k,{block:"",color:i.current?"success":"primary",variant:i.isPopular?"elevated":"tonal",to:{name:"front-pages-payment"},active:!1},{default:a(()=>[S(P(i.yearlyPrice===0?"Your Current Plan":"Upgrade"),1)]),_:2},1032,["color","variant"])]),_:2},1024)]),_:2},1032,["class"])]),_:2},1040)),64))]),_:1})],64))}},Ca=se(Pa,[["__scopeId","data-v-3c0ca6df"]]),xa={__name:"PricingPlanDialog",props:{isDialogVisible:{type:Boolean,required:!0}},emits:["update:isDialogVisible"],setup(h,{emit:n}){const d=h,g=n,c=o=>{g("update:isDialogVisible",o)};return(o,i)=>{const m=De,b=Ca;return _(),U(Z,{"model-value":d.isDialogVisible,width:o.$vuetify.display.smAndDown?"auto":1200,"onUpdate:modelValue":c},{default:a(()=>[e(m,{onClick:i[0]||(i[0]=N=>o.$emit("update:isDialogVisible",!1))}),e(z,{class:"pricing-dialog pa-2 pa-sm-10"},{default:a(()=>[e(C,null,{default:a(()=>[e(b,{md:"4"})]),_:1})]),_:1})]),_:1},8,["model-value","width"])}}},$a=l("span",{class:"text-5xl"},"!",-1),ka={class:"text-lg font-weight-medium"},Ua={class:"text-h4 mb-4"},qa=l("span",{class:"text-5xl font-weight-light"},"X",-1),Aa={class:"text-h4 mb-4"},Na={__name:"ConfirmDialog",props:{confirmationQuestion:{type:String,required:!0},isDialogVisible:{type:Boolean,required:!0},confirmTitle:{type:String,required:!0},confirmMsg:{type:String,required:!0},cancelTitle:{type:String,required:!0},cancelMsg:{type:String,required:!0}},emits:["update:isDialogVisible","confirm"],setup(h,{emit:n}){const d=h,g=n,c=f(!1),o=f(!1),i=N=>{g("update:isDialogVisible",N)},m=()=>{g("confirm",!0),i(!1),c.value=!0},b=()=>{g("confirm",!1),g("update:isDialogVisible",!1),o.value=!0};return(N,p)=>(_(),x(D,null,[e(Z,{"max-width":"500","model-value":d.isDialogVisible,"onUpdate:modelValue":i},{default:a(()=>[e(z,{class:"text-center px-10 py-6"},{default:a(()=>[e(C,null,{default:a(()=>[e(k,{icon:"",variant:"outlined",color:"warning",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:a(()=>[$a]),_:1}),l("h6",ka,P(d.confirmationQuestion),1)]),_:1}),e(C,{class:"d-flex align-center justify-center gap-2"},{default:a(()=>[e(k,{variant:"elevated",onClick:m},{default:a(()=>[S(" Confirm ")]),_:1}),e(k,{color:"secondary",variant:"tonal",onClick:b},{default:a(()=>[S(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]),e(Z,{modelValue:r(c),"onUpdate:modelValue":p[1]||(p[1]=y=>T(c)?c.value=y:null),"max-width":"500"},{default:a(()=>[e(z,null,{default:a(()=>[e(C,{class:"text-center px-10 py-6"},{default:a(()=>[e(k,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:a(()=>[e(E,{icon:"tabler-check",size:"38"})]),_:1}),l("h1",Ua,P(d.confirmTitle),1),l("p",null,P(d.confirmMsg),1),e(k,{color:"success",onClick:p[0]||(p[0]=y=>c.value=!1)},{default:a(()=>[S(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Z,{modelValue:r(o),"onUpdate:modelValue":p[3]||(p[3]=y=>T(o)?o.value=y:null),"max-width":"500"},{default:a(()=>[e(z,null,{default:a(()=>[e(C,{class:"text-center px-10 py-6"},{default:a(()=>[e(k,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:a(()=>[qa]),_:1}),l("h1",Aa,P(d.cancelTitle),1),l("p",null,P(d.cancelMsg),1),e(k,{color:"success",onClick:p[2]||(p[2]=y=>o.value=!1)},{default:a(()=>[S(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},za=l("div",{class:"mb-6"},[l("h3",{class:"text-base font-weight-medium mb-1"}," Your Current Plan is Basic "),l("p",{class:"text-base"}," A simple start for everyone ")],-1),Ia=l("div",{class:"mb-6"},[l("h3",{class:"text-base font-weight-medium mb-1"}," Active until Dec 09, 2021 "),l("p",{class:"text-base"}," We will send you a notification upon Subscription expiration ")],-1),La={class:"text-base font-weight-medium mb-1"},Ta=l("span",{class:"me-3"},"$199 Per Month",-1),Da=l("p",{class:"text-base mb-0"}," Standard plan for small to medium businesses ",-1),Fa=l("span",null,"Your plan requires update",-1),Ma={class:"d-flex font-weight-medium text-base mt-4 mb-2"},Ra=l("span",null,"Days",-1),Ba=l("span",null,"24 of 30 Days",-1),Ea=l("p",{class:"text-base mt-2 mb-0"}," 6 days remaining until your plan requires update ",-1),ja={class:"d-flex flex-wrap gap-y-4"},Ga={__name:"AccountSettingsBillingAndPlans",setup(h){f("credit-debit-atm-card");const n=f(!1),d=f(!1);return f(!1),f(!1),f(),f(0x7b5b5282deb5),f("john Doe"),f("05/24"),f(420),(g,c)=>{const o=Na,i=xa;return _(),U(F,null,{default:a(()=>[e(V,{cols:"12"},{default:a(()=>[e(z,{title:"Current Plan"},{default:a(()=>[e(C,null,{default:a(()=>[e(F,null,{default:a(()=>[e(V,{cols:"12",md:"6"},{default:a(()=>[l("div",null,[za,Ia,l("div",null,[l("h3",La,[Ta,e(K,{color:"primary",size:"small",label:""},{default:a(()=>[S(" Popular ")]),_:1})]),Da])])]),_:1}),e(V,{cols:"12",md:"6"},{default:a(()=>[e(Fe,{color:"warning",variant:"tonal"},{default:a(()=>[e(Me,{class:"mb-1"},{default:a(()=>[S(" We need your attention! ")]),_:1}),Fa]),_:1}),l("h6",Ma,[Ra,e(Re),Ba]),e(Be,{color:"primary",rounded:"",height:"12","model-value":"75"}),Ea]),_:1}),e(V,{cols:"12"},{default:a(()=>[l("div",ja,[e(k,{class:"me-3",onClick:c[0]||(c[0]=m=>n.value=!0)},{default:a(()=>[S(" upgrade plan ")]),_:1}),e(k,{color:"secondary",variant:"tonal",onClick:c[1]||(c[1]=m=>d.value=!0)},{default:a(()=>[S(" Cancel Subscription ")]),_:1})])]),_:1})]),_:1}),e(o,{isDialogVisible:r(d),"onUpdate:isDialogVisible":c[2]||(c[2]=m=>T(d)?d.value=m:null),"confirmation-question":"Are you sure to cancel your subscription?","cancel-msg":"Unsubscription Cancelled!!","cancel-title":"Cancelled","confirm-msg":"Your subscription cancelled successfully.","confirm-title":"Unsubscribed!"},null,8,["isDialogVisible"]),e(i,{"is-dialog-visible":r(n),"onUpdate:isDialogVisible":c[3]||(c[3]=m=>T(n)?n.value=m:null)},null,8,["is-dialog-visible"])]),_:1})]),_:1})]),_:1})]),_:1})}}},xe=h=>(oe("data-v-0c163609"),h=h(),ne(),h),Ya=xe(()=>l("p",{class:"text-sm mt-2 mb-0"}," Manage your preferences for receiving notifications and alerts. ",-1)),Ja={class:"d-flex flex-wrap gap-1 mb-4"},Oa=xe(()=>l("thead",null,[l("tr",null,[l("th",{style:{width:"65%"}}," Notification Type "),l("th",{style:{width:"35%"}}," Deliverable Channel ")])],-1)),Wa={class:"d-flex align-items-center"},Qa={__name:"AccountSettingsNotification",setup(h){const n=le(),d=Ee(),g=f([]),c=f(null),o=L(()=>d.getNotificationSettings),i=async()=>{try{await d.getAllNotifications();const p=o.value;p&&Object.keys(p).length>0?(g.value=Object.keys(p).map(y=>({title:m(y),notifications:p[y].map(w=>({id:w.id,type:w.type,deliverableChannel:w.deliverableChannel}))})),c.value=g.value[0]):n.error("No settings available.")}catch(p){n.error(`Error fetching settings: ${p.message}`)}},m=p=>p.charAt(0).toUpperCase()+p.slice(1),b=p=>{const{id:y,deliverableChannel:w}=p;y&&w!==void 0?d.updateNotificationSetting(y,{deliverable_channel:w}).then(()=>{n.success("Notification channel updated successfully.")}).catch($=>{n.error(`Error updating notification channel: ${$.message}`)}):n.error("Invalid notification data.")},N=p=>{c.value=g.value.find(y=>y.title===p)||g.value[0]};return Ce(i),(p,y)=>(_(),U(z,null,{default:a(()=>[e(je,null,{default:a(()=>[e(Ge,null,{default:a(()=>[S("Notification Settings")]),_:1}),Ya]),_:1}),e(C,null,{default:a(()=>[l("div",Ja,[(_(!0),x(D,null,j(g.value,w=>{var $;return _(),U(K,{key:w.title,class:we([{"v-chip--active":(($=c.value)==null?void 0:$.title)===w.title},"cursor-pointer"]),color:"primary",onClick:M=>N(w.title)},{default:a(()=>[S(P(w.title)+" Alerts ",1)]),_:2},1032,["class","onClick"])}),128))]),e(Ye,{class:"text-no-wrap mt-4",density:"compact",style:{border:"1px solid #e0e0e0"}},{default:a(()=>{var w;return[Oa,l("tbody",null,[(_(!0),x(D,null,j((w=c.value)==null?void 0:w.notifications,$=>(_(),x("tr",{key:$.type},[l("td",null,P($.type),1),l("td",null,[l("div",Wa,[e(Je,{modelValue:$.deliverableChannel,"onUpdate:modelValue":M=>$.deliverableChannel=M,inline:"",onChange:M=>b($)},{default:a(()=>[e(Q,{label:"Email",value:"mail",class:"me-2",density:"compact"}),e(Q,{label:"Push",value:"database",class:"me-2",density:"compact"}),e(Q,{label:"Both",value:"both",class:"me-2",density:"compact"}),e(Q,{label:"None",value:"null",density:"compact"})]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])])]))),128))])]}),_:1})]),_:1}),e(_e)]),_:1}))}},Xa=se(Qa,[["__scopeId","data-v-0c163609"]]),$e=h=>(oe("data-v-8b68750a"),h=h(),ne(),h),Za=$e(()=>l("h6",{class:"text-base font-weight-medium mb-3"}," Password Requirements: ",-1)),Ha={key:0},Ka={key:1},et=$e(()=>l("p",null,[S(" Two-factor authentication adds an additional layer of security to your account by requiring more than just a password to log in. "),l("a",{href:"javascript:void(0)",class:"text-decoration-none"},"Learn more.")],-1)),at={__name:"AccountSettingsSecurity",setup(h){const n=fe(),d=le(),g=f(!1),c=f(!1),o=f(!1),i=f(""),m=f(""),b=f(""),N=f(null),p=f(0),y=f({current_password:null,new_password:null,confirm_password:null}),w=["Minimum 8 characters long - the more, the better","At least one lowercase character","Password and confirm password should match"];pe(async()=>{var t,s;await n.show((t=n.getUser)==null?void 0:t.uuid),p.value=(s=n.getUser)==null?void 0:s.is_2fa});async function $(){var t;(t=N.value)==null||t.validate().then(async({valid:s})=>{var u;if(s){ee();const q=(u=n.getUser)==null?void 0:u.uuid,I={current_password:i.value,new_password:m.value,confirm_password:b.value};await n.updatePassword(q,I),G.value?J():d.success("Password changed successfully")}})}const M=async()=>{var u;const t=(u=n.getUser)==null?void 0:u.uuid,s={isEnable:p.value};await n.updateTwoFactor(t,s),d.success(p.value?"Two-Factor authentication enabled":"Two-Factor authentication disabled")},J=()=>{O===500?d.error("Something went wrong. Please try again later."):y.value=G.value},ee=()=>{for(const t in y.value)y.value[t]=null},G=L(()=>n.getErrors),B=L(()=>n.getLoadStatus),O=L(()=>n.getStatusCode);return(t,s)=>(_(),U(F,null,{default:a(()=>[e(V,{cols:"12",md:"7",sm:"12"},{default:a(()=>[e(z,{title:"Change Password"},{default:a(()=>[e(be,{ref_key:"passRefForm",ref:N,onSubmit:ye($,["prevent"])},{default:a(()=>[e(C,{class:"pt-0"},{default:a(()=>[e(F,null,{default:a(()=>[e(V,{cols:"12",md:"12"},{default:a(()=>[e(ae,{modelValue:r(i),"onUpdate:modelValue":s[0]||(s[0]=u=>T(i)?i.value=u:null),variant:"outlined",type:r(g)?"text":"password","append-inner-icon":r(g)?"tabler-eye-off":"tabler-eye",label:"Current Password",autocomplete:"on",placeholder:"············",rules:["requiredValidator"in t?t.requiredValidator:r(A)],"error-messages":r(y).current_password,"onClick:appendInner":s[1]||(s[1]=u=>g.value=!r(g))},null,8,["modelValue","type","append-inner-icon","rules","error-messages"])]),_:1})]),_:1}),e(F,null,{default:a(()=>[e(V,{cols:"12",md:"6"},{default:a(()=>[e(ae,{modelValue:r(m),"onUpdate:modelValue":s[2]||(s[2]=u=>T(m)?m.value=u:null),type:r(c)?"text":"password",variant:"outlined","append-inner-icon":r(c)?"tabler-eye-off":"tabler-eye",label:"New Password",autocomplete:"on",placeholder:"············",rules:["requiredValidator"in t?t.requiredValidator:r(A)],"error-messages":r(y).new_password,"onClick:appendInner":s[3]||(s[3]=u=>c.value=!r(c))},null,8,["modelValue","type","append-inner-icon","rules","error-messages"])]),_:1}),e(V,{cols:"12",md:"6"},{default:a(()=>[e(ae,{modelValue:r(b),"onUpdate:modelValue":s[4]||(s[4]=u=>T(b)?b.value=u:null),type:r(o)?"text":"password",variant:"outlined","append-inner-icon":r(o)?"tabler-eye-off":"tabler-eye",label:"Confirm New Password",autocomplete:"on",placeholder:"············",rules:["requiredValidator"in t?t.requiredValidator:r(A),("confirmedValidator"in t?t.confirmedValidator:r(Oe))(r(b),r(m))],"error-messages":r(y).confirm_password,"onClick:appendInner":s[5]||(s[5]=u=>o.value=!r(o))},null,8,["modelValue","type","append-inner-icon","rules","error-messages"])]),_:1})]),_:1})]),_:1}),e(C,null,{default:a(()=>[Za,e(Se,{class:"card-list"},{default:a(()=>[(_(),x(D,null,j(w,u=>e(Pe,{key:u,title:u,class:"text-medium-emphasis"},{prepend:a(()=>[e(E,{size:"8",icon:"tabler-circle",class:"me-3"})]),_:2},1032,["title"])),64))]),_:1})]),_:1}),e(C,{class:"d-flex flex-wrap gap-4"},{default:a(()=>[e(k,{type:"submit",disabled:r(B)===1},{default:a(()=>[r(B)===1?(_(),x("span",Ha,[S(" Loading... "),e(he,{size:20,width:"3",indeterminate:""})])):(_(),x("span",Ka," Save "))]),_:1},8,["disabled"])]),_:1})]),_:1},512)]),_:1})]),_:1}),e(V,{cols:"12",md:"5",sm:"12"},{default:a(()=>[e(z,{title:"Two-Factor Authentication"},{default:a(()=>[e(C,null,{default:a(()=>[et,e(Ve,{modelValue:r(p),"onUpdate:modelValue":s[6]||(s[6]=u=>T(p)?p.value=u:null),color:"primary","true-value":1,"false-value":0,onChange:M},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}))}},tt=se(at,[["__scopeId","data-v-8b68750a"]]),ot={__name:"account-setting",setup(h){ce({title:`${me.app.title} | Account`});const n=ge(),d=f("account"),g=We(),c=[{title:"Account",icon:"tabler-users",tab:"account"},{title:"Security",icon:"tabler-lock",tab:"security"},!n.isSuperAdmin&&{title:"Billing & Plans",icon:"tabler-file-text",tab:"billing-plans"},!n.isSuperAdmin&&{title:"Notifications",icon:"tabler-bell",tab:"notifications"}].filter(Boolean);function o(i){d.value=i}return Ce(()=>{const m=new URLSearchParams(window.location.search).get("tab");m&&c.some(b=>b.tab===m)&&o(m)}),ve(d,i=>{g.push({query:{tab:i}}),ce({title:`${me.app.title} | ${c.find(m=>m.tab===i).title}`})}),(i,m)=>(_(),x("div",null,[e(Xe,{modelValue:d.value,"onUpdate:modelValue":m[0]||(m[0]=b=>d.value=b),class:"v-tabs-pill"},{default:a(()=>[(_(!0),x(D,null,j(r(c),b=>(_(),U(Qe,{key:b.icon,value:b.tab,onClick:N=>o(b.tab)},{default:a(()=>[e(E,{size:"20",start:"",icon:b.icon},null,8,["icon"]),S(" "+P(b.title),1)]),_:2},1032,["value","onClick"]))),128))]),_:1},8,["modelValue"]),e(Ze,{modelValue:d.value,"onUpdate:modelValue":m[1]||(m[1]=b=>d.value=b),class:"mt-6 disable-tab-transition",touch:!1},{default:a(()=>[e(X,{value:"account"},{default:a(()=>[e(oa)]),_:1}),e(X,{value:"security"},{default:a(()=>[e(tt)]),_:1}),r(n).isSuperAdmin?H("",!0):(_(),U(X,{key:0,value:"billing-plans"},{default:a(()=>[e(Ga)]),_:1})),r(n).isSuperAdmin?H("",!0):(_(),U(X,{key:1,value:"notifications"},{default:a(()=>[e(Xa)]),_:1}))]),_:1},8,["modelValue"])]))}};export{ot as default};
