import{_ as se}from"./AppLoadingIndicator-B0uBduxV.js";import{_ as H,R as K,U as k,T as Q,r as C,W as oe,X as re,Y as X,l as G,j as W,w as T,a as E,o as s,f as v,e as r,d as N,z as D,b as m,n as e,P as F,p as f,I as w,h as g,q as _,J as I,y as A,Z as le,c as V,F as Z,i as ee,x as $,$ as ce,a0 as de,k as ue,a1 as ve,m as Y,a2 as O,a3 as pe,s as q,t as S,v as P,a4 as te,a5 as me,a6 as fe,a7 as he,a8 as ge,A as ye,B as be,a9 as ae,aa as Ne,ab as ke,ac as U,V as _e,Q as xe,S as $e}from"./main-CBYtQTm7.js";import Ce from"./NavbarThemeSwitcher-C7R8uqVt.js";import Ve from"./NavBarNotifications-0cqnLmUa.js";import we from"./UserProfile-D8p3wxhH.js";import{c as Ie,a as ne}from"./casl-JAgYd27M.js";const Se=K({name:"TransitionExpand",setup(t,{slots:a}){const u=n=>{const o=getComputedStyle(n).width;n.style.width=o,n.style.position="absolute",n.style.visibility="hidden",n.style.height="auto";const b=getComputedStyle(n).height;n.style.width="",n.style.position="",n.style.visibility="",n.style.height="0px",getComputedStyle(n).height,requestAnimationFrame(()=>{n.style.height=b})},l=n=>{n.style.height="auto"},c=n=>{const o=getComputedStyle(n).height;n.style.height=o,getComputedStyle(n).height,requestAnimationFrame(()=>{n.style.height="0px"})};return()=>k(k(Q),{name:"expand",onEnter:u,onAfterEnter:l,onLeave:c},()=>{var n;return(n=a.default)==null?void 0:n.call(a)})}}),Ae=H(Se,[["__scopeId","data-v-2683bda9"]]),je=t=>(ce("data-v-18c4988b"),t=t(),de(),t),Re={class:"nav-header"},Le=je(()=>N("div",{class:"vertical-nav-items-shadow"},null,-1)),Oe={__name:"VerticalNav",props:{tag:{type:null,required:!1,default:"aside"},navItems:{type:null,required:!0},isOverlayNavActive:{type:Boolean,required:!0},toggleIsOverlayNavActive:{type:Function,required:!0}},setup(t){const a=t,u=C(),l=oe(u);re(X,l);const c=G(),n=h=>"heading"in h?Ee:"children"in h?Be:ie,o=W();T(()=>o.name,()=>{a.toggleIsOverlayNavActive(!1)});const b=C(!1),y=h=>b.value=h,j=h=>{b.value=h.target.scrollTop>0},x=c.isVerticalNavMini(l);return(h,i)=>{const p=E("RouterLink");return s(),v(g(a.tag),{ref_key:"refNav",ref:u,class:$(["layout-vertical-nav",[{"overlay-nav":e(c).isLessThanOverlayNavBreakpoint,hovered:e(l),visible:t.isOverlayNavActive,scrolled:e(b)}]])},{default:r(()=>[N("div",Re,[D(h.$slots,"nav-header",{},()=>[m(p,{to:"/",class:"app-logo app-title-wrapper"},{default:r(()=>[e(x)?(s(),v(e(F),{key:1,nodes:e(f).app.logoHalf},null,8,["nodes"])):(s(),v(e(F),{key:0,nodes:e(f).app.logo},null,8,["nodes"]))]),_:1}),w((s(),v(g(e(f).app.iconRenderer||"div"),_({class:["header-action d-none nav-unpin",e(c).isVerticalNavCollapsed&&"d-lg-block"]},e(f).icons.verticalNavUnPinned,{onClick:i[0]||(i[0]=d=>e(c).isVerticalNavCollapsed=!e(c).isVerticalNavCollapsed)}),null,16,["class"])),[[I,e(c).isVerticalNavCollapsed]]),w((s(),v(g(e(f).app.iconRenderer||"div"),_({class:["header-action d-none nav-pin",!e(c).isVerticalNavCollapsed&&"d-lg-block"]},e(f).icons.verticalNavPinned,{onClick:i[1]||(i[1]=d=>e(c).isVerticalNavCollapsed=!e(c).isVerticalNavCollapsed)}),null,16,["class"])),[[I,!e(c).isVerticalNavCollapsed]]),(s(),v(g(e(f).app.iconRenderer||"div"),_({class:"header-action d-lg-none"},e(f).icons.close,{onClick:i[2]||(i[2]=d=>t.toggleIsOverlayNavActive(!1))}),null,16))],!0)]),D(h.$slots,"before-nav-items",{},()=>[Le],!0),m(p,{to:"/",class:"bottom-logo"},{default:r(()=>[e(x)?A("",!0):(s(),v(e(F),{key:0,nodes:e(f).app.watermarkLogo},null,8,["nodes"]))]),_:1}),D(h.$slots,"nav-items",{updateIsVerticalNavScrolled:y},()=>[(s(),v(e(le),{key:e(c).isAppRTL,tag:"ul",class:"nav-items",options:{wheelPropagation:!1},onPsScrollY:j},{default:r(()=>[(s(!0),V(Z,null,ee(t.navItems,(d,R)=>(s(),v(g(n(d)),{key:R,item:d},null,8,["item"]))),128))]),_:1}))],!0)]),_:3},8,["class"])}}},Te=H(Oe,[["__scopeId","data-v-18c4988b"]]),Pe={class:"nav-group-children"},Be=Object.assign({name:"VerticalNavGroup"},{__name:"VerticalNavGroup",props:{item:{type:null,required:!0}},setup(t){const a=t,u=W(),l=ue(),c=G(),n=c.isVerticalNavMini(),o=ve(X,C(!1)),b=C(!1),y=C(!1),j=i=>i.some(p=>{let d=O.value.includes(p.title);return"children"in p&&(d=j(p.children)||d),d}),x=i=>{i.forEach(p=>{"children"in p&&x(p.children),O.value=O.value.filter(d=>d!==p.title)})};T(()=>u.path,()=>{const i=Y(a.item.children,l);y.value=i&&!c.isVerticalNavMini(o).value,b.value=i},{immediate:!0}),T(y,i=>{const p=O.value.indexOf(a.item.title);i&&p===-1?O.value.push(a.item.title):!i&&p!==-1&&(O.value.splice(p,1),x(a.item.children))},{immediate:!0}),T(O,i=>{if(i.at(-1)===a.item.title)return;const d=Y(a.item.children,l);d||j(a.item.children)||(y.value=d,b.value=d)},{deep:!0}),T(c.isVerticalNavMini(o),i=>{y.value=i?!1:b.value});const h=pe();return(i,p)=>e(Ie)(t.item)?(s(),V("li",{key:0,class:$(["nav-group",[{active:e(b),open:e(y),disabled:t.item.disable}]])},[N("div",{class:"nav-group-label",onClick:p[0]||(p[0]=d=>y.value=!e(y))},[(s(),v(g(e(f).app.iconRenderer||"div"),_(t.item.icon||e(f).verticalNav.defaultNavItemIconProps,{class:"nav-item-icon"}),null,16)),(s(),v(g(e(h)?te:"div"),_({name:"transition-slide-x"},e(h)?void 0:{class:"d-flex align-center flex-grow-1"}),{default:r(()=>[w((s(),v(g(e(f).app.i18n.enable?"i18n-t":"span"),_(e(q)(t.item.title,"span"),{key:"title",class:"nav-item-title"}),{default:r(()=>[S(P(t.item.title),1)]),_:1},16)),[[I,!e(n)]]),t.item.badgeContent?w((s(),v(g(e(f).app.i18n.enable?"i18n-t":"span"),_({key:0},e(q)(t.item.badgeContent,"span"),{key:"badge",class:["nav-item-badge",t.item.badgeClass]}),{default:r(()=>[S(P(t.item.badgeContent),1)]),_:1},16,["class"])),[[I,!e(n)]]):A("",!0),w((s(),v(g(e(f).app.iconRenderer||"div"),_(e(f).icons.chevronRight,{key:"arrow",class:"nav-group-arrow"}),null,16)),[[I,!e(n)]])]),_:1},16))]),m(e(Ae),null,{default:r(()=>[w(N("ul",Pe,[(s(!0),V(Z,null,ee(t.item.children,d=>(s(),v(g("children"in d?"VerticalNavGroup":e(ie)),{key:d.title,item:d},null,8,["item"]))),128))],512),[[I,e(y)]])]),_:1})],2)):A("",!0)}}),Me=K({props:{navItems:{type:Array,required:!0},verticalNavAttrs:{type:Object,default:()=>({})}},setup(t,{slots:a}){const{width:u}=me(),l=G(),c=C(!1),n=C(!1),o=fe(c);return he(c,n),T(u,()=>{!l.isLessThanOverlayNavBreakpoint&&n.value&&(n.value=!1)}),()=>{var L,B,z;const b=ge(t,"verticalNavAttrs"),{wrapper:y,wrapperProps:j,...x}=b.value,h=k(Te,{isOverlayNavActive:c.value,toggleIsOverlayNavActive:o,navItems:t.navItems,...x},{"nav-header":()=>{var M;return(M=a["vertical-nav-header"])==null?void 0:M.call(a)},"before-nav-items":()=>{var M;return(M=a["before-vertical-nav-items"])==null?void 0:M.call(a)}}),i=k("header",{class:["layout-navbar",{"navbar-blur":l.isNavbarBlurEnabled}]},[k("div",{class:"navbar-content-container"},(L=a.navbar)==null?void 0:L.call(a,{toggleVerticalOverlayNavActive:o}))]),p=k("main",{class:"layout-page-content"},k("div",{class:"page-content-container"},(B=a.default)==null?void 0:B.call(a))),d=k("footer",{class:"layout-footer"},[k("div",{class:"footer-content-container"},(z=a.footer)==null?void 0:z.call(a))]),R=k("div",{class:["layout-overlay",{visible:n.value}],onClick:()=>{n.value=!n.value}});return k("div",{class:["layout-wrapper",...l._layoutClasses]},[y?k(y,j,{default:()=>h}):h,k("div",{class:"layout-content-wrapper"},[i,p,d]),R])}}}),ie={__name:"VerticalNavLink",props:{item:{type:null,required:!0}},setup(t){const u=G().isVerticalNavMini();return(l,c)=>e(ne)(t.item.action,t.item.subject)?(s(),V("li",{key:0,class:$(["nav-link",{disabled:t.item.disable}])},[(s(),v(g(t.item.to?"RouterLink":"a"),_(e(be)(t.item),{class:{"router-link-active router-link-exact-active":e(ye)(t.item,l.$router)}}),{default:r(()=>[(s(),v(g(e(f).app.iconRenderer||"div"),_(t.item.icon||e(f).verticalNav.defaultNavItemIconProps,{class:"nav-item-icon"}),null,16)),m(te,{name:"transition-slide-x"},{default:r(()=>[w((s(),v(g(e(f).app.i18n.enable?"i18n-t":"span"),_({key:"title",class:"nav-item-title"},e(q)(t.item.title,"span")),{default:r(()=>[S(P(t.item.title),1)]),_:1},16)),[[I,!e(u)]]),t.item.badgeContent?w((s(),v(g(e(f).app.i18n.enable?"i18n-t":"span"),_({key:"badge",class:["nav-item-badge",t.item.badgeClass]},e(q)(t.item.badgeContent,"span")),{default:r(()=>[S(P(t.item.badgeContent),1)]),_:1},16,["class"])),[[I,!e(u)]]):A("",!0)]),_:1})]),_:1},16,["class"]))],2)):A("",!0)}},qe={key:0,class:"nav-section-title"},Ge={class:"title-wrapper"},Ee={__name:"VerticalNavSectionTitle",props:{item:{type:null,required:!0}},setup(t){const u=G().isVerticalNavMini();return(l,c)=>e(ne)(t.item.action,t.item.subject)?(s(),V("li",qe,[N("div",Ge,[m(Q,{name:"vertical-nav-section-title",mode:"out-in"},{default:r(()=>[(s(),v(g(e(u)?e(f).app.iconRenderer:e(f).app.i18n.enable?"i18n-t":"span"),_({key:e(u),class:e(u)?"placeholder-icon":"title-text"},{...e(f).icons.sectionTitlePlaceholder,...e(q)(t.item.heading,"span")}),{default:r(()=>[S(P(e(u)?null:t.item.heading),1)]),_:1},16,["class"]))]),_:1})])])):A("",!0)}},J=ae().isAdmin,De=[{title:"Home",to:{name:"root"},icon:{icon:"tabler-align-box-bottom-center"}},{title:"Projects",icon:{icon:"tabler-chart-histogram"},to:{name:"web-designs-list"}},J&&{title:"Members",icon:{icon:"tabler-users"},to:{name:"members-list"}},J&&{title:"Roles",icon:{icon:"tabler-shield-check"},to:{name:"roles-setting"}}],Fe=De.filter(Boolean),He={class:"d-flex h-100 align-center"},We={key:0,class:"d-flex align-center"},ze={key:1,class:"text-h6 font-weight-bold me-4"},Ye={key:0},Ue={class:"text-primary"},Je={key:1},Ke={class:"text-primary"},Qe={__name:"DefaultLayoutWithVerticalNav",setup(t){const a=C(!1),u=C(null),l=W(),c=Ne(),n=ae(),o=C(null);C(null),ke(()=>{o.value=l.params.id}),T([a,u],()=>{a.value&&u.value&&u.value.fallbackHandle(),!a.value&&u.value&&u.value.resolveHandle()},{immediate:!0});const b=U(()=>l.params.id!==void 0),y=U(()=>c.getProject);return(j,x)=>{const h=E("IconBtn"),i=E("RouterLink"),p=se,d=E("RouterView");return s(),v(e(Me),{"nav-items":e(Fe)},{navbar:r(({toggleVerticalOverlayNavActive:R})=>{var L;return[N("div",He,[m(h,{id:"vertical-nav-toggle-btn",class:"ms-n3 d-lg-none",onClick:B=>R(!0)},{default:r(()=>[m(_e,{size:"26",icon:"tabler-menu-2"})]),_:2},1032,["onClick"]),m(Ce),e(b)?(s(),V("div",We,[m(i,{to:`/projects/web-designs/${e(o)}`},{default:r(()=>[N("span",{class:$(["text-h6 ms-3 me-5 inner-badge-text",{"text-primary":e(l).path===`/projects/web-designs/${e(o)}`}])},"Overview",2)]),_:1},8,["to"]),m(i,{to:`/projects/${e(o)}/tasks/add`},{default:r(()=>[N("span",{class:$(["text-h6 me-8 inner-badge-text",{"text-primary":e(l).path===`/projects/${e(o)}/tasks/add`}])}," Tasks ",2)]),_:1},8,["to"]),m(i,{to:`/projects/${e(o)}/milestones`,class:$(["text-h6 me-8 inner-badge-text",{"text-primary":e(l).path===`/projects/${e(o)}/milestones`}])},{default:r(()=>[S(" Milestones ")]),_:1},8,["to","class"]),m(i,{to:`/projects/${e(o)}/calendar`},{default:r(()=>[N("span",{class:$(["text-h6 me-8 inner-badge-text",{"text-primary":e(l).path===`/projects/${e(o)}/calendar`}])},"Calendar",2)]),_:1},8,["to"]),m(i,{to:`/projects/${e(o)}/files`},{default:r(()=>[N("span",{class:$(["text-h6 me-8 inner-badge-text",{"text-primary":e(l).path===`/projects/${e(o)}/files`}])},"Files",2)]),_:1},8,["to"]),m(i,{to:`/projects/${e(o)}/chat`},{default:r(()=>[N("span",{class:$(["text-h6 me-5 inner-badge-text",{"text-primary":e(l).path===`/projects/${e(o)}/chat`}])}," Inbox ",2)]),_:1},8,["to"]),m(i,{to:`/projects/${e(o)}/team`},{default:r(()=>[N("span",{class:$(["text-h6 me-8 inner-badge-text",{"text-primary":e(l).path===`/projects/${e(o)}/team`}])},"Your Team",2)]),_:1},8,["to"]),m(i,{to:`/projects/${e(o)}/payments`},{default:r(()=>[N("span",{class:$(["text-h6 me-8 inner-badge-text",{"text-primary":e(l).path===`/projects/${e(o)}/payments`}])},"Payments",2)]),_:1},8,["to"])])):A("",!0),m(xe),e(b)?(s(),V("span",ze,[e(n).isAdmin||e(n).isManager?(s(),V("span",Ye,[m(i,{to:`/projects/${e(o)}/bucks`},{default:r(()=>{var B;return[S(" Darby Bucks "),N("span",Ue,"$"+P((B=e(y))==null?void 0:B.bucks_share_amount),1)]}),_:1},8,["to"])])):(s(),V("span",Je,[S(" Darby Bucks "),N("span",Ke,"$"+P((L=e(y))==null?void 0:L.bucks_share_amount),1)]))])):A("",!0),m(Ve,{class:"me-2"}),m(we)])]}),default:r(()=>[m(p,{ref_key:"refLoadingIndicator",ref:u},null,512),m(d,null,{default:r(({Component:R})=>[(s(),v($e,{timeout:0,onFallback:x[0]||(x[0]=L=>a.value=!0),onResolve:x[1]||(x[1]=L=>a.value=!1)},{default:r(()=>[(s(),v(g(R)))]),_:2},1024))]),_:1})]),_:1},8,["nav-items"])}}},it=H(Qe,[["__scopeId","data-v-92a31e6f"]]);export{it as default};
