import{E as ue,aH as de,as as ee,r as v,ac as F,w as ce,aP as xe,o as y,c as C,f as D,aQ as Pe,y as Se,b as e,e as a,av as V,ah as z,aq as S,an as oe,n as u,d as t,ar as U,V as E,am as me,aR as pe,ap as fe,au as M,aS as A,aT as Ce,I as K,t as w,aU as ge,F as L,aV as $e,_ as ae,v as P,aW as ke,ae as I,aX as ve,aj as H,i as B,q as Ue,x as _e,J as ne,aI as qe,M as be,N as ye,O as Ne,$ as te,a0 as le,aY as X,aZ as Ae,a_ as ze,a$ as Ie,Q as De,af as Le,b0 as Te,aL as he,ai as Fe,al as Me,b1 as Re,b2 as Ee,b3 as O,b4 as Z,b5 as Be,aK as ie,p as re,k as je,b6 as Ge,b7 as Ye,b8 as Q,b9 as Je}from"./main-DtpCqJwv.js";const We=""+new URL("default-avatar-BE3H5Dke.png",import.meta.url).href,Oe={class:"d-flex flex-column justify-center gap-4"},Qe={class:"d-flex flex-wrap gap-2"},Xe=t("span",{class:"d-none d-sm-block"},"Upload new photo",-1),He=t("p",{class:"text-body-1 mb-0"}," Allowed JPG, JPEG, GIF or PNG. Max size of 1MB ",-1),Ze={key:0},Ke={key:1},ea={__name:"AccountSettingsAccount",setup(h){ue(()=>{p(),b()});const o=de(),c=ee(),_=v(!1),l=v({avatar:"",name_first:"",name_last:"",email:"",phone:"",city:"",address:"",zip:""}),d=v({name_first:"",name_last:"",email:"",phone:"",city:"",address:"",zip:""}),n=v(),m=v();async function $(s){var g;if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(s.target.files[0].type)||s.target.files[0].size>1024*1024){c.error("Please upload a valid image file.");return}_.value=!0;const f=new FileReader,{files:r}=s.target;r&&r.length&&(f.readAsDataURL(r[0]),f.onload=()=>{typeof f.result=="string"&&(l.value.avatar=f.result)}),await o.updateUserImage(r[0],(g=o.getUser)==null?void 0:g.uuid),j.value?c.error("Something went wrong. Please try again later."):(await p(),c.success("Image uploaded successfully",{timeout:1e3}))}async function N(){var s;(s=m.value)==null||s.validate().then(async({valid:f})=>{var r,g,i;if(f)try{const q=(r=o.getUser)==null?void 0:r.uuid,R=(g=o.getUser)==null?void 0:g.role,W=(i=o.getUser)==null?void 0:i.state;await o.update({...l.value,uuid:q,role:R,state:W}),j.value?x():c.success("Record updated successfully",{timeout:1e3})}catch(q){c.error("Failed to add member:",q)}})}const p=async()=>{var r;_.value=!0;const f=(r=JSON.parse(localStorage.getItem("user")).user)==null?void 0:r.uuid;await o.show(f),_.value=!1},b=async()=>{var f,r,g,i;let s=o.getUser;l.value.name_first=s==null?void 0:s.name_first,l.value.name_last=s==null?void 0:s.name_last,l.value.email=s==null?void 0:s.email,l.value.phone=(f=s==null?void 0:s.info)==null?void 0:f.phone,l.value.city=(r=s==null?void 0:s.info)==null?void 0:r.city,l.value.address=(g=s==null?void 0:s.info)==null?void 0:g.address,l.value.zip=(i=s==null?void 0:s.info)==null?void 0:i.zip},x=()=>{J.value==500||J.value==404?c.error("Something went wrong. Please try again later."):d.value=j.value},k=s=>`https://darby-dash.sublimelogics.com/storage/${s}`,T=F(()=>o.getLoadStatus),J=F(()=>o.getStatusCode),j=F(()=>o.getErrors),G=F(()=>o.getUser);return ce(()=>o.getUser,()=>{b()},{immediate:!0}),(s,f)=>{const r=$e,g=xe("mask");return y(),C(L,null,[_.value?(y(),D(Pe,{key:0})):Se("",!0),e(M,null,{default:a(()=>[e(V,{cols:"12"},{default:a(()=>[e(z,{title:"Profile Details"},{default:a(()=>[e(S,{class:"d-flex"},{default:a(()=>{var i,q,R,W;return[(q=(i=G.value)==null?void 0:i.info)!=null&&q.avatar?(y(),D(oe,{key:0,rounded:"",size:"100",class:"me-6",image:k((W=(R=G.value)==null?void 0:R.info)==null?void 0:W.avatar.path)},null,8,["image"])):(y(),D(oe,{key:1,rounded:"",size:"100",class:"me-6",image:u(We)},null,8,["image"])),t("form",Oe,[t("div",Qe,[e(U,{color:"primary",onClick:f[0]||(f[0]=Za=>{var se;return(se=n.value)==null?void 0:se.click()})},{default:a(()=>[e(E,{icon:"tabler-cloud-upload",class:"d-sm-none"}),Xe]),_:1}),t("input",{ref_key:"refInputEl",ref:n,type:"file",name:"file",accept:".jpeg,.png,.jpg,GIF",hidden:"",onInput:$},null,544)]),He])]}),_:1}),e(me),e(S,{class:"pt-2"},{default:a(()=>[e(pe,{ref_key:"updateMemberForm",ref:m,class:"mt-6",onSubmit:fe(N,["prevent"])},{default:a(()=>[e(M,null,{default:a(()=>[e(V,{md:"6",cols:"12"},{default:a(()=>[e(r,{modelValue:l.value.name_first,"onUpdate:modelValue":f[1]||(f[1]=i=>l.value.name_first=i),placeholder:"John",variant:"outlined",label:"First Name *",rules:["requiredValidator"in s?s.requiredValidator:u(A)],"error-messages":d.value.name_first},null,8,["modelValue","rules","error-messages"])]),_:1}),e(V,{md:"6",cols:"12"},{default:a(()=>[e(r,{modelValue:l.value.name_last,"onUpdate:modelValue":f[2]||(f[2]=i=>l.value.name_last=i),placeholder:"Doe",label:"Last Name *",variant:"outlined",rules:["requiredValidator"in s?s.requiredValidator:u(A)],"error-messages":d.value.name_last},null,8,["modelValue","rules","error-messages"])]),_:1}),e(V,{cols:"12",md:"6"},{default:a(()=>[e(r,{modelValue:l.value.email,"onUpdate:modelValue":f[3]||(f[3]=i=>l.value.email=i),label:"E-mail",placeholder:"johndoe@gmail.com",type:"email *",variant:"outlined",rules:["requiredValidator"in s?s.requiredValidator:u(A),"emailValidator"in s?s.emailValidator:u(Ce)],"error-messages":d.value.email},null,8,["modelValue","rules","error-messages"])]),_:1}),e(V,{cols:"12",md:"6"},{default:a(()=>[K(e(r,{modelValue:l.value.phone,"onUpdate:modelValue":f[4]||(f[4]=i=>l.value.phone=i),label:"Phone *",placeholder:"(123) 456-7890",variant:"outlined",rules:["requiredValidator"in s?s.requiredValidator:u(A)],"error-messages":d.value.phone},null,8,["modelValue","rules","error-messages"]),[[g,"(###) ###-####"]])]),_:1}),e(V,{cols:"12",md:"6"},{default:a(()=>[e(r,{modelValue:l.value.address,"onUpdate:modelValue":f[5]||(f[5]=i=>l.value.address=i),label:"Address *",placeholder:"123 Main St, New York, NY 10001",variant:"outlined",rules:["requiredValidator"in s?s.requiredValidator:u(A)],"error-messages":d.value.address},null,8,["modelValue","rules","error-messages"])]),_:1}),e(V,{cols:"12",md:"6"},{default:a(()=>[e(r,{modelValue:l.value.city,"onUpdate:modelValue":f[6]||(f[6]=i=>l.value.city=i),label:"City *",placeholder:"New York",rules:["requiredValidator"in s?s.requiredValidator:u(A)],"error-messages":d.value.city},null,8,["modelValue","rules","error-messages"])]),_:1}),e(V,{cols:"12",md:"6"},{default:a(()=>[e(r,{modelValue:l.value.zip,"onUpdate:modelValue":f[7]||(f[7]=i=>l.value.zip=i),label:"Zip Code *",placeholder:"10001",variant:"outlined",rules:["requiredValidator"in s?s.requiredValidator:u(A)],"error-messages":d.value.zip},null,8,["modelValue","rules","error-messages"])]),_:1}),e(V,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:a(()=>[e(U,{type:"submit",disabled:T.value===1,onClick:f[8]||(f[8]=i=>{var q;return(q=s.editMemberForm)==null?void 0:q.validate()})},{default:a(()=>[T.value===1?(y(),C("span",Ze,[w(" Loading... "),e(ge,{size:20,width:"3",indeterminate:""})])):(y(),C("span",Ke," Save "))]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})],64)}}},aa=""+new URL("3d-safe-box-with-golden-dollar-coins-1l8l0kXJ.png",import.meta.url).href,ta=""+new URL("3d-space-rocket-with-smoke-DR35GWyq.png",import.meta.url).href,la=""+new URL("dollar-coins-flying-pink-piggy-bank-C5fySPX-.png",import.meta.url).href,Y=h=>(te("data-v-3c0ca6df"),h=h(),le(),h),sa={class:"text-center"},oa={class:"text-h3 pricing-title mb-2"},na=Y(()=>t("p",{class:"mb-0"}," All plans include 40+ advanced tools and features to boost your product. ",-1)),ia=Y(()=>t("p",{class:"mb-2"}," Choose the best plan to fit your needs. ",-1)),ra={class:"d-flex font-weight-medium text-body-1 align-center justify-center mx-auto mt-12 mb-6"},ua={class:"position-relative"},da=Y(()=>t("div",{class:"text-body-1 font-weight-medium"}," Annually ",-1)),ca={class:"save-upto-chip position-absolute align-center d-none d-md-flex gap-1"},ma={class:"text-h4 mb-1 text-center"},pa={class:"mb-0 text-body-1 text-center"},fa={class:"position-relative"},ga={class:"d-flex justify-center pt-5 pb-10"},va=Y(()=>t("div",{class:"text-body-1 align-self-start font-weight-medium"}," $ ",-1)),_a={class:"text-h1 font-weight-medium text-primary"},ba=Y(()=>t("div",{class:"text-body-1 font-weight-medium align-self-end"}," /month ",-1)),ya={__name:"AppPricing",props:{title:{type:String,required:!1},xs:{type:[Number,String],required:!1},sm:{type:[Number,String],required:!1},md:{type:[String,Number],required:!1},lg:{type:[String,Number],required:!1},xl:{type:[String,Number],required:!1}},setup(h){const o=h,c=v(!0),_=[{name:"Basic",tagLine:"A simple start for everyone",logo:la,monthlyPrice:0,yearlyPrice:0,isPopular:!1,current:!0,features:["100 responses a month","Unlimited forms and surveys","Unlimited fields","Basic form creation tools","Up to 2 subdomains"]},{name:"Standard",tagLine:"For small to medium businesses",logo:aa,monthlyPrice:49,yearlyPrice:499,isPopular:!0,current:!1,features:["Unlimited responses","Unlimited forms and surveys","Instagram profile page","Google Docs integration","Custom “Thank you” page"]},{name:"Enterprise",tagLine:"Solution for big organizations",logo:ta,monthlyPrice:99,yearlyPrice:999,isPopular:!1,current:!1,features:["PayPal payments","Logic Jumps","File upload with 5GB storage","Custom domain support","Stripe integration"]}];return(l,d)=>(y(),C(L,null,[t("div",sa,[t("h3",oa,P(o.title?o.title:"Pricing Plans"),1),na,ia]),t("div",ra,[e(ke,{for:"pricing-plan-toggle",class:"me-3"},{default:a(()=>[w(" Monthly ")]),_:1}),t("div",ua,[e(ve,{id:"pricing-plan-toggle",modelValue:u(c),"onUpdate:modelValue":d[0]||(d[0]=n=>I(c)?c.value=n:null)},{label:a(()=>[da]),_:1},8,["modelValue"]),t("div",ca,[e(E,{icon:"tabler-corner-left-down",size:"24",class:"flip-in-rtl mt-2 text-disabled"}),e(H,{label:"",color:"primary",size:"small"},{default:a(()=>[w(" Save up to 10% ")]),_:1})])])]),e(M,null,{default:a(()=>[(y(),C(L,null,B(_,n=>e(V,Ue({key:n.logo},o,{cols:"12"}),{default:a(()=>[e(z,{flat:"",border:"",class:_e(n.isPopular?"border-primary border-opacity-100":"")},{default:a(()=>[e(S,{style:{"block-size":"3.75rem"},class:"text-end"},{default:a(()=>[K(e(H,{label:"",color:"primary",size:"small"},{default:a(()=>[w(" Popular ")]),_:2},1536),[[ne,n.isPopular]])]),_:2},1024),e(S,null,{default:a(()=>[e(qe,{height:120,width:120,src:n.logo,class:"mx-auto mb-5"},null,8,["src"]),t("h4",ma,P(n.name),1),t("p",pa,P(n.tagLine),1),t("div",fa,[t("div",ga,[va,t("h1",_a,P(u(c)?Math.floor(Number(n.yearlyPrice)/12):n.monthlyPrice),1),ba]),K(t("span",{class:"annual-price-text position-absolute text-caption text-disabled pb-4"},P(n.yearlyPrice===0?"free":`USD ${n.yearlyPrice}/Year`),513),[[ne,u(c)]])]),e(be,{class:"card-list mb-4"},{default:a(()=>[(y(!0),C(L,null,B(n.features,m=>(y(),D(ye,{key:m},{prepend:a(()=>[e(E,{size:"8",icon:"tabler-circle-filled",color:"rgba(var(--v-theme-on-surface), var(--v-medium-emphasis-opacity))"})]),default:a(()=>[e(Ne,{class:"text-body-1"},{default:a(()=>[w(P(m),1)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024),e(U,{block:"",color:n.current?"success":"primary",variant:n.isPopular?"elevated":"tonal",to:{name:"front-pages-payment"},active:!1},{default:a(()=>[w(P(n.yearlyPrice===0?"Your Current Plan":"Upgrade"),1)]),_:2},1032,["color","variant"])]),_:2},1024)]),_:2},1032,["class"])]),_:2},1040)),64))]),_:1})],64))}},ha=ae(ya,[["__scopeId","data-v-3c0ca6df"]]),Va={__name:"PricingPlanDialog",props:{isDialogVisible:{type:Boolean,required:!0}},emits:["update:isDialogVisible"],setup(h,{emit:o}){const c=h,_=o,l=d=>{_("update:isDialogVisible",d)};return(d,n)=>{const m=Ae,$=ha;return y(),D(X,{"model-value":c.isDialogVisible,width:d.$vuetify.display.smAndDown?"auto":1200,"onUpdate:modelValue":l},{default:a(()=>[e(m,{onClick:n[0]||(n[0]=N=>d.$emit("update:isDialogVisible",!1))}),e(z,{class:"pricing-dialog pa-2 pa-sm-10"},{default:a(()=>[e(S,null,{default:a(()=>[e($,{md:"4"})]),_:1})]),_:1})]),_:1},8,["model-value","width"])}}},wa=t("span",{class:"text-5xl"},"!",-1),xa={class:"text-lg font-weight-medium"},Pa={class:"text-h4 mb-4"},Sa=t("span",{class:"text-5xl font-weight-light"},"X",-1),Ca={class:"text-h4 mb-4"},$a={__name:"ConfirmDialog",props:{confirmationQuestion:{type:String,required:!0},isDialogVisible:{type:Boolean,required:!0},confirmTitle:{type:String,required:!0},confirmMsg:{type:String,required:!0},cancelTitle:{type:String,required:!0},cancelMsg:{type:String,required:!0}},emits:["update:isDialogVisible","confirm"],setup(h,{emit:o}){const c=h,_=o,l=v(!1),d=v(!1),n=N=>{_("update:isDialogVisible",N)},m=()=>{_("confirm",!0),n(!1),l.value=!0},$=()=>{_("confirm",!1),_("update:isDialogVisible",!1),d.value=!0};return(N,p)=>(y(),C(L,null,[e(X,{"max-width":"500","model-value":c.isDialogVisible,"onUpdate:modelValue":n},{default:a(()=>[e(z,{class:"text-center px-10 py-6"},{default:a(()=>[e(S,null,{default:a(()=>[e(U,{icon:"",variant:"outlined",color:"warning",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:a(()=>[wa]),_:1}),t("h6",xa,P(c.confirmationQuestion),1)]),_:1}),e(S,{class:"d-flex align-center justify-center gap-2"},{default:a(()=>[e(U,{variant:"elevated",onClick:m},{default:a(()=>[w(" Confirm ")]),_:1}),e(U,{color:"secondary",variant:"tonal",onClick:$},{default:a(()=>[w(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]),e(X,{modelValue:u(l),"onUpdate:modelValue":p[1]||(p[1]=b=>I(l)?l.value=b:null),"max-width":"500"},{default:a(()=>[e(z,null,{default:a(()=>[e(S,{class:"text-center px-10 py-6"},{default:a(()=>[e(U,{icon:"",variant:"outlined",color:"success",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:a(()=>[e(E,{icon:"tabler-check",size:"38"})]),_:1}),t("h1",Pa,P(c.confirmTitle),1),t("p",null,P(c.confirmMsg),1),e(U,{color:"success",onClick:p[0]||(p[0]=b=>l.value=!1)},{default:a(()=>[w(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(X,{modelValue:u(d),"onUpdate:modelValue":p[3]||(p[3]=b=>I(d)?d.value=b:null),"max-width":"500"},{default:a(()=>[e(z,null,{default:a(()=>[e(S,{class:"text-center px-10 py-6"},{default:a(()=>[e(U,{icon:"",variant:"outlined",color:"error",class:"my-4",style:{"block-size":"88px","inline-size":"88px","pointer-events":"none"}},{default:a(()=>[Sa]),_:1}),t("h1",Ca,P(c.cancelTitle),1),t("p",null,P(c.cancelMsg),1),e(U,{color:"success",onClick:p[2]||(p[2]=b=>d.value=!1)},{default:a(()=>[w(" Ok ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},ka=t("div",{class:"mb-6"},[t("h3",{class:"text-base font-weight-medium mb-1"}," Your Current Plan is Basic "),t("p",{class:"text-base"}," A simple start for everyone ")],-1),Ua=t("div",{class:"mb-6"},[t("h3",{class:"text-base font-weight-medium mb-1"}," Active until Dec 09, 2021 "),t("p",{class:"text-base"}," We will send you a notification upon Subscription expiration ")],-1),qa={class:"text-base font-weight-medium mb-1"},Na=t("span",{class:"me-3"},"$199 Per Month",-1),Aa=t("p",{class:"text-base mb-0"}," Standard plan for small to medium businesses ",-1),za=t("span",null,"Your plan requires update",-1),Ia={class:"d-flex font-weight-medium text-base mt-4 mb-2"},Da=t("span",null,"Days",-1),La=t("span",null,"24 of 30 Days",-1),Ta=t("p",{class:"text-base mt-2 mb-0"}," 6 days remaining until your plan requires update ",-1),Fa={class:"d-flex flex-wrap gap-y-4"},Ma={__name:"AccountSettingsBillingAndPlans",setup(h){v("credit-debit-atm-card");const o=v(!1),c=v(!1);return v(!1),v(!1),v(),v(0x7b5b5282deb5),v("john Doe"),v("05/24"),v(420),(_,l)=>{const d=$a,n=Va;return y(),D(M,null,{default:a(()=>[e(V,{cols:"12"},{default:a(()=>[e(z,{title:"Current Plan"},{default:a(()=>[e(S,null,{default:a(()=>[e(M,null,{default:a(()=>[e(V,{cols:"12",md:"6"},{default:a(()=>[t("div",null,[ka,Ua,t("div",null,[t("h3",qa,[Na,e(H,{color:"primary",size:"small",label:""},{default:a(()=>[w(" Popular ")]),_:1})]),Aa])])]),_:1}),e(V,{cols:"12",md:"6"},{default:a(()=>[e(ze,{color:"warning",variant:"tonal"},{default:a(()=>[e(Ie,{class:"mb-1"},{default:a(()=>[w(" We need your attention! ")]),_:1}),za]),_:1}),t("h6",Ia,[Da,e(De),La]),e(Le,{color:"primary",rounded:"",height:"12","model-value":"75"}),Ta]),_:1}),e(V,{cols:"12"},{default:a(()=>[t("div",Fa,[e(U,{class:"me-3",onClick:l[0]||(l[0]=m=>o.value=!0)},{default:a(()=>[w(" upgrade plan ")]),_:1}),e(U,{color:"secondary",variant:"tonal",onClick:l[1]||(l[1]=m=>c.value=!0)},{default:a(()=>[w(" Cancel Subscription ")]),_:1})])]),_:1})]),_:1}),e(d,{isDialogVisible:u(c),"onUpdate:isDialogVisible":l[2]||(l[2]=m=>I(c)?c.value=m:null),"confirmation-question":"Are you sure to cancel your subscription?","cancel-msg":"Unsubscription Cancelled!!","cancel-title":"Cancelled","confirm-msg":"Your subscription cancelled successfully.","confirm-title":"Unsubscribed!"},null,8,["isDialogVisible"]),e(n,{"is-dialog-visible":u(o),"onUpdate:isDialogVisible":l[3]||(l[3]=m=>I(o)?o.value=m:null)},null,8,["is-dialog-visible"])]),_:1})]),_:1})]),_:1})]),_:1})}}},Ve=h=>(te("data-v-da267a80"),h=h(),le(),h),Ra=Ve(()=>t("p",{class:"text-sm mt-2 mb-0"}," Manage your preferences for receiving notifications and alerts. ",-1)),Ea={class:"d-flex flex-wrap gap-1 mb-4"},Ba=Ve(()=>t("thead",null,[t("tr",null,[t("th",{style:{width:"65%"}}," Notification Type "),t("th",{style:{width:"35%"}}," Deliverable Channel ")])],-1)),ja={class:"d-flex align-items-center"},Ga={__name:"AccountSettingsNotification",setup(h){const o=ee(),c=Te(),_=v([]),l=v(null),d=F(()=>c.getNotificationSettings),n=async()=>{try{await c.getAllNotifications();const p=d.value;p&&Object.keys(p).length>0?(_.value=Object.keys(p).map(b=>({title:m(b),notifications:p[b].map(x=>({id:x.id,type:x.type,deliverableChannel:x.deliverableChannel}))})),l.value=_.value[0]):o.error("No settings available.")}catch(p){o.error(`Error fetching settings: ${p.message}`)}},m=p=>p.charAt(0).toUpperCase()+p.slice(1),$=p=>{const{id:b,deliverableChannel:x}=p;b&&x!==void 0?c.updateNotificationSetting(b,{deliverable_channel:x}).then(()=>{o.success("Notification channel updated successfully.")}).catch(k=>{o.error(`Error updating notification channel: ${k.message}`)}):o.error("Invalid notification data.")},N=p=>{l.value=_.value.find(b=>b.title===p)||_.value[0]};return he(n),(p,b)=>(y(),D(z,null,{default:a(()=>[e(Fe,null,{default:a(()=>[e(Me,null,{default:a(()=>[w("Notification Settings")]),_:1}),Ra]),_:1}),e(S,null,{default:a(()=>[t("div",Ea,[(y(!0),C(L,null,B(_.value,x=>{var k;return y(),D(H,{key:x.title,class:_e([{"v-chip--active":((k=l.value)==null?void 0:k.title)===x.title},"cursor-pointer"]),color:"primary",onClick:T=>N(x.title)},{default:a(()=>[w(P(x.title)+" Alerts ",1)]),_:2},1032,["class","onClick"])}),128))]),e(Re,{class:"text-no-wrap mt-4",density:"compact",style:{border:"1px solid #e0e0e0"}},{default:a(()=>{var x;return[Ba,t("tbody",null,[(y(!0),C(L,null,B((x=l.value)==null?void 0:x.notifications,k=>(y(),C("tr",{key:k.type},[t("td",null,P(k.type),1),t("td",null,[t("div",ja,[e(Ee,{modelValue:k.deliverableChannel,"onUpdate:modelValue":T=>k.deliverableChannel=T,inline:"",onChange:T=>$(k)},{default:a(()=>[e(O,{label:"Email",value:"mail",class:"me-2",density:"compact"}),e(O,{label:"Push",value:"database",class:"me-2",density:"compact"}),e(O,{label:"Both",value:"both",class:"me-2",density:"compact"}),e(O,{label:"None",value:"null",density:"compact"})]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])])]))),128))])]}),_:1})]),_:1}),e(me)]),_:1}))}},Ya=ae(Ga,[["__scopeId","data-v-da267a80"]]),we=h=>(te("data-v-8b68750a"),h=h(),le(),h),Ja=we(()=>t("h6",{class:"text-base font-weight-medium mb-3"}," Password Requirements: ",-1)),Wa={key:0},Oa={key:1},Qa=we(()=>t("p",null,[w(" Two-factor authentication adds an additional layer of security to your account by requiring more than just a password to log in. "),t("a",{href:"javascript:void(0)",class:"text-decoration-none"},"Learn more.")],-1)),Xa={__name:"AccountSettingsSecurity",setup(h){const o=de(),c=ee(),_=v(!1),l=v(!1),d=v(!1),n=v(""),m=v(""),$=v(""),N=v(null),p=v(0),b=v({current_password:null,new_password:null,confirm_password:null}),x=["Minimum 8 characters long - the more, the better","At least one lowercase character","Password and confirm password should match"];ue(async()=>{var r,g;await o.show((r=o.getUser)==null?void 0:r.uuid),p.value=(g=o.getUser)==null?void 0:g.is_2fa});async function k(){var r;(r=N.value)==null||r.validate().then(async({valid:g})=>{var i;if(g){j();const q=(i=o.getUser)==null?void 0:i.uuid,R={current_password:n.value,new_password:m.value,confirm_password:$.value};await o.updatePassword(q,R),G.value?J():c.success("Password changed successfully")}})}const T=async()=>{var i;const r=(i=o.getUser)==null?void 0:i.uuid,g={isEnable:p.value};await o.updateTwoFactor(r,g),c.success(p.value?"Two-Factor authentication enabled":"Two-Factor authentication disabled")},J=()=>{f===500?c.error("Something went wrong. Please try again later."):b.value=G.value},j=()=>{for(const r in b.value)b.value[r]=null},G=F(()=>o.getErrors),s=F(()=>o.getLoadStatus),f=F(()=>o.getStatusCode);return(r,g)=>(y(),D(M,null,{default:a(()=>[e(V,{cols:"12",md:"7",sm:"12"},{default:a(()=>[e(z,{title:"Change Password"},{default:a(()=>[e(pe,{ref_key:"passRefForm",ref:N,onSubmit:fe(k,["prevent"])},{default:a(()=>[e(S,{class:"pt-0"},{default:a(()=>[e(M,null,{default:a(()=>[e(V,{cols:"12",md:"12"},{default:a(()=>[e(Z,{modelValue:u(n),"onUpdate:modelValue":g[0]||(g[0]=i=>I(n)?n.value=i:null),variant:"outlined",type:u(_)?"text":"password","append-inner-icon":u(_)?"tabler-eye-off":"tabler-eye",label:"Current Password",autocomplete:"on",placeholder:"············",rules:["requiredValidator"in r?r.requiredValidator:u(A)],"error-messages":u(b).current_password,"onClick:appendInner":g[1]||(g[1]=i=>_.value=!u(_))},null,8,["modelValue","type","append-inner-icon","rules","error-messages"])]),_:1})]),_:1}),e(M,null,{default:a(()=>[e(V,{cols:"12",md:"6"},{default:a(()=>[e(Z,{modelValue:u(m),"onUpdate:modelValue":g[2]||(g[2]=i=>I(m)?m.value=i:null),type:u(l)?"text":"password",variant:"outlined","append-inner-icon":u(l)?"tabler-eye-off":"tabler-eye",label:"New Password",autocomplete:"on",placeholder:"············",rules:["requiredValidator"in r?r.requiredValidator:u(A)],"error-messages":u(b).new_password,"onClick:appendInner":g[3]||(g[3]=i=>l.value=!u(l))},null,8,["modelValue","type","append-inner-icon","rules","error-messages"])]),_:1}),e(V,{cols:"12",md:"6"},{default:a(()=>[e(Z,{modelValue:u($),"onUpdate:modelValue":g[4]||(g[4]=i=>I($)?$.value=i:null),type:u(d)?"text":"password",variant:"outlined","append-inner-icon":u(d)?"tabler-eye-off":"tabler-eye",label:"Confirm New Password",autocomplete:"on",placeholder:"············",rules:["requiredValidator"in r?r.requiredValidator:u(A),("confirmedValidator"in r?r.confirmedValidator:u(Be))(u($),u(m))],"error-messages":u(b).confirm_password,"onClick:appendInner":g[5]||(g[5]=i=>d.value=!u(d))},null,8,["modelValue","type","append-inner-icon","rules","error-messages"])]),_:1})]),_:1})]),_:1}),e(S,null,{default:a(()=>[Ja,e(be,{class:"card-list"},{default:a(()=>[(y(),C(L,null,B(x,i=>e(ye,{key:i,title:i,class:"text-medium-emphasis"},{prepend:a(()=>[e(E,{size:"8",icon:"tabler-circle",class:"me-3"})]),_:2},1032,["title"])),64))]),_:1})]),_:1}),e(S,{class:"d-flex flex-wrap gap-4"},{default:a(()=>[e(U,{type:"submit",disabled:u(s)===1},{default:a(()=>[u(s)===1?(y(),C("span",Wa,[w(" Loading... "),e(ge,{size:20,width:"3",indeterminate:""})])):(y(),C("span",Oa," Save "))]),_:1},8,["disabled"])]),_:1})]),_:1},512)]),_:1})]),_:1}),e(V,{cols:"12",md:"5",sm:"12"},{default:a(()=>[e(z,{title:"Two-Factor Authentication"},{default:a(()=>[e(S,null,{default:a(()=>[Qa,e(ve,{modelValue:u(p),"onUpdate:modelValue":g[6]||(g[6]=i=>I(p)?p.value=i:null),color:"primary","true-value":1,"false-value":0,onChange:T},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}))}},Ha=ae(Xa,[["__scopeId","data-v-8b68750a"]]),et={__name:"account-setting",setup(h){ie({title:`${re.app.title} | Account`}),he(()=>{const n=new URLSearchParams(window.location.search).get("tab");n&&["account","security","billing-plans","notifications"].includes(n)&&l(n)});const o=v("account"),c=je(),_=[{title:"Account",icon:"tabler-users",tab:"account"},{title:"Security",icon:"tabler-lock",tab:"security"},{title:"Billing & Plans",icon:"tabler-file-text",tab:"billing-plans"},{title:"Notifications",icon:"tabler-bell",tab:"notifications"}];function l(d){o.value=d}return ce(o,d=>{c.push({query:{tab:d}}),ie({title:`${re.app.title} | ${_.find(n=>n.tab===d).title}`})}),(d,n)=>(y(),C("div",null,[e(Ye,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=m=>o.value=m),class:"v-tabs-pill"},{default:a(()=>[(y(),C(L,null,B(_,m=>e(Ge,{key:m.icon,value:m.tab,onClick:$=>l(m.tab)},{default:a(()=>[e(E,{size:"20",start:"",icon:m.icon},null,8,["icon"]),w(" "+P(m.title),1)]),_:2},1032,["value","onClick"])),64))]),_:1},8,["modelValue"]),e(Je,{modelValue:o.value,"onUpdate:modelValue":n[1]||(n[1]=m=>o.value=m),class:"mt-6 disable-tab-transition",touch:!1},{default:a(()=>[e(Q,{value:"account"},{default:a(()=>[e(ea)]),_:1}),e(Q,{value:"security"},{default:a(()=>[e(Ha)]),_:1}),e(Q,{value:"billing-plans"},{default:a(()=>[e(Ma)]),_:1}),e(Q,{value:"notifications"},{default:a(()=>[e(Ya)]),_:1})]),_:1},8,["modelValue"])]))}};export{et as default};
