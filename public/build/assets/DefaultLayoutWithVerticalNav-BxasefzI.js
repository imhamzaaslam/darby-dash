import{_ as se}from"./AppLoadingIndicator-DiK8pEJl.js";import{_ as H,R as K,U as k,T as Q,r as V,W as oe,X as re,Y as X,l as q,j as D,w as T,a as G,o as s,f as p,e as r,d as N,z as E,b as v,n as e,P as F,p as f,I,h,q as _,J as S,y as j,Z as le,c as w,F as Z,i as ee,x as C,$ as ce,a0 as de,k as ue,a1 as ve,m as Y,a2 as O,a3 as pe,s as M,t as A,v as P,a4 as te,a5 as me,a6 as fe,a7 as ge,a8 as he,A as ye,B as be,a9 as ae,aa as Ne,ab as ke,ac as U,V as _e,Q as xe,S as $e}from"./main-B09uU4SM.js";import Ce from"./NavbarThemeSwitcher-CaYzdiNc.js";import Ve from"./NavBarNotifications-BBr-bOL6.js";import we from"./UserProfile-DpQuVIs3.js";import{c as Ie,a as ne}from"./casl-eH29NR49.js";const Se=K({name:"TransitionExpand",setup(t,{slots:a}){const u=n=>{const o=getComputedStyle(n).width;n.style.width=o,n.style.position="absolute",n.style.visibility="hidden",n.style.height="auto";const b=getComputedStyle(n).height;n.style.width="",n.style.position="",n.style.visibility="",n.style.height="0px",getComputedStyle(n).height,requestAnimationFrame(()=>{n.style.height=b})},l=n=>{n.style.height="auto"},c=n=>{const o=getComputedStyle(n).height;n.style.height=o,getComputedStyle(n).height,requestAnimationFrame(()=>{n.style.height="0px"})};return()=>k(k(Q),{name:"expand",onEnter:u,onAfterEnter:l,onLeave:c},()=>{var n;return(n=a.default)==null?void 0:n.call(a)})}}),Ae=H(Se,[["__scopeId","data-v-22ff91fc"]]),je=t=>(ce("data-v-18c4988b"),t=t(),de(),t),Re={class:"nav-header"},Le=je(()=>N("div",{class:"vertical-nav-items-shadow"},null,-1)),Oe={__name:"VerticalNav",props:{tag:{type:null,required:!1,default:"aside"},navItems:{type:null,required:!0},isOverlayNavActive:{type:Boolean,required:!0},toggleIsOverlayNavActive:{type:Function,required:!0}},setup(t){const a=t,u=V(),l=oe(u);re(X,l);const c=q(),n=g=>"heading"in g?Ee:"children"in g?Be:ie,o=D();T(()=>o.name,()=>{a.toggleIsOverlayNavActive(!1)});const b=V(!1),y=g=>b.value=g,R=g=>{b.value=g.target.scrollTop>0},x=c.isVerticalNavMini(l);return(g,i)=>{const m=G("RouterLink");return s(),p(h(a.tag),{ref_key:"refNav",ref:u,class:C(["layout-vertical-nav",[{"overlay-nav":e(c).isLessThanOverlayNavBreakpoint,hovered:e(l),visible:t.isOverlayNavActive,scrolled:e(b)}]])},{default:r(()=>[N("div",Re,[E(g.$slots,"nav-header",{},()=>[v(m,{to:"/",class:"app-logo app-title-wrapper"},{default:r(()=>[e(x)?(s(),p(e(F),{key:1,nodes:e(f).app.logoHalf},null,8,["nodes"])):(s(),p(e(F),{key:0,nodes:e(f).app.logo},null,8,["nodes"]))]),_:1}),I((s(),p(h(e(f).app.iconRenderer||"div"),_({class:["header-action d-none nav-unpin",e(c).isVerticalNavCollapsed&&"d-lg-block"]},e(f).icons.verticalNavUnPinned,{onClick:i[0]||(i[0]=d=>e(c).isVerticalNavCollapsed=!e(c).isVerticalNavCollapsed)}),null,16,["class"])),[[S,e(c).isVerticalNavCollapsed]]),I((s(),p(h(e(f).app.iconRenderer||"div"),_({class:["header-action d-none nav-pin",!e(c).isVerticalNavCollapsed&&"d-lg-block"]},e(f).icons.verticalNavPinned,{onClick:i[1]||(i[1]=d=>e(c).isVerticalNavCollapsed=!e(c).isVerticalNavCollapsed)}),null,16,["class"])),[[S,!e(c).isVerticalNavCollapsed]]),(s(),p(h(e(f).app.iconRenderer||"div"),_({class:"header-action d-lg-none"},e(f).icons.close,{onClick:i[2]||(i[2]=d=>t.toggleIsOverlayNavActive(!1))}),null,16))],!0)]),E(g.$slots,"before-nav-items",{},()=>[Le],!0),v(m,{to:"/",class:"bottom-logo"},{default:r(()=>[e(x)?j("",!0):(s(),p(e(F),{key:0,nodes:e(f).app.watermarkLogo},null,8,["nodes"]))]),_:1}),E(g.$slots,"nav-items",{updateIsVerticalNavScrolled:y},()=>[(s(),p(e(le),{key:e(c).isAppRTL,tag:"ul",class:"nav-items",options:{wheelPropagation:!1},onPsScrollY:R},{default:r(()=>[(s(!0),w(Z,null,ee(t.navItems,(d,L)=>(s(),p(h(n(d)),{key:L,item:d},null,8,["item"]))),128))]),_:1}))],!0)]),_:3},8,["class"])}}},Te=H(Oe,[["__scopeId","data-v-18c4988b"]]),Pe={class:"nav-group-children"},Be=Object.assign({name:"VerticalNavGroup"},{__name:"VerticalNavGroup",props:{item:{type:null,required:!0}},setup(t){const a=t,u=D(),l=ue(),c=q(),n=c.isVerticalNavMini(),o=ve(X,V(!1)),b=V(!1),y=V(!1),R=i=>i.some(m=>{let d=O.value.includes(m.title);return"children"in m&&(d=R(m.children)||d),d}),x=i=>{i.forEach(m=>{"children"in m&&x(m.children),O.value=O.value.filter(d=>d!==m.title)})};T(()=>u.path,()=>{const i=Y(a.item.children,l);y.value=i&&!c.isVerticalNavMini(o).value,b.value=i},{immediate:!0}),T(y,i=>{const m=O.value.indexOf(a.item.title);i&&m===-1?O.value.push(a.item.title):!i&&m!==-1&&(O.value.splice(m,1),x(a.item.children))},{immediate:!0}),T(O,i=>{if(i.at(-1)===a.item.title)return;const d=Y(a.item.children,l);d||R(a.item.children)||(y.value=d,b.value=d)},{deep:!0}),T(c.isVerticalNavMini(o),i=>{y.value=i?!1:b.value});const g=pe();return(i,m)=>e(Ie)(t.item)?(s(),w("li",{key:0,class:C(["nav-group",[{active:e(b),open:e(y),disabled:t.item.disable}]])},[N("div",{class:"nav-group-label",onClick:m[0]||(m[0]=d=>y.value=!e(y))},[(s(),p(h(e(f).app.iconRenderer||"div"),_(t.item.icon||e(f).verticalNav.defaultNavItemIconProps,{class:"nav-item-icon"}),null,16)),(s(),p(h(e(g)?te:"div"),_({name:"transition-slide-x"},e(g)?void 0:{class:"d-flex align-center flex-grow-1"}),{default:r(()=>[I((s(),p(h(e(f).app.i18n.enable?"i18n-t":"span"),_(e(M)(t.item.title,"span"),{key:"title",class:"nav-item-title"}),{default:r(()=>[A(P(t.item.title),1)]),_:1},16)),[[S,!e(n)]]),t.item.badgeContent?I((s(),p(h(e(f).app.i18n.enable?"i18n-t":"span"),_({key:0},e(M)(t.item.badgeContent,"span"),{key:"badge",class:["nav-item-badge",t.item.badgeClass]}),{default:r(()=>[A(P(t.item.badgeContent),1)]),_:1},16,["class"])),[[S,!e(n)]]):j("",!0),I((s(),p(h(e(f).app.iconRenderer||"div"),_(e(f).icons.chevronRight,{key:"arrow",class:"nav-group-arrow"}),null,16)),[[S,!e(n)]])]),_:1},16))]),v(e(Ae),null,{default:r(()=>[I(N("ul",Pe,[(s(!0),w(Z,null,ee(t.item.children,d=>(s(),p(h("children"in d?"VerticalNavGroup":e(ie)),{key:d.title,item:d},null,8,["item"]))),128))],512),[[S,e(y)]])]),_:1})],2)):j("",!0)}}),Me=K({props:{navItems:{type:Array,required:!0},verticalNavAttrs:{type:Object,default:()=>({})}},setup(t,{slots:a}){const{width:u}=me(),l=q(),c=V(!1),n=V(!1),o=fe(c);return ge(c,n),T(u,()=>{!l.isLessThanOverlayNavBreakpoint&&n.value&&(n.value=!1)}),()=>{var $,W,z;const b=he(t,"verticalNavAttrs"),{wrapper:y,wrapperProps:R,...x}=b.value,g=k(Te,{isOverlayNavActive:c.value,toggleIsOverlayNavActive:o,navItems:t.navItems,...x},{"nav-header":()=>{var B;return(B=a["vertical-nav-header"])==null?void 0:B.call(a)},"before-nav-items":()=>{var B;return(B=a["before-vertical-nav-items"])==null?void 0:B.call(a)}}),i=k("header",{class:["layout-navbar",{"navbar-blur":l.isNavbarBlurEnabled}]},[k("div",{class:"navbar-content-container"},($=a.navbar)==null?void 0:$.call(a,{toggleVerticalOverlayNavActive:o}))]),m=k("main",{class:"layout-page-content"},k("div",{class:"page-content-container"},(W=a.default)==null?void 0:W.call(a))),d=k("footer",{class:"layout-footer"},[k("div",{class:"footer-content-container"},(z=a.footer)==null?void 0:z.call(a))]),L=k("div",{class:["layout-overlay",{visible:n.value}],onClick:()=>{n.value=!n.value}});return k("div",{class:["layout-wrapper",...l._layoutClasses]},[y?k(y,R,{default:()=>g}):g,k("div",{class:"layout-content-wrapper"},[i,m,d]),L])}}}),ie={__name:"VerticalNavLink",props:{item:{type:null,required:!0}},setup(t){const u=q().isVerticalNavMini();return(l,c)=>e(ne)(t.item.action,t.item.subject)?(s(),w("li",{key:0,class:C(["nav-link",{disabled:t.item.disable}])},[(s(),p(h(t.item.to?"RouterLink":"a"),_(e(be)(t.item),{class:{"router-link-active router-link-exact-active":e(ye)(t.item,l.$router)}}),{default:r(()=>[(s(),p(h(e(f).app.iconRenderer||"div"),_(t.item.icon||e(f).verticalNav.defaultNavItemIconProps,{class:"nav-item-icon"}),null,16)),v(te,{name:"transition-slide-x"},{default:r(()=>[I((s(),p(h(e(f).app.i18n.enable?"i18n-t":"span"),_({key:"title",class:"nav-item-title"},e(M)(t.item.title,"span")),{default:r(()=>[A(P(t.item.title),1)]),_:1},16)),[[S,!e(u)]]),t.item.badgeContent?I((s(),p(h(e(f).app.i18n.enable?"i18n-t":"span"),_({key:"badge",class:["nav-item-badge",t.item.badgeClass]},e(M)(t.item.badgeContent,"span")),{default:r(()=>[A(P(t.item.badgeContent),1)]),_:1},16,["class"])),[[S,!e(u)]]):j("",!0)]),_:1})]),_:1},16,["class"]))],2)):j("",!0)}},qe={key:0,class:"nav-section-title"},Ge={class:"title-wrapper"},Ee={__name:"VerticalNavSectionTitle",props:{item:{type:null,required:!0}},setup(t){const u=q().isVerticalNavMini();return(l,c)=>e(ne)(t.item.action,t.item.subject)?(s(),w("li",qe,[N("div",Ge,[v(Q,{name:"vertical-nav-section-title",mode:"out-in"},{default:r(()=>[(s(),p(h(e(u)?e(f).app.iconRenderer:e(f).app.i18n.enable?"i18n-t":"span"),_({key:e(u),class:e(u)?"placeholder-icon":"title-text"},{...e(f).icons.sectionTitlePlaceholder,...e(M)(t.item.heading,"span")}),{default:r(()=>[A(P(e(u)?null:t.item.heading),1)]),_:1},16,["class"]))]),_:1})])])):j("",!0)}},J=ae().isAdmin,Fe=[{title:"Home",to:{name:"root"},icon:{icon:"tabler-align-box-bottom-center"}},{title:"Projects",icon:{icon:"tabler-chart-histogram"},to:{name:"web-designs-list"}},J&&{title:"Members",icon:{icon:"tabler-users"},to:{name:"members-list"}},J&&{title:"Roles",icon:{icon:"tabler-shield-check"},to:{name:"roles-setting"}}],He=Fe.filter(Boolean),De={class:"d-flex h-100 align-center"},We={key:0,class:"d-flex align-center"},ze={key:1,class:"text-h6 font-weight-bold me-4"},Ye={key:0},Ue={class:"text-primary"},Je={key:1},Ke={class:"text-primary"},Qe={__name:"DefaultLayoutWithVerticalNav",setup(t){const a=V(!1),u=V(null),l=D(),c=Ne(),n=ae(),o=V(null);V(null),ke(()=>{o.value=l.params.id}),T([a,u],()=>{a.value&&u.value&&u.value.fallbackHandle(),!a.value&&u.value&&u.value.resolveHandle()},{immediate:!0});const b=U(()=>l.params.id!==void 0),y=U(()=>c.getProject);return(R,x)=>{const g=G("IconBtn"),i=G("RouterLink"),m=se,d=G("RouterView");return s(),p(e(Me),{"nav-items":e(He)},{navbar:r(({toggleVerticalOverlayNavActive:L})=>[N("div",De,[v(g,{id:"vertical-nav-toggle-btn",class:"ms-n3 d-lg-none",onClick:$=>L(!0)},{default:r(()=>[v(_e,{size:"26",icon:"tabler-menu-2"})]),_:2},1032,["onClick"]),v(Ce),e(b)?(s(),w("div",We,[v(i,{to:`/projects/web-designs/${e(o)}`},{default:r(()=>[N("span",{class:C(["text-h6 ms-3 me-5 inner-badge-text",{"text-primary":e(l).path===`/projects/web-designs/${e(o)}`}])},"Overview",2)]),_:1},8,["to"]),v(i,{to:`/projects/${e(o)}/tasks/add`},{default:r(()=>[N("span",{class:C(["text-h6 me-8 inner-badge-text",{"text-primary":e(l).path===`/projects/${e(o)}/tasks/add`}])}," Tasks ",2)]),_:1},8,["to"]),v(i,{to:`/projects/${e(o)}/milestones`,class:C(["text-h6 me-8 inner-badge-text",{"text-primary":e(l).path===`/projects/${e(o)}/milestones`}])},{default:r(()=>[A(" Milestones ")]),_:1},8,["to","class"]),v(i,{to:`/projects/${e(o)}/calendar`},{default:r(()=>[N("span",{class:C(["text-h6 me-8 inner-badge-text",{"text-primary":e(l).path===`/projects/${e(o)}/calendar`}])},"Calendar",2)]),_:1},8,["to"]),v(i,{to:`/projects/${e(o)}/files`},{default:r(()=>[N("span",{class:C(["text-h6 me-8 inner-badge-text",{"text-primary":e(l).path===`/projects/${e(o)}/files`}])},"Files",2)]),_:1},8,["to"]),v(i,{to:`/projects/${e(o)}/chat`},{default:r(()=>[N("span",{class:C(["text-h6 me-5 inner-badge-text",{"text-primary":e(l).path===`/projects/${e(o)}/chat`}])}," Inbox ",2)]),_:1},8,["to"]),v(i,{to:`/projects/${e(o)}/team`},{default:r(()=>[N("span",{class:C(["text-h6 me-8 inner-badge-text",{"text-primary":e(l).path===`/projects/${e(o)}/team`}])},"Your Team",2)]),_:1},8,["to"]),v(i,{to:`/projects/${e(o)}/payments`},{default:r(()=>[N("span",{class:C(["text-h6 me-8 inner-badge-text",{"text-primary":e(l).path===`/projects/${e(o)}/payments`}])},"Payments",2)]),_:1},8,["to"])])):j("",!0),v(xe),e(b)?(s(),w("span",ze,[e(n).isAdmin||e(n).isManager?(s(),w("span",Ye,[v(i,{to:`/projects/${e(o)}/bucks`},{default:r(()=>{var $;return[A(" Darby Bucks "),N("span",Ue,"$"+P(($=e(y))==null?void 0:$.bucks_share_amount),1)]}),_:1},8,["to"])])):(s(),w("span",Je,[v(i,{to:`/projects/${e(o)}/bucks?tab=manage-bucks`},{default:r(()=>{var $;return[A(" Earned Bucks "),N("span",Ke,"$"+P(($=e(y))==null?void 0:$.bucks_earnings),1)]}),_:1},8,["to"])]))])):j("",!0),v(Ve,{class:"me-2"}),v(we)])]),default:r(()=>[v(m,{ref_key:"refLoadingIndicator",ref:u},null,512),v(d,null,{default:r(({Component:L})=>[(s(),p($e,{timeout:0,onFallback:x[0]||(x[0]=$=>a.value=!0),onResolve:x[1]||(x[1]=$=>a.value=!1)},{default:r(()=>[(s(),p(h(L)))]),_:2},1024))]),_:1})]),_:1},8,["nav-items"])}}},it=H(Qe,[["__scopeId","data-v-de4f77c0"]]);export{it as default};
